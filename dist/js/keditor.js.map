{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///external \"jQuery\"","webpack:///./node_modules/jquery.fullscreen/release/jquery.fullscreen.min.js","webpack:///./src/keditor/constants/cssClass.js","webpack:///./src/keditor/constants/defaults.js","webpack:///./src/keditor/utils/generateId.js","webpack:///./src/keditor/utils/getDataAttributes.js","webpack:///./src/keditor/constants/icon.js","webpack:///./src/keditor/snippet/renderSnippet.js","webpack:///./src/keditor/snippet/renderSnippetFilter.js","webpack:///./src/keditor/utils/beautifyCategories.js","webpack:///./src/keditor/snippet/addSnippet.js","webpack:///./src/keditor/component/getComponentType.js","webpack:///./src/keditor/constants/settingCategory.js","webpack:///./src/keditor/sidebar/closeSidebar.js","webpack:///./src/keditor/sidebar/showSettingForm.js","webpack:///./src/keditor/sidebar/openSidebar.js","webpack:///./src/keditor/snippet/initSnippetsFilter.js","webpack:///./src/keditor/modal/closeModal.js","webpack:///./src/keditor/modal/closeSnippetModal.js","webpack:///./src/keditor/constants/actionType.js","webpack:///./src/keditor/constants/toolbarType.js","webpack:///./src/keditor/utils/generateToolbar.js","webpack:///./src/keditor/component/initDynamicContent.js","webpack:///./src/keditor/component/initComponent.js","webpack:///./src/keditor/modal/openModal.js","webpack:///./src/keditor/modal/openSnippetModal.js","webpack:///./src/keditor/container/convertToContainer.js","webpack:///./src/keditor/component/convertToComponent.js","webpack:///./src/keditor/utils/checkChildren.js","webpack:///./src/keditor/container/initContainer.js","webpack:///./src/keditor/container/initContainerContent.js","webpack:///./src/keditor/modal/initModal.js","webpack:///./src/keditor/modal/initSnippetsModal.js","webpack:///./src/keditor/snippet/renderSnippets.js","webpack:///./src/keditor/modal/initSnippetAction.js","webpack:///./src/keditor/modal/addSnippetToTarget.js","webpack:///./src/keditor/component/getComponentContent.js","webpack:///./src/keditor/container/getContainerContent.js","webpack:///./src/keditor/getContent.js","webpack:///./src/keditor/topbar/initTopbarRightActions.js","webpack:///./src/keditor/topbar/initPreviewAction.js","webpack:///./src/keditor/topbar/initFullscreenAction.js","webpack:///./src/keditor/topbar/initSaveAction.js","webpack:///./src/keditor/topbar/initTopbar.js","webpack:///./src/keditor/topbar/initDeviceSwitcher.js","webpack:///./src/keditor/utils/getClickedElement.js","webpack:///./src/keditor/constants/keyMap.js","webpack:///./src/keditor/utils/setCopyContent.js","webpack:///./src/keditor/component/deleteComponent.js","webpack:///./src/keditor/iframe/initIframeActions.js","webpack:///./src/keditor/iframe/initSelectAction.js","webpack:///./src/keditor/iframe/initKeyDownAction.js","webpack:///./src/keditor/iframe/initBtnAddContentAfterComponent.js","webpack:///./src/keditor/iframe/initBtnAddContentAfterContainer.js","webpack:///./src/keditor/iframe/initBtnComponentDelete.js","webpack:///./src/keditor/iframe/initBtnComponentDuplicate.js","webpack:///./src/keditor/iframe/initBtnComponentCopy.js","webpack:///./src/keditor/iframe/initBtnComponentCut.js","webpack:///./src/keditor/iframe/initBtnComponentMoveDown.js","webpack:///./src/keditor/iframe/initBtnComponentMoveUp.js","webpack:///./src/keditor/iframe/initBtnComponentSetting.js","webpack:///./src/keditor/iframe/initBtnContainerDelete.js","webpack:///./src/keditor/iframe/initBtnContainerDuplicate.js","webpack:///./src/keditor/iframe/initBtnContainerCopy.js","webpack:///./src/keditor/iframe/initBtnContainerCut.js","webpack:///./src/keditor/iframe/initBtnContainerMoveDown.js","webpack:///./src/keditor/iframe/initBtnContainerMoveUp.js","webpack:///./src/keditor/iframe/initBtnContainerSetting.js","webpack:///./src/keditor/contentArea/initContentArea.js","webpack:///./src/keditor/iframe/initIframe.js","webpack:///./src/keditor/contentArea/initContentAreas.js","webpack:///./src/keditor/init.js","webpack:///./src/keditor/sidebar/initSidebar.js","webpack:///./src/keditor/sidebar/initExtraSettings.js","webpack:///./src/keditor/destroy.js","webpack:///./src/keditor/index.js","webpack:///./src/keditor/utils/initIframeCover.js","webpack:///./src/keditor/setContent.js"],"names":["root","factory","exports","module","require","define","amd","a","i","self","this","__WEBPACK_EXTERNAL_MODULE__1__","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","undefined","jQuery","$","defined","extend","b","constructor","_super","native","document","SUBST","length","replace","e","VENDOR_PREFIXES","charAt","toUpperCase","substr","ANDROID_CHROME_VERSION","ua","navigator","userAgent","fsEnabled","parsedChromeUA","match","IS_ANDROID_CHROME","parseInt","IS_NATIVELY_SUPPORTED","version","fn","jquery","split","JQ_LT_17","FullScreenAbstract","__options","_fullScreenElement","__savedStyles","_DEFAULT_OPTIONS","styles","boxSizing","MozBoxSizing","WebkitBoxSizing","toggleClass","__documentOverflow","__htmlOverflow","_preventDocumentScroll","body","style","overflow","documentElement","is","css","_allowDocumentScroll","_fullScreenChange","isFullScreen","_triggerEvents","_revertStyles","_fullScreenError","trigger","_saveAndApplyStyles","addClass","removeClass","open","exit","isNativelySupported","FullScreenNative","apply","arguments","proxy","width","height","_prefixedString","map","join","noop","element","FullScreenFallback","position","zIndex","left","top","bottom","right","__delegateKeydownHandler","__isFullScreen","delegate","__keydownHandler","data","_data","events","keydown","live","unshift","pop","splice","delegateCount","which","offsetHeight","fullscreen","CSS_CLASS","UI","UI_DRAGGING","UI_HIDDEN","UI_CUTTING","SORTABLE","WRAPPER","BTN","BTN_GROUP","BTN_PRIMARY","BTN_DEFAULT","STATE_ACTIVE","STATE_OPENED","STATE_SHOWED","STATE_SELECTED","STATE_DUPLICATED","STATE_INITIALIZED","STATE_INITIALIZING","STATE_PREVIEWING","STATE_TOOLBAR_SHOWED","STATE_MODAL_OPENED","STATE_NOT_MATCHED","STATE_HAS_CHILDREN","STATE_HAS_FOOTER","STATE_COPYING","STATE_COPYING_COMPONENT","STATE_COPYING_CONTAINER","STATE_COPYING_SUB_CONTAINER","ADD_CONTENT","PASTE_CONTENT","SIDEBAR","SIDEBAR_HEADER","SIDEBAR_BODY","SIDEBAR_TITLE","SIDEBAR_CLOSER","TOPBAR","TOPBAR_LEFT","TOPBAR_CENTER","TOPBAR_RIGHT","TOPBAR_BUTTON","TOPBAR_TITLE","MODAL","MODAL_COMPONENT","MODAL_CONTAINER","MODAL_HEADER","MODAL_TITLE","MODAL_BODY","MODAL_FOOTER","MODAL_CLOSE","MODAL_ADD","SNIPPET","SNIPPET_INNER","SNIPPET_TITLE","SNIPPET_ADD","SNIPPET_PREVIEW","SNIPPET_CONTAINER","SNIPPET_COMPONENT","SNIPPETS","SNIPPETS_FILTER","SNIPPETS_FILTER_COMPONENT","SNIPPETS_FILTER_CONTAINER","SNIPPETS_FILTER_LABEL","SNIPPETS_SEARCH","SNIPPETS_FILTER_WRAPPER","SNIPPETS_COMPONENT","SNIPPETS_WRAPPER","TOOLBAR","TOOLBAR_BOTTOM","TOOLBAR_CONTENT_AREA","TOOLBAR_CONTAINER","TOOLBAR_CONTAINER_BOTTOM","TOOLBAR_CONTAINER_CONTENT","TOOLBAR_SUB_CONTAINER","TOOLBAR_SUB_CONTAINER_BOTTOM","TOOLBAR_COMPONENT","TOOLBAR_COMPONENT_BOTTOM","SETTING","SETTING_FORM","SETTING_FORM_LOADING","CONTENT_AREA","CONTENT_AREA_INNER","CONTENT_AREAS","CONTENT_AREAS_WRAPPER","IFRAME","IFRAME_BODY","IFRAME_WRAPPER","IFRAME_WIDTH_SWITCHER","IFRAME_COVER_WRAPPER","IFRAME_COVER_WRAPPER_FAKE","IFRAME_COVER","IFRAME_COVER_HIDDEN","COMPONENT","COMPONENT_MOVE","COMPONENT_MOVE_UP","COMPONENT_MOVE_DOWN","COMPONENT_SETTING","COMPONENT_DUPLICATE","COMPONENT_COPY","COMPONENT_CUT","COMPONENT_DELETE","COMPONENT_CONTENT","COMPONENT_EXISTING","CONTAINER","CONTAINER_MOVE","CONTAINER_MOVE_UP","CONTAINER_MOVE_DOWN","CONTAINER_DUPLICATE","CONTAINER_COPY","CONTAINER_CUT","CONTAINER_DELETE","CONTAINER_SETTING","CONTAINER_INNER","CONTAINER_CONTENT","CONTAINER_CONTENT_INNER","SUB_CONTAINER","SUB_CONTAINER_CONTENT","PREVIEW_AREA","defaults","title","nestedContainerEnabled","containerForQuickAddComponent","extraSettings","locale","viewOnMobile","viewOnTablet","viewOnLaptop","viewOnDesktop","previewOn","previewOff","fullscreenOn","fullscreenOff","save","addContent","addContentBelow","move","moveUp","moveDown","setting","copy","cut","paste","delete","containerSetting","confirmDeleteContainerText","confirmDeleteComponentText","widthMobile","widthTablet","widthLaptop","minWidthDesktop","defaultComponentType","snippetsUrl","snippetsCategoriesSeparator","contentStyles","contentAreasSelector","contentAreasWrapper","concat","containerSettingEnabled","containerSettingInitFunction","containerSettingShowFunction","containerSettingHideFunction","onReady","onSave","content","onSnippetsLoaded","resp","onSnippetsError","jqXHR","onInitIframe","iframe","iframeHead","iframeBody","onContentChanged","event","contentArea","onBeforeInitContentArea","onInitContentArea","onBeforeInitContainer","container","onInitContainer","onBeforeContainerDeleted","selectedContainer","onContainerDeleted","onContainerChanged","changedContainer","onContainerDuplicated","originalContainer","newContainer","onContainerSelected","onContainerSnippetAdded","selectedSnippet","onComponentReady","component","onBeforeInitComponent","onInitComponent","onBeforeComponentDeleted","selectedComponent","onComponentDeleted","onComponentChanged","changedComponent","onComponentDuplicated","originalComponent","newComponent","onComponentSelected","onComponentSnippetAdded","onBeforeDynamicContentLoad","dynamicElement","onDynamicContentLoaded","onDynamicContentError","utils_generateId","timestamp","Date","getTime","random","Math","round","utils_getDataAttributes","target","ignoreAttributes","isArray","dataAttributes","each","attributes","attr","indexOf","inArray","push","ICON","MOVE_CONTAINER","MOVE_COMPONENT","MOVE_UP_CONTAINER","MOVE_UP_COMPONENT","MOVE_DOWN_CONTAINER","MOVE_DOWN_COMPONENT","SETTING_CONTAINER","SETTING_COMPONENT","DUPLICATE_CONTAINER","DUPLICATE_COMPONENT","COPY_CONTAINER","COPY_COMPONENT","CUT_CONTAINER","CUT_COMPONENT","DELETE_CONTAINER","DELETE_COMPONENT","DEVICE_MOBILE","DEVICE_TABLET","DEVICE_LAPTOP","DEVICE_DESKTOP","PREVIEW_ON","PREVIEW_OFF","FULLSCREEN_ON","FULLSCREEN_OFF","SAVE","ADD","renderSnippet","type","previewUrl","categories","extraData","options","snippetId","generateId","snippetPreviewHtml","snippetContentHtml","categoryContainer","categoryComponent","renderSnippetFilter","modal","categoriesOptions","category","isDuplicateWithComponent","filterWrapper","find","replaceWith","beautifyCategories","newArray","sort","getComponentType","componentType","KEditor","components","error","SETTING_CATEGORY","EXTRA","closeSidebar","sidebar","activeForm","sidebarBody","children","activeType","componentData","hideSettingForm","settingComponent","settingContainer","showSettingForm","settingType","settingCategory","settingTitle","initFunction","showFunction","functionContext","sidebarTitle","settingForm","loadingText","html","append","when","done","setTimeout","remove","hasClass","openSidebar","_showSettingForm","_len","args","Array","_key","initSettingForm","extraKey","extraTabData","settingInitFunction","settingShowFunction","modal_closeModal","cssTransitionEnd","off","on","closeSnippetModal","modalTarget","modalTargetAction","val","closeModal","ACTION_TYPE","APPEND","AFTER","TOOLBAR_TYPE","CONTAINER_BOTTOM","SUB_CONTAINER_BOTTOM","COMPONENT_BOTTOM","generateToolbar","isConfigurable","settingBtn","initDynamicContent","closest","dynamicHref","getDataAttributes","param","ajax","url","dataType","success","response","status","textStatus","errorThrown","initComponent","settingEnabled","init","modal_openModal","openSnippetModal","actionType","showComponent","showContainer","openModal","convertToContainer","wrapInner","wrap","parent","initContainer","convertToComponent","isExisting","checkChildren","hasComponent","isNested","containerContent","parents","containerContentInner","containerContentToolbar","appendTo","preventDefault","sortable","handle","helper","items","connectWith","tolerance","receive","ui","item","start","stop","child","modal_initModal","modalId","hasFooter","disableOriginEvents","modalFooter","initSnippetsModal","initModal","snippetsContentHtml","snippetsHtml","filter","snippet","trim","_renderSnippet$call2","renderSnippets_slicedToArray","_renderSnippetFilter$2","initSnippetsFilter_slicedToArray","timer","txtSearch","cbbFilter","doFilter","selectedCategory","toLowerCase","searchText","snippets","dataCategoriesString","dataCategories","clearTimeout","click","mouseover","mouseout","targetAction","snippetType","snippetContentElement","snippetContent","isModalComponent","isModalContainer","isAddingContainer","isAddingComponent","isAddingComponentWithContainer","eq","getComponentContent","clonedComponent","clone","iframeWrapper","unwrap","getContent","getContainerContent","containerInner","not","removeAttr","keditor_getContent","result","initTopbarRightActions","btnPreview","previewArea","after","isPreviewOn","topbarRight","btnFullscreen","wrapper","btnSave","initTopbar","topbarId","topbar","topbarLeft","topbarCenter","iframeWidthSwitcher","btnMobile","btnTablet","btnLaptop","btnDesktop","getClickedElement","selector","KEY_MAP","ESC","setCopyContent","isCut","copyContent","cutContent","deleteComponent","destroy","initIframeActions","iframeDoc","keyCode","btn","confirm","nextComponent","next","prevComponent","prev","before","contentAreaInner","nextContainer","prevContainer","initContentArea","dontInitToolbar","contentAreaToolbar","axis","contentData","initIframe","wrapperId","contents","close","iframeWindow","contentWindow","contentDocument","defaultView","idStr","href","id","contentAreas","originalContent","empty","config","DEFAULTS","sidebarId","isPlainObject","_loop","extraSetting","instances","keditor_destroy","Error","window","KEDITOR_DEBUG","_classCallCheck","_defineProperty","console","log","message","cover","prepend","_slicedToArray","blank","keditor","instance","slice"],"mappings":";CAAA,SAAAA,EAAAC,GACA,oBAAAC,SAAA,iBAAAC,OACAA,OAAAD,QAAAD,EAAAG,QAAA,gBACA,sBAAAC,eAAAC,IACAD,OAAA,WAAAJ,OACA,CACA,IAAAM,EAAA,iBAAAL,QAAAD,EAAAG,QAAA,WAAAH,EAAAD,EAAA,QACA,QAAAQ,KAAAD,GAAA,iBAAAL,gBAAAF,GAAAQ,GAAAD,EAAAC,IAPA,CASC,oBAAAC,UAAAC,KAAA,SAAAC,GACD,mBCTA,IAAAC,EAAA,GAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAZ,QAGA,IAAAC,EAAAS,EAAAE,GAAA,CACAN,EAAAM,EACAC,GAAA,EACAb,QAAA,IAUA,OANAc,EAAAF,GAAAG,KAAAd,EAAAD,QAAAC,IAAAD,QAAAW,GAGAV,EAAAY,GAAA,EAGAZ,EAAAD,QA0DA,OArDAW,EAAAK,EAAAF,EAGAH,EAAAM,EAAAP,EAGAC,EAAAO,EAAA,SAAAlB,EAAAmB,EAAAC,GACAT,EAAAU,EAAArB,EAAAmB,IACAG,OAAAC,eAAAvB,EAAAmB,EAAA,CAA0CK,YAAA,EAAAC,IAAAL,KAK1CT,EAAAe,EAAA,SAAA1B,GACA,oBAAA2B,eAAAC,aACAN,OAAAC,eAAAvB,EAAA2B,OAAAC,YAAA,CAAwDC,MAAA,WAExDP,OAAAC,eAAAvB,EAAA,cAAiD6B,OAAA,KAQjDlB,EAAAmB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAAlB,EAAAkB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFAvB,EAAAe,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAAlB,EAAAO,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAtB,EAAA0B,EAAA,SAAApC,GACA,IAAAmB,EAAAnB,KAAA+B,WACA,WAA2B,OAAA/B,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAU,EAAAO,EAAAE,EAAA,IAAAA,GACAA,GAIAT,EAAAU,EAAA,SAAAiB,EAAAC,GAAsD,OAAAjB,OAAAkB,UAAAC,eAAA1B,KAAAuB,EAAAC,IAGtD5B,EAAA+B,EAAA,GAIA/B,IAAAgC,EAAA,oBClFA1C,EAAAD,QAAAS,qCCAA,IAAAmC,EAAAC,EAaED,EAAO,CAACjC,EAAA,SAEPmC,KAFgBD,EAAA,SAAEE,GACrB,OASC,SAAAC,GAED,SAAAC,EAAA5C,GAAoB,gBAAAA,EAA4B,SAAA6C,EAAA7C,EAAA8C,EAAAlC,GAAuB,IAAAC,EAAA,aAAmBA,EAAAsB,UAAAW,EAAAX,UAAAnC,EAAAmC,UAAA,IAAAtB,EAAAb,EAAAmC,UAAAY,YAAA/C,EAAA8C,EAAAX,UAAAY,YAAAD,EAAA9C,EAAAgD,OAAAF,EAAAX,UAAAvB,GAAA+B,EAAAE,OAAA7C,EAAAmC,UAAAvB,GAA8I,SAAAqC,EAAAjD,EAAA8C,GAAqB,IAAAlC,EAAM,iBAAAZ,IAAA8C,EAAA9C,IAAAkD,UAAqC,QAAArC,EAAA,EAAYA,EAAAsC,EAAAC,SAAevC,EAAA,CAAKiC,IAAAO,QAAAF,EAAAtC,GAAA,GAAAsC,EAAAtC,GAAA,IAAqC,QAAAyC,EAAA,EAAYA,EAAAC,EAAAH,SAAyBE,EAAA,GAAA1C,EAAA2C,EAAAD,GAAA1C,GAAA,IAAA0C,EAAAR,IAAAU,OAAA,GAAAC,cAAAX,EAAAY,OAAA,GAAAd,EAAA5C,EAAAY,IAAA,OAAAZ,EAAAY,IAAwG,IAAA+C,EAAAR,EAAA,gDAAAI,EAAA,6CAAAK,EAAAC,UAAAC,UAAAC,EAAAd,EAAA,qBAAAe,EAAAJ,EAAAK,MAAA,4BAAAC,IAAAF,EAAiTE,IAAAP,EAAAQ,SAAAH,EAAA,KAAwE,IAAAI,IAAAF,GAAAP,EAAA,KAAAf,EAAAK,EAAA,yBAAAL,EAAAmB,KAAA,IAAAA,GAAAM,EAAA1B,EAAA2B,GAAAC,OAAAC,MAAA,KAAAC,EAAAN,SAAAE,EAAA,OAAAF,SAAAE,EAAA,MAAAK,EAAA,WAA4QvE,KAAAwE,UAAA,KAAAxE,KAAAyE,mBAAA,KAAAzE,KAAA0E,cAAA,IAAwEH,EAAAvC,UAAA,CAA8Bc,SAAA6B,iBAAA,CAAgCC,OAAA,CAAQC,UAAA,aAAAC,aAAA,aAAAC,gBAAA,cAA8EC,YAAA,MAAkBC,mBAAA,GAAAC,eAAA,GAAAC,uBAAA,WAA2EnF,KAAAiF,mBAAAlC,SAAAqC,KAAAC,MAAAC,SAAAtF,KAAAkF,eAAAnC,SAAAwC,gBAAAF,MAAAC,SAAA9C,EAAAxC,KAAAyE,oBAAAe,GAAA,eAAAhD,EAAA,cAAAiD,IAAA,sBAAuMC,qBAAA,WAAiC3C,SAAAqC,KAAAC,MAAAC,SAAAtF,KAAAiF,mBAAAlC,SAAAwC,gBAAAF,MAAAC,SAAAtF,KAAAkF,gBAAiHS,kBAAA,WAA8B3F,KAAAwE,YAAAxE,KAAA4F,gBAAA5F,KAAAmF,yBAAAnF,KAAA6F,mBAAA7F,KAAA0F,uBAAA1F,KAAA8F,gBAAA9F,KAAA6F,iBAAA7F,KAAAyE,mBAAA,QAAkMsB,iBAAA,SAAAlG,GAA8BG,KAAAwE,YAAAxE,KAAA8F,gBAAA9F,KAAAyE,mBAAA,KAAA5E,GAAA2C,EAAAO,UAAAiD,QAAA,gBAAAnG,MAA+GgG,eAAA,WAA2BrD,EAAAxC,KAAAyE,oBAAAuB,QAAAhG,KAAA4F,eAAA,8BAAApD,EAAAO,UAAAiD,QAAA,iBAAAhG,KAAA4F,eAAA5F,KAAAyE,sBAAwKwB,oBAAA,WAAgC,IAAApG,EAAA2C,EAAAxC,KAAAyE,oBAAuD,QAAA9B,KAAtB3C,KAAA0E,cAAA,GAAsB1E,KAAAwE,UAAAI,OAAA5E,KAAA0E,cAAA/B,GAAA3C,KAAAyE,mBAAAY,MAAA1C,GAAA3C,KAAAyE,mBAAAY,MAAA1C,GAAA3C,KAAAwE,UAAAI,OAAAjC,GAAoJ9C,EAAA2F,GAAA,UAAAzC,SAAAwC,gBAAAF,MAAAC,SAAAtF,KAAAwE,UAAAI,OAAAU,UAAAtF,KAAAwE,UAAAQ,aAAAnF,EAAAqG,SAAAlG,KAAAwE,UAAAQ,cAA0Jc,cAAA,WAA0B,IAAAjG,EAAA2C,EAAAxC,KAAAyE,oBAAiC,QAAA9B,KAAA3C,KAAAwE,UAAAI,OAAA5E,KAAAyE,mBAAAY,MAAA1C,GAAA3C,KAAA0E,cAAA/B,GAA0F9C,EAAA2F,GAAA,UAAAzC,SAAAwC,gBAAAF,MAAAC,SAAAtF,KAAA0E,cAAAY,UAAAtF,KAAAwE,UAAAQ,aAAAnF,EAAAsG,YAAAnG,KAAAwE,UAAAQ,cAA0JoB,KAAA,SAAAvG,EAAA8C,GAAoB9C,IAAAG,KAAAyE,qBAAAzE,KAAA4F,gBAAA5F,KAAAqG,OAAArG,KAAAyE,mBAAA5E,EAAAG,KAAAwE,UAAAhC,EAAAE,QAAA,KAAsH1C,KAAA2E,iBAAAhC,GAAA3C,KAAAiG,wBAAsDI,KAAA,KAAAT,aAAA,KAAAU,oBAAA,WAA4D,OAAArC,IAA+B,IAAAsC,EAAA,WAAgCA,EAAA1D,OAAAD,YAAA4D,MAAAxG,KAAAyG,WAAAzG,KAAAqG,KAAA7D,EAAAkE,MAAA5D,EAAA,kBAAAC,UAAA/C,KAAA2E,iBAAAnC,EAAAE,QAAA,KAAmJ1C,KAAA2E,iBAAA,CAAwBC,OAAA,CAAQ+B,MAAA,OAAAC,OAAA,UAA4BpE,EAAAO,UAAAnB,KAAA5B,KAAA6G,gBAAA,0CAAArE,EAAAkE,MAAA1G,KAAA2F,kBAAA3F,OAAA4B,KAAA5B,KAAA6G,gBAAA,wCAAArE,EAAAkE,MAAA1G,KAAA+F,iBAAA/F,QAAgO0C,EAAA6D,EAAAhC,EAAA,CAA4CnB,gBAAA,wBAAAyD,gBAAA,SAAAhH,GAAoE,OAAA2C,EAAAsE,IAAA9G,KAAAoD,gBAAA,SAAAT,GAA8C,OAAAA,EAAA9C,IAAWkH,KAAA,MAAYX,KAAA,SAAAvG,EAAA8C,GAAoB4D,EAAA1D,OAAAuD,KAAAI,MAAAxG,KAAAyG,WAAmD,IAAAhG,EAAAqC,EAAAjD,EAAA,qBAAoCY,EAAAF,KAAAV,IAAUwG,KAAA7D,EAAAwE,KAAApB,aAAA,WAAqC,cAAA9C,EAAA,sBAA0CmE,QAAA,WAAoB,OAAAnE,EAAA,wBAAsC,IAAAoE,EAAA,WAAkCA,EAAArE,OAAAD,YAAA4D,MAAAxG,KAAAyG,WAAAzG,KAAA2E,iBAAAnC,EAAAE,OAAA,GAA6F1C,KAAA2E,iBAAA,CAAwBC,OAAA,CAAQuC,SAAA,QAAAC,OAAA,aAAAC,KAAA,EAAAC,IAAA,EAAAC,OAAA,EAAAC,MAAA,KAAoExH,KAAAyH,4BAAmC/E,EAAAwE,EAAA3C,EAAA,CAA8CmD,gBAAA,EAAAD,yBAAA,WAAsD,IAAA5H,EAAA2C,EAAAO,UAAkBlD,EAAA8H,SAAA,yBAAAnF,EAAAkE,MAAA1G,KAAA4H,iBAAA5H,OAAyE,IAAA2C,EAAA2B,EAAAzE,EAAAgI,KAAA,UAAArF,EAAAsF,MAAA/E,UAAAgF,OAAAtH,EAAAkC,EAAAqF,QAAqE1D,EAAA3B,EAAAsF,KAAAC,QAAAvF,EAAAsF,KAAAE,OAAA1H,EAAA2H,OAAA,IAAA3H,EAAA2H,OAAA3H,EAAA4H,cAAA,UAAqFT,iBAAA,SAAA/H,GAA8B,OAAAG,KAAA4F,gBAAA,KAAA/F,EAAAyI,QAAAtI,KAAAqG,QAAA,IAA2DP,cAAA,WAA0BoB,EAAArE,OAAAiD,cAAAU,MAAAxG,KAAAyG,WAAAzG,KAAAyE,mBAAA8D,cAAmGnC,KAAA,SAAAvG,GAAkBqH,EAAArE,OAAAuD,KAAAI,MAAAxG,KAAAyG,WAAAzG,KAAA0H,gBAAA,EAAA1H,KAAA2F,qBAAqGU,KAAA,WAAiBrG,KAAA0H,iBAAA1H,KAAA0H,gBAAA,EAAA1H,KAAA2F,sBAAuEC,aAAA,WAAyB,OAAA5F,KAAA0H,gBAA2BT,QAAA,WAAoB,OAAAjH,KAAA0H,eAAA1H,KAAAyE,mBAAA,QAAyDjC,EAAAgG,WAAAvE,EAAA,IAAAsC,EAAA,IAAAW,EAAA1E,EAAA2B,GAAAqE,WAAA,SAAA3I,GAA6G,IAAA8C,EAAA3C,KAAA,GAAc,OAAAH,EAAA2C,EAAAE,OAAA,CAAmBsC,YAAA,KAAAM,SAAA,UAAmCzF,IAAA+E,OAAA,CAAcU,SAAAzF,EAAAyF,iBAAoBzF,EAAAyF,SAAA3C,GAAAH,EAAAgG,WAAApC,KAAAzD,EAAA9C,GAAAG,MAX1+KT,CAAAgD,IACGiE,MAAAhH,EAAA4C,MAAA3C,EAAAD,QAAA6C,mECyHYoG,EAxIG,CACdC,GAAI,aACJC,YAAa,sBACbC,UAAW,oBACXC,WAAY,qBAEZC,SAAU,cAEVC,QAAS,kBAETC,IAAK,cACLC,UAAW,oBACXC,YAAa,sBACbC,YAAa,sBAEbC,aAAc,SACdC,aAAc,SACdC,aAAc,SACdC,eAAgB,WAChBC,iBAAkB,aAClBC,kBAAmB,cACnBC,mBAAoB,eACpBC,iBAAkB,aAClBC,qBAAsB,yBACtBC,mBAAoB,eACpBC,kBAAmB,cACnBC,mBAAoB,eACpBC,iBAAkB,aAClBC,cAAe,UACfC,wBAAyB,oBACzBC,wBAAyB,oBACzBC,4BAA6B,wBAE7BC,YAAa,kBACbC,cAAe,oBAEfC,QAAS,kBACTC,eAAgB,yBAChBC,aAAc,uBACdC,cAAe,wBACfC,eAAgB,yBAEhBC,OAAQ,iBACRC,YAAa,sBACbC,cAAe,wBACfC,aAAc,uBACdC,cAAe,qBACfC,aAAc,uBAEdC,MAAO,gBACPC,gBAAiB,0BACjBC,gBAAiB,0BACjBC,aAAc,uBACdC,YAAa,sBACbC,WAAY,qBACZC,aAAc,uBACdC,YAAa,sBACbC,UAAW,oBAEXC,QAAS,kBACTC,cAAe,wBACfC,cAAe,wBACfC,YAAa,sBACbC,gBAAiB,0BACjBC,kBAAmB,4BACnBC,kBAAmB,4BACnBC,SAAU,mBACVC,gBAAiB,0BACjBC,0BAA2B,oCAC3BC,0BAA2B,oCAC3BC,sBAAuB,gCACvBC,gBAAiB,0BACjBC,wBAAyB,kCACzBC,mBAAoB,6BACpBC,iBAAkB,2BAElBC,QAAS,kBACTC,eAAgB,yBAChBC,qBAAsB,+BACtBC,kBAAmB,4BACnBC,yBAA0B,mCAC1BC,0BAA2B,oCAC3BC,sBAAuB,gCACvBC,6BAA8B,uCAC9BC,kBAAmB,4BACnBC,yBAA0B,mCAE1BC,QAAS,kBACTC,aAAc,uBACdC,qBAAsB,+BAEtBC,aAAc,uBACdC,mBAAoB,6BACpBC,cAAe,wBACfC,sBAAuB,gCAEvBC,OAAQ,iBACRC,YAAa,sBACbC,eAAgB,yBAChBC,sBAAuB,gCACvBC,qBAAsB,+BACtBC,0BAA2B,oCAC3BC,aAAc,uBACdC,oBAAqB,eAErBC,UAAW,oBACXC,eAAgB,qBAChBC,kBAAmB,wBACnBC,oBAAqB,0BACrBC,kBAAmB,wBACnBC,oBAAqB,0BACrBC,eAAgB,qBAChBC,cAAe,oBACfC,iBAAkB,uBAClBC,kBAAmB,4BACnBC,mBAAoB,qBAEpBC,UAAW,oBACXC,eAAgB,qBAChBC,kBAAmB,wBACnBC,oBAAqB,0BACrBC,oBAAqB,0BACrBC,eAAgB,qBAChBC,cAAe,oBACfC,iBAAkB,uBAClBC,kBAAmB,wBACnBC,gBAAiB,0BACjBC,kBAAmB,4BACnBC,wBAAyB,kCAEzBC,cAAe,wBACfC,sBAAuB,gCAEvBC,aAAc,wBCnIHC,EAAA,CAMXC,MAAO,uBAMPC,wBAAwB,EAMxBC,8BAA6B,2IAkD7BC,cAAe,KAEfC,OAAQ,CAKJC,aAAc,iBACdC,aAAc,iBACdC,aAAc,iBACdC,cAAe,kBAMfC,UAAW,aACXC,WAAY,cAMZC,aAAc,gBACdC,cAAe,iBAMfC,KAAM,OAMNC,WAAY,cAMZC,gBAAiB,oBAMjBC,KAAM,OAMNC,OAAQ,UAMRC,SAAU,YAMVC,QAAS,UAMTC,KAAM,OAMNC,IAAK,MAMLC,MAAO,QAMPC,OAAQ,SAMRC,iBAAkB,qBAMlBC,2BAA4B,sFAM5BC,2BAA4B,uFAOhCC,YAAa,IAMbC,YAAa,IAMbC,YAAa,KAMbC,gBAAiB,KAOjBC,qBAAsB,QAMtBC,YAAa,yBAMbC,4BAA6B,IAc7BC,cAAe,GAMfC,qBAAsB,KAMtBC,oBAAmB,eAAAC,OAAiB3J,EAAUC,GAA3B,KAAA0J,OAAiC3J,EAAUkF,sBAA3C,YAMnB0E,yBAAyB,EAQzBC,6BAA8B,KAS9BC,6BAA8B,KAQ9BC,6BAA8B,KAM9BC,QAAS,aAQTC,OAAQ,SAAUC,KASlBC,iBAAkB,SAAUC,KAS5BC,gBAAiB,SAAUC,KAW3BC,aAAc,SAAUC,EAAQC,EAAYC,KAS5CC,iBAAkB,SAAUC,EAAOC,KAQnCC,wBAAyB,SAAUD,KAQnCE,kBAAmB,SAAUF,KAS7BG,sBAAuB,SAAUC,EAAWJ,KAS5CK,gBAAiB,SAAUD,EAAWJ,KAUtCM,yBAA0B,SAAUP,EAAOQ,EAAmBP,KAU9DQ,mBAAoB,SAAUT,EAAOQ,EAAmBP,KAUxDS,mBAAoB,SAAUV,EAAOW,EAAkBV,KAWvDW,sBAAuB,SAAUZ,EAAOa,EAAmBC,EAAcb,KAUzEc,oBAAqB,SAAUf,EAAOQ,EAAmBP,KAWzDe,wBAAyB,SAAUhB,EAAOc,EAAcG,EAAiBhB,KAQzEiB,iBAAkB,SAAUC,KAS5BC,sBAAuB,SAAUD,EAAWlB,KAS5CoB,gBAAiB,SAAUF,EAAWlB,KAUtCqB,yBAA0B,SAAUtB,EAAOuB,EAAmBtB,KAU9DuB,mBAAoB,SAAUxB,EAAOuB,EAAmBtB,KAUxDwB,mBAAoB,SAAUzB,EAAO0B,EAAkBzB,KAWvD0B,sBAAuB,SAAU3B,EAAO4B,EAAmBC,EAAc5B,KAUzE6B,oBAAqB,SAAU9B,EAAOuB,EAAmBtB,KAWzD8B,wBAAyB,SAAU/B,EAAO6B,EAAcZ,EAAiBhB,KAUzE+B,2BAA4B,SAAUC,EAAgBd,EAAWlB,KAUjEiC,uBAAwB,SAAUD,EAAgBvC,EAAOO,KAUzDkC,sBAAuB,SAAUF,EAAgBvC,EAAOO,MCjiB7CmC,EAAA,WACX,IAAIC,GAAa,IAAIC,MAAQC,UACzBC,EAASC,KAAKC,MAAsB,WAAhBD,KAAKD,UAC7B,oBAAAzD,OAAqBsD,GAArBtD,OAAiCyD,ICHtBG,EAAA,SAAUC,EAAQC,EAAkBC,GAC/C,IAAIC,EAAiBD,EAAU,GAAK,GAepC,OAdKD,IACDA,EAAmB,IAGvB1T,EAAE6T,KAAKJ,EAAOhV,IAAI,GAAGqV,WAAY,SAAUxW,EAAGyW,GACP,IAA/BA,EAAK5V,KAAK6V,QAAQ,WAA8D,IAA5ChU,EAAEiU,QAAQF,EAAK5V,KAAMuV,KACrDC,EACAC,EAAeM,KAAf,GAAAtE,OAAuBmE,EAAK5V,KAA5B,MAAAyR,OAAqCmE,EAAKlV,MAA1C,MAEA+U,EAAeG,EAAK5V,MAAQ4V,EAAKlV,SAKtC+U,GC4BIO,EA5CF,CACTtM,YAAa,6BACbC,cAAe,8BAEfsM,eAAgB,iCAChBC,eAAgB,+BAEhBC,kBAAmB,mCACnBC,kBAAmB,mCAEnBC,oBAAqB,qCACrBC,oBAAqB,qCAErBC,kBAAmB,4BACnBC,kBAAmB,4BAEnBC,oBAAqB,gCACrBC,oBAAqB,gCAErBC,eAAgB,gCAChBC,eAAgB,gCAEhBC,cAAe,4BACfC,cAAe,4BAEfC,iBAAkB,gCAClBC,iBAAkB,gCAElBC,cAAe,qCACfC,cAAe,qCACfC,cAAe,qCACfC,eAAgB,sCAEhBC,WAAY,kCACZC,YAAa,wCAEbC,cAAe,uCACfC,eAAgB,qCAEhBC,KAAM,mCAENC,IAAK,8BCrCMC,EAAA,SAAUC,EAAMxI,EAAOyI,EAAYC,EAAY9F,EAAS+F,GACnE,IACIC,EADO3Y,KACQ2Y,QACfC,EAAYC,IACZC,EAAkB,0CAAA1G,OAEL3J,EAAUC,GAFL,KAAA0J,OAEW3J,EAAUkD,QAFrB,KAAAyG,OAEyC,cAATmG,EAAuB9P,EAAUuD,kBAAoBvD,EAAUwD,kBAF/F,kCAAAmG,OAGGwG,EAHH,8BAAAxG,OAIDmG,EAJC,uCAAAnG,OAKQrC,EALR,4CAAAqC,OAMaqG,EANb,2CAAArG,OAQC3J,EAAUmD,cARX,qCAAAwG,OASK3J,EAAUsD,gBATf,qCAAAqG,OASiEoG,EATjE,+CAAApG,OAUK3J,EAAUoD,cAVf,aAAAuG,OAUwCrC,EAVxC,MAAAqC,OAUkDrC,EAVlD,0CAAAqC,OAWK3J,EAAUqD,YAXf,KAAAsG,OAW8B3J,EAAUO,IAXxC,KAAAoJ,OAW+C3J,EAAUS,YAXzD,aAAAkJ,OAWgFrC,EAXhF,MAAAqC,OAW0FuE,EAAK0B,IAX/F,8DAelBU,EAAkB,eAAA3G,OAAkBwG,EAAlB,uBAAAxG,OAAiDsG,EAAU3R,KAAK,KAAhE,KAAAqL,OAAwEO,EAAxE,cAUtB,OARA8F,EAAaA,EAAWpU,MAAMsU,EAAQ3G,6BAEzB,cAATuG,EAtBOvY,KAuBFgZ,kBAvBEhZ,KAuBuBgZ,kBAAkB5G,OAAOqG,IACjB,IAA/BF,EAAK/B,QAAQ,eAxBbxW,KAyBFiZ,kBAzBEjZ,KAyBuBiZ,kBAAkB7G,OAAOqG,IAGpD,CACHK,EACAC,ICjCOG,EAAA,WACX,IAAInZ,EAAOC,KACPmZ,EAAQpZ,EAAKoZ,MAEbC,EAAiB,oDACrB5W,EAAE6T,KAAKtW,EAAKkZ,kBAAmB,SAAUnZ,EAAGuZ,GACxCD,GAAiB,kBAAAhH,OAAsBiH,EAAtB,aAAAjH,OAA0C3J,EAAU2D,0BAApD,MAAAgG,OAAkFiH,EAAlF,eAErB7W,EAAE6T,KAAKtW,EAAKiZ,kBAAmB,SAAUlZ,EAAGuZ,GACxC,IAAIC,GAA4E,IAAjD9W,EAAEiU,QAAQ4C,EAAUtZ,EAAKkZ,mBACxDG,GAAiB,kBAAAhH,OAAsBiH,EAAtB,aAAAjH,OAA0C3J,EAAU4D,0BAApD,KAAA+F,OAAiFkH,EAA2B7Q,EAAUe,iBAAmB,GAAzI,MAAA4I,OAAgJiH,EAAhJ,eAGrB,IAAIE,EAAgBJ,EAAMK,KAAN,IAAApH,OAAe3J,EAAU+D,0BAM7C,OAL6B,IAAzB+M,EAActW,SACdsW,EAAgB/W,EAAC,eAAA4P,OAAgB3J,EAAUC,GAA1B,KAAA0J,OAAgC3J,EAAU+D,wBAA1C,aACjB2M,EAAMK,KAAN,IAAApH,OAAe3J,EAAU6C,cAAemO,YAAYF,IAGjD,CACHH,EACAG,ICvBOG,EAAA,SAAUjB,GAErB,IADA,IAAIkB,EAAW,GACN7Z,EAAI,EAAGA,EAAI2Y,EAAWxV,OAAQnD,IAAK,CACxC,IAAIuZ,EAAWZ,EAAW3Y,IAAM,GAEf,KAAbuZ,IAAsD,IAAnC7W,EAAEiU,QAAQ4C,EAAUM,IACvCA,EAASjD,KAAK2C,GAItB,OAAOM,EAASC,0ZCLL,ICLAC,EAAA,SAAUrF,GACrB,IACImE,EADO3Y,KACQ2Y,QAEfmB,GAAiBtF,EAAU+B,KAAK,cAAgB,IAAIrT,QAAQ,aAAc,IAC9E,OAAI4W,GAAkBA,KAAiBC,QAAQC,WACpCF,GAEqC,iBAAjCnB,EAAQ7G,qBACfgI,EAAgBnB,EAAQ7G,qBACuB,mBAAjC6G,EAAQ7G,uBACtBgI,EAAgBnB,EAAQ7G,qBAAqBvR,KAV1CP,KAUqDwU,IAGvDsF,GAbE9Z,KAcEia,MAAM,gCAGRH,ICZAI,EANU,CACrB9L,UAAW,YACXW,UAAW,YACXoL,MAAO,SCAIC,EAAA,WACX,IACIzB,EADO3Y,KACQ2Y,QACf0B,EAFOra,KAEQqa,QACfC,EAHOta,KAGWua,YAAYC,SAAjB,IAAApI,OAA8B3J,EAAUW,eAEzD,GAAIkR,EAAWrX,OAAS,EAAG,CACvB,OAAQqX,EAAW/D,KAAK,4BACpB,KAAK2D,EAAiBnL,UACkC,mBAAzC4J,EAAQnG,8BACfmG,EAAQnG,6BAA6BjS,KAT1CP,KASqDsa,EATrDta,MAWC,MAEJ,KAAKka,EAAiB9L,UAClB,IAAIqM,EAAaH,EAAW/D,KAAK,aAC7BmE,EAAgBX,QAAQC,WAAWS,GAEM,mBAAlCC,EAAcC,iBACrBD,EAAcC,gBAAgBpa,KAAKma,EAAeJ,EAlBvDta,MA8BPsa,EAAWnU,YAAYsC,EAAUW,cA9B1BpJ,KAiCN4a,iBAAmB,KAjCb5a,KAkCN6a,iBAAmB,KACxBR,EAAQlU,YAAYsC,EAAUY,eCnCnByR,EAAA,SAAU7E,EAAQ8E,EAAaC,EAAiBC,EAAcC,EAAcC,EAAcC,GACrG,IAAIrb,EAAOC,KACPqa,EAAUta,EAAKsa,QACfgB,EAAetb,EAAKsb,aACpBd,EAAcxa,EAAKwa,YAEnBe,EAAcf,EAAYC,SAAZ,IAAApI,OAAyB3J,EAAU6E,aAAnC,wBAAA8E,OAAsE2I,EAAtE,8BAAA3I,OAA8G4I,EAA9G,OAClB,GAA2B,IAAvBM,EAAYrY,QACZ,GAA4B,mBAAjBiY,EAA6B,CACpCI,EAAc9Y,EAAC,kEAAA4P,OAEc2I,EAFd,kDAAA3I,OAGkB4I,EAHlB,kCAAA5I,OAIE3J,EAAUC,GAJZ,KAAA0J,OAIkB3J,EAAU6E,aAJ5B,6CAOf,IAAIiO,EAAc/Y,EAAC,gBAAA4P,OAAiB3J,EAAU8E,qBAA3B,SAAuDiO,KAAK,cAC/EjB,EAAYkB,OAAOH,GACnBA,EAAYG,OAAOF,GAEnB/Y,EAAEkZ,KAAKR,EAAa3a,KAAK6a,EAAiBE,EAAavb,IAAO4b,KAAK,WAC/DC,WAAW,WACPL,EAAYM,SAEgB,mBAAjBV,GACPA,EAAa5a,KAAK6a,EAAiBE,EAAarF,EAAQlW,IAE7D,YAGR,CACH,GAAIub,EAAYQ,SAASrT,EAAUW,gBAAkB6M,EAAOzQ,GAAGzF,EAAK8a,mBAAqB5E,EAAOzQ,GAAGzF,EAAK6a,mBAEpG,YADAR,EAAa7Z,KAAKR,GAGU,mBAAjBob,GACPA,EAAa5a,KAAK6a,EAAiBE,EAAarF,EAAQlW,GAQpE,OAHAA,EAAK6a,iBAAmB,KACxB7a,EAAK8a,iBAAmB,KAEhBG,GACJ,KAAKd,EAAiB9L,UAClBrO,EAAK6a,iBAAmB3E,EACxB,MAEJ,KAAKiE,EAAiBnL,UAClBhP,EAAK8a,iBAAmB5E,EAOhCsE,EAAYC,SAAZ,IAAApI,OAAyB3J,EAAUW,eAAgBjD,YAAYsC,EAAUW,cACzEiS,EAAaG,KAAKP,GAClBK,EAAYpV,SAASuC,EAAUW,cAC/BiR,EAAQnU,SAASuC,EAAUY,eC3DhB0S,EAAA,SAAU9F,GACrB,IAAIlW,EAAOC,KACP2Y,EAAU5Y,EAAK4Y,QACfqD,EAAmB,mBAAAC,EAAAxV,UAAAxD,OAAIiZ,EAAJ,IAAAC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAIF,EAAJE,GAAA3V,UAAA2V,GAAA,OAAatB,EAAgBva,KAAhBiG,MAAAsU,EAAe,CAAM/a,GAANqS,OAAe8J,KAElE,GAAIjG,EAAOzQ,GAAP,IAAA4M,OAAc3J,EAAU2F,YAAc,CACtC,IAAI0L,EAAgBD,EAAiBtZ,KAAKR,EAAMkW,GAC5CyE,EAAgBX,QAAQC,WAAWF,GAEvCkC,EAAiB/F,EAAQ6D,EAAeI,EAAiB9L,UAAWsM,EAAcO,aAAcP,EAAc2B,gBAAiB3B,EAAcI,gBAAiBJ,QAC3J,GAAIzE,EAAOzQ,GAAP,IAAA4M,OAAc3J,EAAUsG,YAC/BiN,EAAiB/F,EAAQ,KAAMiE,EAAiBnL,UAAW4J,EAAQxI,OAAOoB,iBAAkBoH,EAAQrG,6BAA8BqG,EAAQpG,6BAA8BxS,OACrK,CACH,IAAIuc,EAAWrG,EAAOM,KAAK,sBACvBgG,EAAe5D,EAAQzI,cAAcoM,GACzCN,EAAiB/F,EAAQqG,EAAUpC,EAAiBC,MAAOoC,EAAaxM,MAAOwM,EAAaC,oBAAqBD,EAAaE,oBAAqBF,yyBCjB5I,ICDAG,EAAA,SAAUvD,GACrB,IAAIwD,EAAmB,kFAEvBxD,EAAMyD,IAAID,GAAkBE,GAAGF,EAAkB,WACxCxD,EAAM2C,SAASrT,EAAUa,gBAC1B6P,EAAM1T,IAAI,UAAW,QACrBjD,EAAEO,SAASqC,MAAMe,YAAYsC,EAAUoB,uBAI/CsP,EAAMhT,YAAYsC,EAAUa,eCTjBwT,EAAA,WACX,IACI3D,EADOnZ,KACMmZ,MADNnZ,KAGN+c,YAAc,KAHR/c,KAINgd,kBAAoB,KACzB7D,EAAMK,KAAN,IAAApH,OAAe3J,EAAUc,iBAAkBpD,YAAYsC,EAAUc,gBACjE4P,EAAMK,KAAN,IAAApH,OAAe3J,EAAUqB,oBAAqB3D,YAAYsC,EAAUqB,mBACpEqP,EAAMK,KAAN,IAAApH,OAAe3J,EAAU0D,kBAAmB8Q,IAAI,IAChD9D,EAAMhT,YAAYsC,EAAU0C,iBAC5BgO,EAAMhT,YAAYsC,EAAU2C,iBAE5B8R,EAAW3c,KAXAP,KAWWmZ,ICVXgE,EALK,CAChBC,OAAQ,SACRC,MAAO,SCaIC,EAfM,CACjB9P,aAAc,IAEduB,UAAW,IACXU,kBAAmB,KACnB8N,iBAAkB,KAElB5N,cAAe,IACf6N,qBAAsB,KACtB5N,sBAAuB,KAEvBxB,UAAW,IACXqP,iBAAkB,MCRPC,EAAA,SAAUnF,EAAMoF,GAC3B,IACIhF,EADO3Y,KACQ2Y,QACfiF,EAAa,GAEjB,OAAQrF,GACJ,KAAK+E,EAAavO,UAClB,KAAKuO,EAAa3N,cAKd,OAJIgO,IACAC,EAAU,wCAAAxL,OAA2C3J,EAAUC,GAArD,KAAA0J,OAA2D3J,EAAU8G,kBAArE,aAAA6C,OAAkGuG,EAAQxI,OAAOe,QAAjH,MAAAkB,OAA6HuE,EAAKO,kBAAlI,SAGd,iCAAA9E,OACkB3J,EAAUC,GAD5B,KAAA0J,OACkC3J,EAAUkE,QAD5C,KAAAyF,OACuD3J,EAAUqE,kBADjE,KAAAsF,OACsFmG,IAAS+E,EAAa3N,cAAgBlH,EAAUwE,sBAAwB,GAD9J,iEAAAmF,OAE+C3J,EAAUC,GAFzD,KAAA0J,OAE+D3J,EAAUuG,eAFzE,aAAAoD,OAEmGuG,EAAQxI,OAAOY,KAFlH,MAAAqB,OAE2HuE,EAAKC,eAFhI,mEAAAxE,OAG+C3J,EAAUC,GAHzD,KAAA0J,OAG+D3J,EAAUwG,kBAHzE,aAAAmD,OAGsGuG,EAAQxI,OAAOa,OAHrH,MAAAoB,OAGgIuE,EAAKG,kBAHrI,mEAAA1E,OAI+C3J,EAAUC,GAJzD,KAAA0J,OAI+D3J,EAAUyG,oBAJzE,aAAAkD,OAIwGuG,EAAQxI,OAAOc,SAJvH,MAAAmB,OAIoIuE,EAAKK,oBAJzI,8BAAA5E,OAKUwL,EALV,+DAAAxL,OAM+C3J,EAAUC,GANzD,KAAA0J,OAM+D3J,EAAU4G,cANzE,aAAA+C,OAMkGuG,EAAQxI,OAAOiB,IANjH,MAAAgB,OAMyHuE,EAAKa,cAN9H,mEAAApF,OAO+C3J,EAAUC,GAPzD,KAAA0J,OAO+D3J,EAAU2G,eAPzE,aAAAgD,OAOmGuG,EAAQxI,OAAOgB,KAPlH,MAAAiB,OAO2HuE,EAAKW,eAPhI,kEAAAlF,OAQ8C3J,EAAUC,GARxD,KAAA0J,OAQ8D3J,EAAU6B,cARxE,aAAA8H,OAQiGuG,EAAQxI,OAAOkB,MARhH,MAAAe,OAQ0HuE,EAAKrM,cAR/H,mEAAA8H,OAS+C3J,EAAUC,GATzD,KAAA0J,OAS+D3J,EAAU6G,iBATzE,aAAA8C,OASqGuG,EAAQxI,OAAR,OATrG,MAAAiC,OAS+HuE,EAAKe,iBATpI,8CAaJ,KAAK4F,EAAalP,UAKd,OAJIuP,IACAC,EAAU,wCAAAxL,OAA2C3J,EAAUC,GAArD,KAAA0J,OAA2D3J,EAAU+F,kBAArE,aAAA4D,OAAkGuG,EAAQxI,OAAOe,QAAjH,MAAAkB,OAA6HuE,EAAKQ,kBAAlI,SAGd,iCAAA/E,OACkB3J,EAAUC,GAD5B,KAAA0J,OACkC3J,EAAUkE,QAD5C,KAAAyF,OACuD3J,EAAU0E,kBADjE,iEAAAiF,OAE+C3J,EAAUC,GAFzD,KAAA0J,OAE+D3J,EAAU4F,eAFzE,aAAA+D,OAEmGuG,EAAQxI,OAAOY,KAFlH,MAAAqB,OAE2HuE,EAAKE,eAFhI,mEAAAzE,OAG+C3J,EAAUC,GAHzD,KAAA0J,OAG+D3J,EAAU6F,kBAHzE,aAAA8D,OAGsGuG,EAAQxI,OAAOa,OAHrH,MAAAoB,OAGgIuE,EAAKI,kBAHrI,mEAAA3E,OAI+C3J,EAAUC,GAJzD,KAAA0J,OAI+D3J,EAAU8F,oBAJzE,aAAA6D,OAIwGuG,EAAQxI,OAAOc,SAJvH,MAAAmB,OAIoIuE,EAAKM,oBAJzI,8BAAA7E,OAKUwL,EALV,+DAAAxL,OAM+C3J,EAAUC,GANzD,KAAA0J,OAM+D3J,EAAUkG,cANzE,aAAAyD,OAMkGuG,EAAQxI,OAAOiB,IANjH,MAAAgB,OAMyHuE,EAAKc,cAN9H,mEAAArF,OAO+C3J,EAAUC,GAPzD,KAAA0J,OAO+D3J,EAAUiG,eAPzE,aAAA0D,OAOmGuG,EAAQxI,OAAOgB,KAPlH,MAAAiB,OAO2HuE,EAAKY,eAPhI,mEAAAnF,OAQ+C3J,EAAUC,GARzD,KAAA0J,OAQ+D3J,EAAUmG,iBARzE,aAAAwD,OAQqGuG,EAAQxI,OAAR,OARrG,MAAAiC,OAQ+HuE,EAAKgB,iBARpI,8CAYJ,KAAK2F,EAAa9P,aACd,uCAAA4E,OACkB3J,EAAUC,GAD5B,KAAA0J,OACkC3J,EAAUoE,qBAD5C,gEAAAuF,OAE8C3J,EAAUC,GAFxD,KAAA0J,OAE8D3J,EAAUO,IAFxE,KAAAoJ,OAE+E3J,EAAUU,YAFzF,KAAAiJ,OAEwG3J,EAAU4B,YAFlH,aAAA+H,OAEyIuG,EAAQxI,OAAOU,WAFxJ,MAAAuB,OAEuKuE,EAAKtM,YAF5K,8CAMJ,KAAKiT,EAAa7N,kBAClB,KAAK6N,EAAa1N,sBACd,uCAAAwC,OACkB3J,EAAUC,GAD5B,KAAA0J,OACkC3J,EAAUuE,0BAD5C,gEAAAoF,OAE8C3J,EAAUC,GAFxD,KAAA0J,OAE8D3J,EAAUO,IAFxE,KAAAoJ,OAE+E3J,EAAUU,YAFzF,KAAAiJ,OAEwG3J,EAAU4B,YAFlH,aAAA+H,OAEyIuG,EAAQxI,OAAOU,WAFxJ,MAAAuB,OAEuKuE,EAAKtM,YAF5K,8CAMJ,KAAKiT,EAAaC,iBAClB,KAAKD,EAAaE,qBACd,uCAAApL,OACkB3J,EAAUC,GAD5B,KAAA0J,OACkC3J,EAAUkE,QAD5C,KAAAyF,OACuD3J,EAAUmE,eADjE,KAAAwF,OACmF3J,EAAUsE,yBAD7F,KAAAqF,OACyHmG,IAAS+E,EAAaE,qBAAuB/U,EAAUyE,6BAA+B,GAD/M,gEAAAkF,OAE8C3J,EAAUC,GAFxD,KAAA0J,OAE8D3J,EAAU4B,YAFxE,aAAA+H,OAE+FuG,EAAQxI,OAAOW,gBAF9G,MAAAsB,OAEkIuE,EAAKtM,YAFvI,8CAMJ,KAAKiT,EAAaG,iBACd,uCAAArL,OACkB3J,EAAUC,GAD5B,KAAA0J,OACkC3J,EAAUkE,QAD5C,KAAAyF,OACuD3J,EAAUmE,eADjE,KAAAwF,OACmF3J,EAAU2E,yBAD7F,gEAAAgF,OAE8C3J,EAAUC,GAFxD,KAAA0J,OAE8D3J,EAAU4B,YAFxE,aAAA+H,OAE+FuG,EAAQxI,OAAOW,gBAF9G,MAAAsB,OAEkIuE,EAAKtM,YAFvI,gDClEGwT,EAAA,SAAUvI,GACrB,IAAIvV,EAAOC,KACP2Y,EAAU5Y,EAAK4Y,QACfnE,EAAYc,EAAewI,QAAQ,0BACnCxK,EAAcgC,EAAewI,QAAf,IAAA1L,OAA2B3J,EAAU+E,eAEvD8H,EAAeiB,KAAK,KAAMsC,KAEwB,mBAAvCF,EAAQtD,4BACfsD,EAAQtD,2BAA2B9U,KAAKR,EAAMuV,EAAgBd,EAAWlB,GAG7E,IAAIyK,EAAczI,EAAeiB,KAAK,qBAClC1O,EAAOmW,EAAkBxJ,EAAW,CAAC,YAAa,sBAAsB,GAG5E,OAFA3M,EAAOrF,EAAEyb,MAAMpW,GAERrF,EAAE0b,KAAK,CACVC,IAAKJ,EACLlW,KAAMA,EACN0Q,KAAM,MACN6F,SAAU,OACVC,QAAS,SAAUC,EAAUC,EAAQxL,GACjCuC,EAAekG,KAAK8C,GAE0B,mBAAnC3F,EAAQpD,wBACfoD,EAAQpD,uBAAuBhV,KAAKR,EAAMuV,EAAgBvC,EAAOO,IAGzE2G,MAAO,SAAUlH,EAAOyL,EAAYC,GACa,mBAAlC9F,EAAQnD,uBACfmD,EAAQnD,sBAAsBjV,KAAKR,EAAMuV,EAAgBvC,EAAOO,OC3BjEoL,EAAA,SAAUpL,EAAaI,EAAWc,GAC7C,IAAIzU,EAAOC,KACP2Y,EAAU5Y,EAAK4Y,QAEnB,IAAKnE,EAAUsH,SAASrT,EAAUgB,qBAAuB+K,EAAUsH,SAASrT,EAAUiB,oBAAqB,CACvG8K,EAAUtO,SAASuC,EAAUiB,oBAC7B8K,EAAU+B,KAAK,KAAMsC,KAEwB,mBAAlCF,EAAQlE,uBACfkE,EAAQlE,sBAAsBlU,KAAKR,EAAMyU,EAAWlB,GAGjCkB,EAAUgG,SAAV,IAAApI,OAAuB3J,EAAUoG,oBACvC0H,KAAK,KAAMsC,KAE5B,IAAIiB,EAAgBD,EAAiBtZ,KAAKR,EAAMyU,GAC5CkG,EAAgBX,QAAQC,WAAWF,GAEvCtF,EAAUiH,OAAOiC,EAAgBnd,KAAKR,EAAMud,EAAalP,UAAWsM,EAAciE,iBAClFnK,EAAUiH,OAAOiC,EAAgBnd,KAAKR,EAAMud,EAAaG,mBAEzDjJ,EAAUgF,KAAK,uBAAuBnD,KAAK,WACvC,IAAIf,EAAiB9S,EAAExC,MAEvB6d,EAAmBtd,KAAKR,EAAMuV,KAGA,mBAAvBoF,EAAckE,MACrBlE,EAAckE,KAAKre,KAAKma,EAAepH,EAAaI,EAAWc,EAAWzU,GAGvC,mBAA5B4Y,EAAQjE,iBACfiE,EAAQjE,gBAAgBnU,KAAKR,EAAMyU,EAAWlB,GAGlDkB,EAAUtO,SAASuC,EAAUgB,mBAC7B+K,EAAUrO,YAAYsC,EAAUiB,sBCzCzBmV,EAAA,SAAU1F,GACrBA,EAAM1T,IAAI,UAAW,SACrBjD,EAAEO,SAASqC,MAAMc,SAASuC,EAAUoB,oBACpC+R,WAAW,WACPzC,EAAMjT,SAASuC,EAAUa,eAC1B,ICJQwV,EAAA,SAAU7I,EAAQ8I,EAAYC,EAAeC,GACxD,IACI9F,EADOnZ,KACMmZ,MADNnZ,KAGN+c,YAAc9G,EAHRjW,KAINgd,kBAAoB+B,EACzBC,GAAiB7F,EAAMjT,SAASuC,EAAU0C,iBAC1C8T,GAAiB9F,EAAMjT,SAASuC,EAAU2C,iBAC1C+N,EAAM1T,IAAI,UAAW,SAErByZ,EAAU3e,KATCP,KASUmZ,ICVVgG,EAAA,SAAU7L,EAAa2C,GAClC,IACIvC,EAEAuC,EAAOzQ,GAAG,YACVyQ,EAAO/P,SAAP,GAAAkM,OAAmB3J,EAAUC,GAA7B,KAAA0J,OAAmC3J,EAAUsG,YAC7CkH,EAAOmJ,UAAP,mBAAAhN,OAAoC3J,EAAUC,GAA9C,KAAA0J,OAAoD3J,EAAU+G,gBAA9D,iBACAkE,EAAYuC,IAEZA,EAAOoJ,KAAP,iCAAAjN,OACsB3J,EAAUC,GADhC,KAAA0J,OACsC3J,EAAUsG,UADhD,wCAAAqD,OAE0B3J,EAAUC,GAFpC,KAAA0J,OAE0C3J,EAAU+G,gBAFpD,mDAKAkE,EAAYuC,EAAOqJ,SAASA,UAGhCC,EAAchf,KAhBHP,KAgBcsT,EAAaI,ICjB3B8L,EAAA,SAAUlM,EAAaI,EAAWuC,EAAQwJ,GACrD,IAAIxJ,EAAOzQ,GAAP,IAAA4M,OAAc3J,EAAUuE,4BAA5B,CAIA,IAEIwH,EADYyB,EAAOzQ,GAAG,YAItByQ,EAAO/P,SAAP,GAAAkM,OAAmB3J,EAAUC,GAA7B,KAAA0J,OAAmC3J,EAAU2F,YACa,IAA1D6H,EAAOuD,KAAP,IAAApH,OAAgB3J,EAAUoG,oBAAqB5L,QAAgBgT,EAAOmJ,UAAP,mBAAAhN,OAAoC3J,EAAUC,GAA9C,KAAA0J,OAAoD3J,EAAUoG,kBAA9D,iBAC/D2F,EAAYyB,IAEZA,EAAOoJ,KAAP,iCAAAjN,OACsB3J,EAAUC,GADhC,KAAA0J,OACsC3J,EAAU2F,UADhD,wCAAAgE,OAE0B3J,EAAUC,GAFpC,KAAA0J,OAE0C3J,EAAUoG,kBAFpD,mDAKA2F,EAAYyB,EAAOqJ,SAASA,UAG5BG,GACAjL,EAAUtO,SAAV,GAAAkM,OAAsB3J,EAAUqG,qBAGpC4P,EAAcne,KArBHP,KAqBcsT,EAAaI,EAAWc,KC3BtCkL,EAAA,SAAUzJ,GACrB,GAAsB,IAAlBA,EAAOhT,OAAX,CAIA,IAAI0c,EAAe1J,EAAOuE,WAAWvX,OAAS,EAC9CgT,EAAO0J,EAAe,WAAa,eAAelX,EAAUsB,sBCFjDwV,EAAA,SAAUjM,EAAaI,GAClC,IAAI3T,EAAOC,KACP2Y,EAAU5Y,EAAK4Y,QACfiH,EAAWjH,EAAQ3I,wBAA0B0D,EAAUoK,QAAQ,mCAAmC7a,OAAS,EAE1GyQ,EAAUoI,SAASrT,EAAUgB,oBAAuBiK,EAAUoI,SAASrT,EAAUiB,sBAClFgK,EAAUxN,SAASuC,EAAUiB,oBAEgB,mBAAlCiP,EAAQlF,uBACfkF,EAAQlF,sBAAsBlT,KAAKR,EAAM2T,EAAWJ,GAGpDsM,GACAlM,EAAUxN,SAASuC,EAAUkH,eAGjC+D,EAAU+H,OACNiC,EAAgBnd,KAAKR,EAAM6f,EAAWtC,EAAa3N,cAAgB2N,EAAavO,UAAW4J,EAAQtG,yBAEnGqL,EAAgBnd,KAAKR,EAAM6f,EAAWtC,EAAaE,qBAAuBF,EAAaC,mBAG3F7J,EAAU6C,KAAK,KAAMsC,KAEGnF,EAAU8F,KAAK,mCACrBnD,KAAK,WACnB,IAAIwJ,EAAmBrd,EAAExC,MAErB2Y,EAAQ3I,yBAA2B4P,GAAYC,EAAiBC,QAAQ,mCAAmC7c,OAAS,GCxBrH,SAAUqQ,EAAaI,EAAWmM,EAAkBD,GAC/D,IAAI7f,EAAOC,KACP2Y,EAAU5Y,EAAK4Y,QACfxG,EAAsBpS,EAAKoS,oBAE/B0N,EAAiB3Z,SAASuC,EAAUgH,mBACpCmQ,GAAYC,EAAiB3Z,SAASuC,EAAUmH,uBAChDiQ,EAAiBtJ,KAAK,KAAMsC,KAE5B,IAAIkH,EAAwBvd,EAAC,eAAA4P,OAAgB3J,EAAUiH,wBAA1B,aAC7BqQ,EAAsBvE,KAAKqE,EAAiBrE,QAC5CqE,EAAiBrE,KAAKuE,GAEtB,IAAIC,EAA0Bxd,EAC1Bkb,EAAgBnd,KAAKR,EAAM6f,EAAWtC,EAAa1N,sBAAwB0N,EAAa7N,kBAAmBkJ,EAAQtG,0BAEvH2N,EAAwBC,SAASJ,GACjCG,EAAwBxF,SAAxB,IAAApI,OAAqC3J,EAAU4B,cAAewS,GAAG,QAAS,SAAU1Z,GAChFA,EAAE+c,iBAEFpB,EAAiBve,KAAKR,EAAMggB,EAAuB5C,EAAYC,QAAQ,GAAOwC,GAAYjH,EAAQ3I,0BAGtG+P,EAAsBI,SAAS,CAC3BC,OAAM,IAAAhO,OAAM3J,EAAU4F,eAAhB,OAAA+D,OAAoC3J,EAAUuG,gBACpDqR,OAAQ,QACRC,MAAO,YACPC,YAAW,IAAAnO,OAAM3J,EAAUiH,yBAC3B8Q,UAAW,UACXC,QAAS,SAAUpN,EAAOqN,GACtB,IAEIhN,EAFA2M,EAASK,EAAGL,OACZM,EAAOD,EAAGC,KAGVN,GACAA,EAAOxE,UAEXnI,EAAYiN,EAAK7C,QAAL,IAAA1L,OAAiB3J,EAAUsG,aAExB+M,SAASrT,EAAUmB,wBAC9BuI,EAAoBqH,KAApB,IAAApH,OAA6B3J,EAAUsG,UAAvC,KAAAqD,OAAoD3J,EAAUmB,uBAAwBzD,YAAYsC,EAAUmB,sBAC5G8J,EAAUxN,SAASuC,EAAUmB,uBAGS,mBAA/B+O,EAAQ5E,oBACf4E,EAAQ5E,mBAAmBxT,KAAKR,EAAMsT,EAAOK,EAAWJ,GAGpB,mBAA7BqF,EAAQvF,kBACfuF,EAAQvF,iBAAiB7S,KAAKR,EAAMsT,EAAOC,GAG/CqN,EAAKxa,YAAYsC,EAAUE,aAC3B+W,EAAcK,IAElBa,MAAO,SAAUzd,EAAGud,GAChBA,EAAGC,KAAKza,SAASuC,EAAUE,aAC3B+X,EAAGC,KAAKza,SAASuC,EAAUmB,uBAE/BiX,KAAM,SAAU1d,EAAGud,GACXA,EAAGL,QACHK,EAAGL,OAAOxE,SAEd6E,EAAGC,KAAKxa,YAAYsC,EAAUE,aAC9B+W,EAAcK,MAItBA,EAAsBvF,WAAWnE,KAAK,WAClC,IAAIyK,EAAQte,EAAExC,MAEV8gB,EAAMtH,KAAK,mCAAmCvW,OAAS,EACvDkc,EAAmB5e,KAAKR,EAAMuT,EAAawN,GAE3CtB,EAAmBjf,KAAKR,EAAMuT,EAAaI,EAAWoN,GAAO,KAIrEpB,EAAcK,IDjDexf,KAAKR,EAAMuT,EAAaI,EAAWmM,EAAkBD,KAGvC,mBAA5BjH,EAAQhF,iBACfgF,EAAQhF,gBAAgBpT,KAAKR,EAAM2T,EAAWJ,GAGlDI,EAAUxN,SAASuC,EAAUgB,mBAC7BiK,EAAUvN,YAAYsC,EAAUiB,sBE5CzBqX,EAAA,SAAUC,GAAwD,IAA/CC,IAA+Cxa,UAAAxD,OAAA,QAAAX,IAAAmE,UAAA,KAAAA,UAAA,GAA7Bya,EAA6Bza,UAAAxD,OAAA,QAAAX,IAAAmE,UAAA,IAAAA,UAAA,GACzE1G,EAAOC,KACPmhB,EAAW,eAAA/O,OAAkB3J,EAAU+C,aAA5B,YACX2N,EAAQ3W,EAAC,yBAAA4P,OACK3J,EAAUC,GADf,KAAA0J,OACqB3J,EAAUyC,MAD/B,KAAAkH,OACwC6O,EAAYxY,EAAUuB,iBAAmB,GADjF,UAAAoI,OAC4F4O,EAD5F,gCAAA5O,OAES3J,EAAU4C,aAFnB,qDAAA+G,OAG8B3J,EAAUgD,YAHxC,mDAAA2G,OAIY3J,EAAU6C,YAJtB,yDAAA8G,OAMS3J,EAAU8C,WANnB,0BAAA6G,OAOH6O,EAAYE,EAAc,GAPvB,2BAoBb,OATKD,GAED/H,EAAM0D,GAAG,QAAT,IAAAzK,OAAsB3J,EAAUgD,aAAe,SAAUtI,GACrDA,EAAE+c,iBAEFhD,EAAW3c,KAAKR,EAAMoZ,KAIvBA,EAAM8G,SAASld,SAASqC,OCjBpBgc,EAAA,WACX,IAAIrhB,EAAOC,KACP2Y,EAAU5Y,EAAK4Y,QACfQ,EAAQpZ,EAAKoZ,MAAQkI,EAAU9gB,KAAKR,EAAM8Y,KAAc,GAAO,GAEhC,iBAAxBF,EAAQ5G,aAA4B4G,EAAQ5G,YAAY9O,OAAS,GACxEkW,EAAMK,KAAN,IAAApH,OAAe3J,EAAU8C,aAAckQ,OAAvC,6BAAArJ,OACkB3J,EAAUiE,iBAD5B,oCAAA0F,OAEsB3J,EAAUyD,SAFhC,2CAMA1J,EAAE0b,KAAK,CACH3F,KAAM,MACN6F,SAAU,OACVD,IAAKxF,EAAQ5G,YACbsM,QAAS,SAAUxL,GACyB,mBAA7B8F,EAAQ/F,mBACfC,EAAO8F,EAAQ/F,iBAAiBrS,KAAKR,EAAM8S,IAASA,GCvBzD,SAAUA,GACrB,IAAI9S,EAAOC,KACPshB,EAAsB,GACtBC,EAAe,GAEnB/e,EAAEqQ,GAAM2O,OAAO,OAAOnL,KAAK,WACvB,IAAIoL,EAAUjf,EAAExC,MACZ2S,EAAU8O,EAAQjG,OAAOkG,OACzBlJ,EAAaiJ,EAAQlL,KAAK,gBAC1BgC,EAAOkJ,EAAQlL,KAAK,aACpBxG,EAAQ0R,EAAQlL,KAAK,sBACrBkC,EAAagJ,EAAQlL,KAAK,4BAA8B,GACxDH,EAAiBrW,EAAKie,kBAAkByD,EAAS,CAAC,eAAgB,YAAa,qBAAsB,4BAA4B,GAPlGE,EAAAC,EAW/BtJ,EAAc/X,KAAKR,EAAMwY,EAAMxI,EAAOyI,EAAYC,EAAY9F,EAASyD,GAXxC,GAS/B0C,EAT+B6I,EAAA,GAU/B5I,EAV+B4I,EAAA,GAanCJ,GAAgBzI,EAChBwI,GAAuBvI,IAG3BhZ,EAAKiZ,kBAAoBU,EAAmB3Z,EAAKiZ,mBACjDjZ,EAAKkZ,kBAAoBS,EAAmB3Z,EAAKkZ,mBAEjDlZ,EAAKoZ,MAAMK,KAAX,IAAApH,OAAoB3J,EAAUyD,WAAYsP,KAAK+F,GAC/CxhB,EAAKoZ,MAAMK,KAAX,IAAApH,OAAoB3J,EAAU8C,aAAckQ,OAAO6F,IDAxB/gB,KAAKR,EAAM8S,GhB3B3B,WACX,IAAI9S,EAAOC,KACP2Y,EAAU5Y,EAAK4Y,QAFIkJ,EAAAC,EAGkB5I,EAAoB3Y,KAAKR,GAH3C,GAGlBqZ,EAHkByI,EAAA,GAGCtI,EAHDsI,EAAA,GAKvBtI,EAAciC,KAAd,0BAAApJ,OACmB3J,EAAUC,GAD7B,KAAA0J,OACmC3J,EAAU6D,sBAD7C,+CAAA8F,OAEqB3J,EAAUC,GAF/B,KAAA0J,OAEqC3J,EAAU0D,gBAF/C,oBAAAiG,OAGUgH,EAHV,2DAAAhH,OAKgC3J,EAAUC,GAL1C,KAAA0J,OAKgD3J,EAAU8D,gBAL1D,wDAQA,IAwCIwV,EAxCAC,EAAYzI,EAAcC,KAAd,IAAApH,OAAuB3J,EAAU8D,kBAC7C0V,EAAY1I,EAAcC,KAAd,IAAApH,OAAuB3J,EAAU0D,kBAE7C+V,EAAW,WACX,IAAIC,GAAoBF,EAAUhF,OAAS,IAAImF,cAC3CC,GAAcL,EAAU/E,OAAS,IAAImF,cACrCE,EAAWviB,EAAKoZ,MAAMK,KAAX,IAAApH,OAAoB3J,EAAUkD,UAC7C2W,EAASd,OAAT,IAAApP,OAAoB3J,EAAUc,iBAAkBpD,YAAYsC,EAAUc,gBAElE4Y,GAAoBE,EACpBC,EAASjM,KAAK,WACV,IAAIoL,EAAUjf,EAAExC,MACZuiB,EAAuBd,EAAQlL,KAAK,2BAA2B6L,cAC/DI,EAAiBD,EAAqBle,MAAMsU,EAAQ3G,6BACpDiI,EAAQ,EAERkI,IACqD,IAAjD3f,EAAEiU,QAAQ0L,EAAkBK,IAC5BvI,IAIJoI,IAEmC,IADvBZ,EAAQlL,KAAK,sBAAsB6L,cACrC5L,QAAQ6L,KAAoE,IAA9CE,EAAqB/L,QAAQ6L,IACjEpI,IAIRwH,EAAkB,IAAVxH,EAAc,cAAgB,YAAYxR,EAAUqB,qBAGhEwY,EAASnc,YAAYsC,EAAUqB,oBAIvCmY,EAAUpF,GAAG,SAAU,WACnBqF,MAIJF,EAAUnF,GAAG,UAAW,WACpB4F,aAAaV,GACbA,EAAQnG,WAAWsG,EAAU,QgB5BF3hB,KAAKR,IAE5Bka,MAAO,SAAUlH,GAC0B,mBAA5B4F,EAAQ7F,iBACf6F,EAAQ7F,gBAAgBvS,KAAKR,EAAMgT,MEjCxC,WACX,IACIoG,EADOnZ,KACMmZ,MAEjBA,EAAM0D,GAAG,CACL6F,MAAO,SAAUvf,GACbA,EAAE+c,iBAEF,IAAIuB,EAAUjf,EAAExC,MACZyhB,EAAQ3F,SAASrT,EAAUc,gBAC3BkY,EAAQtb,YAAYsC,EAAUc,iBAE9B4P,EAAMK,KAAN,IAAApH,OAAe3J,EAAUc,iBAAkBpD,YAAYsC,EAAUc,gBACjEkY,EAAQvb,SAASuC,EAAUc,kBAGnCoZ,UAAW,WACPngB,EAAExC,MAAMkG,SAASuC,EAAUc,iBAE/BqZ,SAAU,WACNpgB,EAAExC,MAAMmG,YAAYsC,EAAUc,kBAhBtC,IAAA6I,OAkBO3J,EAAUkD,WFiBKpL,KAAKR,GAGvBoZ,EAAMK,KAAN,IAAApH,OAAe3J,EAAUgD,cAAeoR,GAAG,QAAS,SAAU1Z,GAC1DA,EAAE+c,iBAEFpD,EAAkBvc,KAAKR,KAI3BoZ,EAAM0D,GAAG,QAAT,IAAAzK,OAAsB3J,EAAUqD,aAAe,SAAU3I,GACrDA,EAAE+c,iBAEF,IAAI5L,EAAkB9R,EAAExC,MAAM8d,QAAR,IAAA1L,OAAoB3J,EAAUkD,WGhDjD,SAAUxI,EAAGmR,EAAiB2B,EAAQ4M,GACjD,IAmCI1O,EACAe,EAnCAiE,EADOnZ,KACMmZ,MACbR,EAFO3Y,KAEQ2Y,QACfrF,EAAc2C,EAAO6H,QAAP,IAAA1L,OAAmB3J,EAAU+E,eAC3CsV,EAAcxO,EAAgBiC,KAAK,aAEnCwM,EAAwB5J,EAAMK,KAAKlF,EAAgBiC,KAAK,iBAExDyM,EAAiBD,EAAsBvH,OACvCyH,EAAmB9J,EAAM2C,SAASrT,EAAU0C,iBAC5C+X,EAAmB/J,EAAM2C,SAASrT,EAAU2C,iBAC5C+X,GAAoB,EACpBC,GAAoB,EACpBC,GAAiC,EA8CrC,GA5CoB,cAAhBP,EACAK,GAAoB,GAEhBF,IAAqBC,IACrBE,GAAoB,GAGpBH,GAAoBC,IAChBjN,EAAOzQ,GAAP,IAAA4M,OAAc3J,EAAUiH,0BACxB0T,GAAoB,EAEhBP,IAAiB1F,EAAYC,OAC7BiG,GAAiC,EAEjCD,GAAoB,IA7BzBpjB,KAsCNmS,oBAAoBqH,KAAzB,IAAApH,OAAkC3J,EAAUmB,uBAAwBzD,YAAYsC,EAAUmB,sBAEtFuZ,IACAhP,EAAe3R,EAAC,iCAAA4P,OACM3J,EAAUC,GADhB,KAAA0J,OACsB3J,EAAUsG,UADhC,KAAAqD,OAC6C3J,EAAUmB,qBADvD,wCAAAwI,OAEU3J,EAAUC,GAFpB,KAAA0J,OAE0B3J,EAAU+G,gBAFpC,MAAA4C,OAEwD4Q,EAFxD,iDAKhB/M,EAAO4M,GAAc1O,GAE0B,mBAApCwE,EAAQtE,yBACfsE,EAAQtE,wBAAwB9T,KAjD7BP,KAiDwCmD,EAAGgR,EAAcG,EAAiBhB,GAGzC,mBAA7BqF,EAAQvF,kBACfuF,EAAQvF,iBAAiB7S,KArDtBP,KAqDiCmD,EAAGmQ,GAG3CiM,EAAchf,KAxDPP,KAwDkBsT,EAAaa,IAGtCiP,EAAmB,CACnB,IAAIhN,EA5DGpW,KA4DmBge,kBAAkB+E,EAAuB,MAAM,GACzE7N,EAAe1S,EAAC,iCAAA4P,OACM3J,EAAUC,GADhB,KAAA0J,OACsB3J,EAAU2F,UADhC,KAAAgE,OAC6C3J,EAAUmB,qBADvD,iBAAAwI,OAC2F0Q,EAD3F,MAAA1Q,OAC2GgE,EAAerP,KAAK,KAD/H,uCAAAqL,OAEU3J,EAAUC,GAFpB,KAAA0J,OAE0B3J,EAAUoG,kBAFpC,MAAAuD,OAE0D4Q,EAF1D,iDAKhB/M,EAAO4M,GAAc3N,GAErB,IAAIxB,EAAYuC,EAAO6H,QAAP,IAAA1L,OAAmB3J,EAAUsG,YAC7C2E,EAAUxN,SAASuC,EAAUmB,sBACkB,mBAApC+O,EAAQvD,yBACfuD,EAAQvD,wBAAwB7U,KAvE7BP,KAuEwCmD,EAAG+R,EAAcZ,EAAiBhB,GAGzC,mBAA7BqF,EAAQvF,kBACfuF,EAAQvF,iBAAiB7S,KA3EtBP,KA2EiCmD,EAAGmQ,GAG3CoL,EAAcne,KA9EPP,KA8EkBsT,EAAaI,EAAWwB,GAGrD,GAAImO,EAAgC,CAChC,IAAIjN,EAlFGpW,KAkFmBge,kBAAkB+E,EAAuB,MAAM,GACzE5O,EAAe3R,EAAC,iCAAA4P,OACM3J,EAAUC,GADhB,KAAA0J,OACsB3J,EAAUsG,UADhC,KAAAqD,OAC6C3J,EAAUmB,qBADvD,wCAAAwI,OAEU3J,EAAUC,GAFpB,KAAA0J,OAE0B3J,EAAU+G,gBAFpC,MAAA4C,OAEwDuG,EAAQ1I,8BAFhE,iDAKhBiF,EAAe1S,EAAC,iCAAA4P,OACM3J,EAAUC,GADhB,KAAA0J,OACsB3J,EAAU2F,UADhC,KAAAgE,OAC6C3J,EAAUmB,qBADvD,iBAAAwI,OAC2F0Q,EAD3F,MAAA1Q,OAC2GgE,EAAerP,KAAK,KAD/H,uCAAAqL,OAEU3J,EAAUC,GAFpB,KAAA0J,OAE0B3J,EAAUoG,kBAFpC,MAAAuD,OAE0D4Q,EAF1D,iDAKhB7O,EAAaqF,KAAK,mCAAmC8J,GAAG,GAAG9H,KAAKtG,GAChEe,EAAO4M,GAAc1O,GAE0B,mBAApCwE,EAAQvD,yBACfuD,EAAQvD,wBAAwB7U,KAjG7BP,KAiGwCmD,EAAG+R,EAAcZ,EAAiBhB,GAGzC,mBAA7BqF,EAAQvF,kBACfuF,EAAQvF,iBAAiB7S,KArGtBP,KAqGiCmD,EAAGmQ,GAG3CiM,EAAchf,KAxGPP,KAwGkBsT,EAAaa,GAGrC8B,EAAOzQ,GAAP,IAAA4M,OAAc3J,EAAUgF,sBACzBiS,EAAczJ,KH3DS1V,KAAKR,EAAMoD,EAAGmR,EAAiBvU,EAAKgd,YAAahd,EAAKid,mBACzEF,EAAkBvc,KAAKR,MAG3BA,EAAKka,MAAM,oCIxDJsJ,EAAA,SAAU/O,GACrB,IAKI7B,EAJA6Q,EAAkBhP,EAAUiP,QAC5B3J,EAAgBD,EAAiBtZ,KAF1BP,KAEqCwjB,GAC5C9I,EAAgBX,QAAQC,WAAWF,GACnC1D,EAAiB4H,EAAkBwF,EAAiB,MAAM,GAI1DE,EAAgBF,EAAgBhK,KAAhB,IAAApH,OAAyB3J,EAAUuF,uBACvD,GAAI0V,EAAczgB,OAAS,EAAG,CAC1BygB,EAAclK,KAAd,IAAApH,OAAuB3J,EAAUyF,eAAgB2N,SAEjD,IAAI5I,EAASyQ,EAAclJ,SAAS,UAChCkJ,EAAc5H,SAASrT,EAAUwF,2BACjCgF,EAAO0Q,SAEPD,EAAcvd,YAAYsC,EAAUuF,sBAIJ,mBAA7B0M,EAAckJ,WACrBjR,EAAU+H,EAAckJ,WAAWrjB,KAAKma,EAAe8I,EArBhDxjB,MAwBP2S,EADuB6Q,EAAgBhJ,SAAhB,IAAApI,OAA6B3J,EAAUoG,oBACnC2M,OAO/B,OAJAgI,EAAgBhI,KAAK7I,GAAS6G,KAAK,uBAAuBnD,KAAK,WAC3D7T,EAAExC,MAAMwb,KAAK,MAGjB,YAAApJ,OAAmBgE,EAAerP,KAAK,KAAvC,KAAAqL,OAA+CoR,EAAgBhI,OAA/D,eCjCW,SAASqI,EAAqBnQ,EAAWkM,GACpD,IAAI7f,EAAOC,KACP8jB,EAAiBpQ,EAAU8G,SAAV,IAAApI,OAAuB3J,EAAU+G,kBAAmBiU,QAsBzE,OApBAK,EAAetK,KAAK,iCAAiCuK,IAAInE,EAAW,GAAH,IAAAxN,OAAY3J,EAAUmH,wBAAyByG,KAAK,WACjH,IAAIwJ,EAAmBrd,EAAExC,MACzB6f,EAAiB1Z,YAAjB,GAAAiM,OAAgC3J,EAAUgH,kBAA1C,KAAA2C,OAA+D3J,EAAUmH,sBAAzE,KAAAwC,OAAkG3J,EAAUK,WAAYkb,WAAW,MAEnI,IAAIjE,EAAwBF,EAAiBrF,WACzC7H,EAAU,GAEdoN,EAAsBvF,WAAWnE,KAAK,WAClC,IAAIyK,EAAQte,EAAExC,MAEV8gB,EAAMtb,GAAN,IAAA4M,OAAa3J,EAAU2F,YACvBuE,GAAW4Q,EAAoBhjB,KAAKR,EAAM+gB,GACnCA,EAAMtb,GAAN,IAAA4M,OAAa3J,EAAUkH,kBAC9BgD,GAAWkR,EAAoBtjB,KAAKR,EAAM+gB,GAAO,MAIzDjB,EAAiBrE,KAAK7I,KAG1B,YAAAP,OAAmB0R,EAAetI,OAAlC,cCxBW,IAAAyI,EAAA,SAAUxN,GACrB,IAAI1W,EAAOC,KACPkkB,EAAS,GAab,OAXAnkB,EAAKoS,oBAAoBqH,KAAzB,IAAApH,OAAkC3J,EAAUgF,qBAAsB4I,KAAK,WACnE,IAAImF,EAAO,GACXhZ,EAAExC,MAAMwa,SAAR,IAAApI,OAAqB3J,EAAUsG,YAAasH,KAAK,WAC7C,IAAI3C,EAAYlR,EAAExC,MAElBwb,GAAQqI,EAAoBtjB,KAAKR,EAAM2T,KAG3CwQ,EAAOxN,KAAK8E,KAGT/E,EAAUyN,EAASA,EAAOnd,KAAK,OCd3Bod,QAAA,YCCA,WACX,IAAIpkB,EAAOC,KACP2Y,EAAU5Y,EAAK4Y,QACfyL,EAAa5hB,EAAC,wCAAA4P,OAAyCuG,EAAQxI,OAAOM,WAAxD,aAAA2B,OAA8E3J,EAAUC,GAAxF,KAAA0J,OAA8F3J,EAAUuC,cAAxG,MAAAoH,OAA0HuE,EAAKsB,YAA/H,SAElBlY,EAAKskB,YAAc7hB,EAAC,eAAA4P,OAAgB3J,EAAUoH,aAA1B,aACpB9P,EAAKoS,oBAAoBmS,MAAMvkB,EAAKskB,aAEpCD,EAAWvH,GAAG,QAAS,SAAU1Z,GAC7BA,EAAE+c,iBAEF,IAAIqE,GAAeH,EAAWtI,SAASrT,EAAUW,cAEjDgb,EAAW5I,KAAK+I,EAAc5N,EAAKqB,WAAarB,EAAKsB,aACrDmM,EAAWG,EAAc,WAAa,eAAe9b,EAAUW,cAC/Dgb,EAAW7N,KAAK,QAASgO,EAAc5L,EAAQxI,OAAOK,UAAYmI,EAAQxI,OAAOM,YACjF1Q,EAAKoT,WAAWoR,EAAc,WAAa,eAAe9b,EAAUkB,kBAEpE4a,GAAexkB,EAAKskB,YAAY7I,KAAKoI,EAAWrjB,KAAKR,IAAOyZ,KAAK,uBAAuBnD,KAAK,WACzF,IAAIf,EAAiB9S,EAAExC,MACvBsV,EAAekG,KAAK,cACpBqC,EAAmBtd,KAAKR,EAAMuV,OAItCvV,EAAKykB,YAAY/I,OAAO2I,KDvBN5d,MAFPxG,MEDA,WACX,IAAID,EAAOC,KACP2Y,EAAU5Y,EAAK4Y,QACf8L,EAAgBjiB,EAAC,wCAAA4P,OAAyCuG,EAAQxI,OAAOQ,cAAxD,aAAAyB,OAAiF3J,EAAUC,GAA3F,KAAA0J,OAAiG3J,EAAUuC,cAA3G,MAAAoH,OAA6HuE,EAAKwB,eAAlI,SACrBsM,EAAc5H,GAAG,QAAS,SAAU1Z,GAChCA,EAAE+c,iBAEF1d,EAAEgG,WAAW5C,eAAiBpD,EAAEgG,WAAWnC,OAAStG,EAAK2kB,QAAQlc,eAErEhG,EAAEO,UAAU8Z,GAAG,gBAAiB,SAAU1Z,EAAGyC,GACzC6e,EAAcjJ,KAAK5V,EAAe+Q,EAAKuB,cAAgBvB,EAAKwB,gBAC5DsM,EAAclO,KAAK,QAAS3Q,EAAe+S,EAAQxI,OAAOO,aAAeiI,EAAQxI,OAAOQ,iBAG5F3Q,KAAKwkB,YAAY/I,OAAOgJ,IFVHje,MAHVxG,MGDA,WACX,IAAID,EAAOC,KACP2Y,EAAU5Y,EAAK4Y,QACfgM,EAAUniB,EAAC,wCAAA4P,OAAyCuG,EAAQxI,OAAOS,KAAxD,aAAAwB,OAAwE3J,EAAUC,GAAlF,KAAA0J,OAAwF3J,EAAUuC,cAAlG,MAAAoH,OAAoHuE,EAAKyB,KAAzH,SACfuM,EAAQ9H,GAAG,QAAS,SAAU1Z,GAC1BA,EAAE+c,iBAEF,IAAIvN,EAAUiR,EAAWrjB,KAAKR,GAEJ,mBAAnB4Y,EAAQjG,QAAyBiG,EAAQjG,OAAOnS,KAAKR,EAAM4S,KAGtE5S,EAAKykB,YAAY/I,OAAOkJ,IHPTne,MAJJxG,QIAA4kB,EAAA,WACX,IACIC,EAAWhM,IACXF,EAFO3Y,KAEQ2Y,QAFR3Y,KAIN8kB,OAAStiB,EAAC,yBAAA4P,OACG3J,EAAUC,GADb,KAAA0J,OACmB3J,EAAUmC,OAD7B,UAAAwH,OAC4CyS,EAD5C,gCAAAzS,OAEO3J,EAAUC,GAFjB,KAAA0J,OAEuB3J,EAAUoC,YAFjC,oCAAAuH,OAGW3J,EAAUC,GAHrB,KAAA0J,OAG2B3J,EAAUwC,aAHrC,aAAAmH,OAG6DuG,EAAQ5I,MAHrE,MAAAqC,OAG+EuG,EAAQ5I,MAHvF,wDAAAqC,OAKO3J,EAAUC,GALjB,KAAA0J,OAKuB3J,EAAUqC,cALjC,oDAAAsH,OAOO3J,EAAUC,GAPjB,KAAA0J,OAOuB3J,EAAUsC,aAPjC,iDAJJ/K,KAeN+kB,WAfM/kB,KAeY8kB,OAAOtL,KAAZ,IAAApH,OAAqB3J,EAAUoC,cAftC7K,KAgBNglB,aAhBMhlB,KAgBc8kB,OAAOtL,KAAZ,IAAApH,OAAqB3J,EAAUqC,gBAhBxC9K,KAiBNwkB,YAjBMxkB,KAiBa8kB,OAAOtL,KAAZ,IAAApH,OAAqB3J,EAAUsC,eAjBvC/K,KAmBN8kB,OAAO7E,SAnBDjgB,KAmBe0kB,SCtBf,WACX,IACI/L,EADO3Y,KACQ2Y,QACfqM,EAFOhlB,KAEaglB,aACpBC,EAHOjlB,KAGoBiT,OAAOqM,SAElC4F,EAAY1iB,EAAC,kDAAA4P,OAC0BuG,EAAQxI,OAAOC,aADzC,aAAAgC,OACiE3J,EAAUC,GAD3E,KAAA0J,OACiF3J,EAAUuC,cAD3F,MAAAoH,OAC6GuE,EAAKiB,cADlH,eAGjBsN,EAAUrI,GAAG,QAAS,SAAU1Z,GAC5BA,EAAE+c,iBAEF8E,EAAaxL,KAAb,IAAApH,OAAsB3J,EAAUW,eAAgBjD,YAAYsC,EAAUW,cACtE6b,EAAoBxf,IAAI,QAASkT,EAAQjH,aACzCuT,EAAoBxf,IAAI,YAAa,IACrCyf,EAAUhf,SAASuC,EAAUW,gBAGjC,IAAI+b,EAAY3iB,EAAC,kDAAA4P,OAC0BuG,EAAQxI,OAAOE,aADzC,aAAA+B,OACiE3J,EAAUC,GAD3E,KAAA0J,OACiF3J,EAAUuC,cAD3F,MAAAoH,OAC6GuE,EAAKkB,cADlH,eAGjBsN,EAAUtI,GAAG,QAAS,SAAU1Z,GAC5BA,EAAE+c,iBAEF8E,EAAaxL,KAAb,IAAApH,OAAsB3J,EAAUW,eAAgBjD,YAAYsC,EAAUW,cACtE6b,EAAoBxf,IAAI,QAASkT,EAAQhH,aACzCsT,EAAoBxf,IAAI,YAAa,IACrC0f,EAAUjf,SAASuC,EAAUW,gBAGjC,IAAIgc,EAAY5iB,EAAC,kDAAA4P,OAC0BuG,EAAQxI,OAAOG,aADzC,aAAA8B,OACiE3J,EAAUC,GAD3E,KAAA0J,OACiF3J,EAAUuC,cAD3F,MAAAoH,OAC6GuE,EAAKmB,cADlH,eAGjBsN,EAAUvI,GAAG,QAAS,SAAU1Z,GAC5BA,EAAE+c,iBAEF8E,EAAaxL,KAAb,IAAApH,OAAsB3J,EAAUW,eAAgBjD,YAAYsC,EAAUW,cACtE6b,EAAoBxf,IAAI,QAASkT,EAAQ/G,aACzCqT,EAAoBxf,IAAI,YAAa,IACrC2f,EAAUlf,SAASuC,EAAUW,gBAGjC,IAAIic,EAAa7iB,EAAC,kDAAA4P,OACyBuG,EAAQxI,OAAOI,cADxC,aAAA6B,OACiE3J,EAAUC,GAD3E,KAAA0J,OACiF3J,EAAUuC,cAD3F,MAAAoH,OAC6GuE,EAAKoB,eADlH,eAGlBsN,EAAWxI,GAAG,QAAS,SAAU1Z,GAC7BA,EAAE+c,iBAEF8E,EAAaxL,KAAb,IAAApH,OAAsB3J,EAAUW,eAAgBjD,YAAYsC,EAAUW,cACtE6b,EAAoBxf,IAAI,QAAS,IACjCwf,EAAoBxf,IAAI,YAAakT,EAAQ9G,iBAC7CwT,EAAWnf,SAASuC,EAAUW,gBAC/BpD,QAAQ,SAEXgf,EAAavJ,OAAOyJ,GACpBF,EAAavJ,OAAO0J,GACpBH,EAAavJ,OAAO2J,GACpBJ,EAAavJ,OAAO4J,IDjCD9kB,KArBRP,MAsBXmkB,EAAuB5jB,KAtBZP,OENAslB,EAAA,SAAUjS,EAAOkS,GAC5B,IAAItP,EAASzT,EAAE6Q,EAAM4C,QACjB6H,EAAU7H,EAAO6H,QAAQyH,GAE7B,OAAItP,EAAOzQ,GAAG+f,GACHtP,EACA6H,EAAQ7a,OAAS,EACjB6a,EAEA,MCLA0H,EAJC,CACZC,IAAK,ICCMC,EAAA,SAAUzP,EAAQ0P,GAClB3lB,KAEN4lB,YAAcD,EAAQ,KAAO1P,EAFvBjW,KAGN6lB,WAAaF,EAAQ1P,EAAS,KAHxBjW,KAKNmS,oBAAoBqH,KAAzB,IAAApH,OAAkC3J,EAAUI,aAAc1C,YAAYsC,EAAUI,YALrE7I,KAMNmT,WAAWhN,YAAhB,GAAAiM,OAA+B3J,EAAUwB,cAAzC,KAAAmI,OAA0D3J,EAAUyB,wBAApE,KAAAkI,OAA+F3J,EAAU0B,wBAAzG,KAAAiI,OAAoI3J,EAAU2B,8BAE1I6L,IACA0P,GAAS1P,EAAO/P,SAASuC,EAAUI,YAT5B7I,KAUFmT,WAAWjN,SAASuC,EAAUwB,eAE/BgM,EAAO6F,SAASrT,EAAU2F,YAZvBpO,KAaEmT,WAAWjN,SAASuC,EAAUyB,yBAGnC+L,EAAO6F,SAASrT,EAAUsG,YAhBvB/O,KAiBEmT,WAAWjN,SAAS+P,EAAO6F,SAASrT,EAAUkH,eAAiBlH,EAAU2B,4BAA8B3B,EAAU0B,2BClBnH2b,EAAA,SAAUtR,GACrB,IAEIsF,EAAgBD,EAAiBtZ,KAF1BP,KAEqCwU,GAC5CkG,EAAgBX,QAAQC,WAAWF,GACF,mBAA1BY,EAAcqL,SACrBrL,EAAcqL,QAAQxlB,KAAKma,EAAelG,EALnCxU,MAQXwU,EAAUqH,UCWCmK,EAAA,YCnBA,WACX,IAAIjmB,EAAOC,KACP2Y,EAAU5Y,EAAK4Y,QACfxG,EAAsBpS,EAAKoS,oBAE/BpS,EAAKoT,WAAW0J,GAAG,QAAS,SAAU1Z,GAClC,IAAIkX,EAAUiL,EAAkBniB,EAAD,IAAAiP,OAAQ3J,EAAU8B,UAC7C4O,EAAQmM,EAAkBniB,EAAD,IAAAiP,OAAQ3J,EAAUyC,QAE3CwI,EAAY4R,EAAkBniB,EAAD,IAAAiP,OAAQ3J,EAAUsG,YACnD,GAAI2E,GACA,IAAKA,EAAUoI,SAASrT,EAAUmB,sBAAuB,CACrDuI,EAAoBqH,KAApB,IAAApH,OAA6B3J,EAAUmB,uBAAwBzD,YAAYsC,EAAUmB,sBACrF8J,EAAUxN,SAASuC,EAAUmB,sBAE7B,IAAI0J,EAAcI,EAAU4L,SACe,mBAAhC3G,EAAQvE,qBACfuE,EAAQvE,oBAAoB7T,KAAKR,EAAMoD,EAAGuQ,EAAWJ,SAIxD+G,GAAYlB,GACbhH,EAAoBqH,KAApB,IAAApH,OAA6B3J,EAAUmB,uBAAwBzD,YAAYsC,EAAUmB,sBAI7F,IAAI4K,EAAY8Q,EAAkBniB,EAAD,IAAAiP,OAAQ3J,EAAU2F,YACnD,GAAIoG,GACA,IAAKA,EAAUsH,SAASrT,EAAUmB,sBAAuB,CACrDuI,EAAoBqH,KAApB,IAAApH,OAA6B3J,EAAU2F,UAAvC,KAAAgE,OAAoD3J,EAAUmB,uBAAwBzD,YAAYsC,EAAUmB,sBAC5G4K,EAAUtO,SAASuC,EAAUmB,sBAE7B,IAAI0J,EAAckB,EAAU8K,SACe,mBAAhC3G,EAAQxD,qBACfwD,EAAQxD,oBAAoB5U,KAAKR,EAAMoD,EAAGqR,EAAWlB,SAIxD+G,GACDlI,EAAoBqH,KAApB,IAAApH,OAA6B3J,EAAU2F,UAAvC,KAAAgE,OAAoD3J,EAAUmB,uBAAwBzD,YAAYsC,EAAUmB,0BDjBvGrJ,KAFNP,MEpBA,WACX,IAAID,EAAOC,KAEXD,EAAKkmB,UAAUpJ,GAAG,UAAW,SAAU1Z,GACnC,OAAQA,EAAE+iB,SACN,KAAKV,EAAQC,IACTC,EAAenlB,KAAKR,EAAM,UFkBpBQ,KAJPP,MGnBA,WACX,IAAID,EAAOC,KACP2Y,EAAU5Y,EAAK4Y,QACO5Y,EAAKoS,oBAEX0K,GAAG,QAAvB,IAAAzK,OAAoC3J,EAAU2E,yBAA9C,MAAAgF,OAA2E3J,EAAU4B,aAAe,SAAUlH,GAC1GA,EAAE+c,iBAEF,IAAIiG,EAAM3jB,EAAExC,MACRwU,EAAY2R,EAAIrI,QAAJ,IAAA1L,OAAgB3J,EAAU2F,YACtCsF,EAAYyS,EAAIrI,QAAJ,IAAA1L,OAAgB3J,EAAUsG,YAC1C+P,EAAiBve,KAAKR,EAAMyU,EAAW2I,EAAYE,OAAO,IAAM1E,EAAQ3I,yBAA0B0D,EAAUoI,SAASrT,EAAUkH,mBHcnGpP,KANrBP,MInBA,WACX,IAAID,EAAOC,KACP2Y,EAAU5Y,EAAK4Y,QACO5Y,EAAKoS,oBAEX0K,GAAG,QAAvB,IAAAzK,OAAoC3J,EAAUsE,yBAA9C,MAAAqF,OAA2E3J,EAAU4B,aAAe,SAAUlH,GAC1GA,EAAE+c,iBAEF,IACIxM,EADMlR,EAAExC,MACQ8d,QAAJ,IAAA1L,OAAgB3J,EAAUsG,YAC1C+P,EAAiBve,KAAKR,EAAM2T,EAAWyJ,EAAYE,OAAO,EAAM1E,EAAQ3I,2BJgB5CzP,KAPrBP,MKlBA,WACX,IAAID,EAAOC,KACP2Y,EAAU5Y,EAAK4Y,QACO5Y,EAAKoS,oBAEX0K,GAAG,QAAvB,IAAAzK,OAAoC3J,EAAUmG,kBAAoB,SAAUzL,GACxEA,EAAE+c,iBAEF,IAAIiG,EAAM3jB,EAAExC,MAEZ,GAAIomB,QAAQzN,EAAQxI,OAAOsB,4BAA6B,CACpD,IAAI+C,EAAY2R,EAAIrI,QAAJ,IAAA1L,OAAgB3J,EAAU2F,YACtCsF,EAAYc,EAAUsJ,QAAV,IAAA1L,OAAsB3J,EAAUsG,YAC5CgR,EAAwBvL,EAAUsJ,QAAV,IAAA1L,OAAsB3J,EAAUiH,0BACxD4D,EAAckB,EAAUsJ,QAAV,IAAA1L,OAAsB3J,EAAU+E,eAEF,mBAArCmL,EAAQhE,0BACfgE,EAAQhE,yBAAyBpU,KAAKR,EAAMoD,EAAGqR,EAAWlB,GAG1DkB,EAAUhP,GAAGzF,EAAK6a,mBAClBR,EAAa7Z,KAAKR,GAGtB+lB,EAAgBvlB,KAAKR,EAAMyU,GAEe,mBAA/BmE,EAAQ9D,oBACf8D,EAAQ9D,mBAAmBtU,KAAKR,EAAMoD,EAAGqR,EAAWlB,GAGd,mBAA/BqF,EAAQ5E,oBACf4E,EAAQ5E,mBAAmBxT,KAAKR,EAAMoD,EAAGuQ,EAAWJ,GAGhB,mBAA7BqF,EAAQvF,kBACfuF,EAAQvF,iBAAiB7S,KAAKR,EAAMoD,EAAGmQ,GAG3CoM,EAAcK,OLXCxf,KATZP,MMnBA,WACX,IAAID,EAAOC,KACP2Y,EAAU5Y,EAAK4Y,QACO5Y,EAAKoS,oBAEX0K,GAAG,QAAvB,IAAAzK,OAAoC3J,EAAUgG,qBAAuB,SAAUtL,GAC3EA,EAAE+c,iBAEF,IACI1L,EADMhS,EAAExC,MACQ8d,QAAJ,IAAA1L,OAAgB3J,EAAU2F,YACtCsF,EAAYc,EAAUsJ,QAAV,IAAA1L,OAAsB3J,EAAUsG,YAC5CuE,EAAcI,EAAU4L,SACxBpK,EAAe1S,EAAE+gB,EAAoBhjB,KAAKR,EAAMyU,IAEpDA,EAAU8P,MAAMpP,GAChBsK,EAAmBjf,KAAKR,EAAMuT,EAAaI,EAAWwB,GAET,mBAAlCyD,EAAQ3D,uBACf2D,EAAQ3D,sBAAsBzU,KAAKR,EAAMyU,EAAWU,EAAc5B,GAG5B,mBAA/BqF,EAAQ5E,oBACf4E,EAAQ5E,mBAAmBxT,KAAKR,EAAMoD,EAAGuQ,EAAWJ,GAGhB,mBAA7BqF,EAAQvF,kBACfuF,EAAQvF,iBAAiB7S,KAAKR,EAAMoD,EAAGmQ,MNGrB/S,KAVfP,MOpBA,WACX,IAAID,EAAOC,KACeD,EAAKoS,oBAEX0K,GAAG,QAAvB,IAAAzK,OAAoC3J,EAAUiG,gBAAkB,SAAUvL,GACtEA,EAAE+c,iBAEF,IACI1L,EADMhS,EAAExC,MACQ8d,QAAJ,IAAA1L,OAAgB3J,EAAU2F,YAC1CsX,EAAenlB,KAAKR,EAAMyU,GAAW,MPsBpBjU,KAXVP,MQpBA,WACX,IAAID,EAAOC,KACeD,EAAKoS,oBAEX0K,GAAG,QAAvB,IAAAzK,OAAoC3J,EAAUkG,eAAiB,SAAUxL,GACrEA,EAAE+c,iBAEF,IACI1L,EADMhS,EAAExC,MACQ8d,QAAJ,IAAA1L,OAAgB3J,EAAU2F,YAC1CsX,EAAenlB,KAAKR,EAAMyU,GAAW,MRuBrBjU,KAZTP,MSrBA,WACX,IAAID,EAAOC,KACP2Y,EAAU5Y,EAAK4Y,QACO5Y,EAAKoS,oBAEX0K,GAAG,QAAvB,IAAAzK,OAAoC3J,EAAU8F,qBAAuB,SAAUpL,GAC3EA,EAAE+c,iBAEF,IACI1L,EADMhS,EAAExC,MACQ8d,QAAJ,IAAA1L,OAAgB3J,EAAU2F,YACtCiY,EAAgB7R,EAAU8R,KAAV,IAAAlU,OAAmB3J,EAAU2F,YAEjD,GAAIiY,EAAcpjB,OAAS,EAAG,CAC1B,IAAIyQ,EAAYc,EAAUsJ,QAAV,IAAA1L,OAAsB3J,EAAUsG,YAC5CuE,EAAckB,EAAUsJ,QAAV,IAAA1L,OAAsB3J,EAAU+E,eAElD6Y,EAAc/B,MAAM9P,GAEsB,mBAA/BmE,EAAQ5E,oBACf4E,EAAQ5E,mBAAmBxT,KAAKR,EAAMoD,EAAGuQ,EAAWJ,GAGhB,mBAA7BqF,EAAQvF,kBACfuF,EAAQvF,iBAAiB7S,KAAKR,EAAMoD,EAAGmQ,OTW1B/S,KAbdP,MUrBA,WACX,IAAID,EAAOC,KACP2Y,EAAU5Y,EAAK4Y,QACO5Y,EAAKoS,oBAEX0K,GAAG,QAAvB,IAAAzK,OAAoC3J,EAAU6F,mBAAqB,SAAUnL,GACzEA,EAAE+c,iBAEF,IACI1L,EADMhS,EAAExC,MACQ8d,QAAJ,IAAA1L,OAAgB3J,EAAU2F,YACtCmY,EAAgB/R,EAAUgS,KAAV,IAAApU,OAAmB3J,EAAU2F,YAEjD,GAAImY,EAActjB,OAAS,EAAG,CAC1B,IAAIyQ,EAAYc,EAAUsJ,QAAV,IAAA1L,OAAsB3J,EAAUsG,YAC5CuE,EAAckB,EAAUsJ,QAAV,IAAA1L,OAAsB3J,EAAU+E,eAElD+Y,EAAcE,OAAOjS,GAEqB,mBAA/BmE,EAAQ5E,oBACf4E,EAAQ5E,mBAAmBxT,KAAKR,EAAMoD,EAAGuQ,EAAWJ,GAGhB,mBAA7BqF,EAAQvF,kBACfuF,EAAQvF,iBAAiB7S,KAAKR,EAAMoD,EAAGmQ,OVY5B/S,KAdZP,MWpBA,WACX,IAAID,EAAOC,KACeD,EAAKoS,oBAEX0K,GAAG,QAAvB,IAAAzK,OAAoC3J,EAAU+F,mBAAqB,SAAUrL,GACzEA,EAAE+c,iBAEF,IACI1L,EADMhS,EAAExC,MACQ8d,QAAJ,IAAA1L,OAAgB3J,EAAU2F,YAC1C2N,EAAYxb,KAAKR,EAAMyU,MX0BHjU,KAfbP,MYlBA,WACX,IAAID,EAAOC,KACP2Y,EAAU5Y,EAAK4Y,QACO5Y,EAAKoS,oBAEX0K,GAAG,QAAvB,IAAAzK,OAAoC3J,EAAU6G,kBAAoB,SAAUnM,GACxEA,EAAE+c,iBAEF,IAAIiG,EAAM3jB,EAAExC,MAEZ,GAAIomB,QAAQzN,EAAQxI,OAAOqB,4BAA6B,CACpD,IAAIkC,EAAYyS,EAAIrI,QAAJ,IAAA1L,OAAgB3J,EAAUsG,YACtCgR,EAAwBrM,EAAUoK,QAAV,IAAA1L,OAAsB3J,EAAUiH,0BACxDsK,EAAatG,EAAU8F,KAAV,IAAApH,OAAmB3J,EAAU2F,YAC1CkF,EAAcI,EAAUoK,QAAV,IAAA1L,OAAsB3J,EAAU+E,eAC9CkZ,EAAmBpT,EAAYkG,KAAZ,IAAApH,OAAqB3J,EAAUgF,qBAEN,mBAArCkL,EAAQ/E,0BACf+E,EAAQ/E,yBAAyBrT,KAAKR,EAAMoD,EAAGuQ,EAAWJ,GAG1DvT,EAAK6a,iBACwB7a,EAAK6a,iBAAiBkD,QAAtB,IAAA1L,OAAkC3J,EAAUsG,YAC9CvJ,GAAGkO,IAC1B0G,EAAa7Z,KAAKR,GAEf2T,EAAUlO,GAAGzF,EAAK8a,mBACzBT,EAAa7Z,KAAKR,GAGlBia,EAAW/W,OAAS,GACpB+W,EAAW3D,KAAK,WACZyP,EAAgBvlB,KAAKR,EAAMyC,EAAExC,SAIrC0T,EAAUmI,SAEgC,mBAA/BlD,EAAQ7E,oBACf6E,EAAQ7E,mBAAmBvT,KAAKR,EAAMoD,EAAGuQ,EAAWJ,GAGhB,mBAA7BqF,EAAQvF,kBACfuF,EAAQvF,iBAAiB7S,KAAKR,EAAMoD,EAAGmQ,GAG3CoM,EAAcK,GACdL,EAAcgH,OZZCnmB,KAjBZP,ManBA,WACX,IAAID,EAAOC,KACP2Y,EAAU5Y,EAAK4Y,QACO5Y,EAAKoS,oBAEX0K,GAAG,QAAvB,IAAAzK,OAAoC3J,EAAU0G,qBAAuB,SAAUhM,GAC3EA,EAAE+c,iBAEF,IAAIiG,EAAM3jB,EAAExC,MACR0T,EAAYyS,EAAIrI,QAAJ,IAAA1L,OAAgB3J,EAAUsG,YACtCuE,EAAcI,EAAU4L,SACxBnL,EAAe3R,EAAEqhB,EAAoBtjB,KAAKR,EAAM2T,EAAWyS,EAAI7G,SAASxD,SAASrT,EAAUwE,yBAC/FyG,EAAU4Q,MAAMnQ,GAChBgL,EAAmB5e,KAAKR,EAAMuT,EAAaa,GAEE,mBAAlCwE,EAAQ1E,uBACf0E,EAAQ1E,sBAAsB1T,KAAKR,EAAM2T,EAAWS,EAAcb,GAG9B,mBAA7BqF,EAAQvF,kBACfuF,EAAQvF,iBAAiB7S,KAAKR,EAAMoD,EAAGmQ,MbiBrB/S,KAlBfP,McpBA,WACX,IAAID,EAAOC,KACeD,EAAKoS,oBAEX0K,GAAG,QAAvB,IAAAzK,OAAoC3J,EAAU2G,gBAAkB,SAAUjM,GACtEA,EAAE+c,iBAEF,IACIxM,EADMlR,EAAExC,MACQ8d,QAAJ,IAAA1L,OAAgB3J,EAAUsG,YAC1C2W,EAAenlB,KAAKR,EAAM2T,GAAW,Md8BpBnT,KAnBVP,MepBA,WACX,IAAID,EAAOC,KACeD,EAAKoS,oBAEX0K,GAAG,QAAvB,IAAAzK,OAAoC3J,EAAU4G,eAAiB,SAAUlM,GACrEA,EAAE+c,iBAEF,IACIxM,EADMlR,EAAExC,MACQ8d,QAAJ,IAAA1L,OAAgB3J,EAAUsG,YAC1C2W,EAAenlB,KAAKR,EAAM2T,GAAW,Mf+BrBnT,KApBTP,MgBrBA,WACX,IAAID,EAAOC,KACP2Y,EAAU5Y,EAAK4Y,QACO5Y,EAAKoS,oBAEX0K,GAAG,QAAvB,IAAAzK,OAAoC3J,EAAUyG,qBAAuB,SAAU/L,GAC3EA,EAAE+c,iBAEF,IACIxM,EADMlR,EAAExC,MACQ8d,QAAJ,IAAA1L,OAAgB3J,EAAUsG,YACtC4X,EAAgBjT,EAAU4S,KAAV,IAAAlU,OAAmB3J,EAAUsG,YAEjD,GAAI4X,EAAc1jB,OAAS,EAAG,CAC1B,IAAIqQ,EAAcI,EAAU4L,SAE5BqH,EAAcrC,MAAM5Q,GAEoB,mBAA7BiF,EAAQvF,kBACfuF,EAAQvF,iBAAiB7S,KAAKR,EAAMoD,EAAGmQ,OhBwB1B/S,KArBdP,MiBrBA,WACX,IAAID,EAAOC,KACP2Y,EAAU5Y,EAAK4Y,QACO5Y,EAAKoS,oBAEX0K,GAAG,QAAvB,IAAAzK,OAAoC3J,EAAUwG,mBAAqB,SAAU9L,GACzEA,EAAE+c,iBAEF,IACIxM,EADMlR,EAAExC,MACQ8d,QAAJ,IAAA1L,OAAgB3J,EAAUsG,YACtC6X,EAAgBlT,EAAU8S,KAAV,IAAApU,OAAmB3J,EAAUsG,YAEjD,GAAI6X,EAAc3jB,OAAS,EAAG,CAC1B,IAAIqQ,EAAcI,EAAU4L,SAE5BsH,EAAcH,OAAO/S,GAEmB,mBAA7BiF,EAAQvF,kBACfuF,EAAQvF,iBAAiB7S,KAAKR,EAAMoD,EAAGmQ,OjByB5B/S,KAtBZP,MkBpBA,WACX,IAAID,EAAOC,KACeD,EAAKoS,oBAEX0K,GAAG,QAAvB,IAAAzK,OAAoC3J,EAAU8G,mBAAqB,SAAUpM,GACzEA,EAAE+c,iBAEF,IACIxM,EADMlR,EAAExC,MACQ8d,QAAJ,IAAA1L,OAAgB3J,EAAUsG,YAC1CgN,EAAYxb,KAAKR,EAAM2T,MlBkCHnT,KAvBbP,OmBdA6mB,EAAA,SAAUvT,EAAawT,GAClC,IAAI/mB,EAAOC,KACP2Y,EAAU5Y,EAAK4Y,QAEnBrF,EAAYpN,SAASuC,EAAU+E,cAC/B,IAAImF,EAAUW,EAAYkI,OACtBkL,EAAmBlkB,EAAC,eAAA4P,OAAgB3J,EAAUgF,mBAA1B,aAAwD+N,KAAK7I,GAOrF,GANAW,EAAYkI,KAAKkL,GAE8B,mBAApC/N,EAAQpF,yBACfoF,EAAQpF,wBAAwBhT,KAAKR,EAAMuT,IAG1CwT,EAAiB,CAClB,IAAIC,EAAqBvkB,EAAEkb,EAAgBnd,KAAKR,EAAMud,EAAa9P,eACnE8F,EAAYmI,OAAOsL,GACnBA,EAAmBvM,SAAnB,IAAApI,OAAgC3J,EAAU4B,cAAewS,GAAG,QAAS,SAAU1Z,GAC3EA,EAAE+c,iBAEFpB,EAAiBve,KAAKR,EAAM2mB,EAAkBvJ,EAAYC,QAAQ,GAAM,KA6ChF,GAzCAsJ,EAAiBvG,SAAS,CACtBC,OAAM,IAAAhO,OAAM3J,EAAUqE,kBAAhB,UAAAsF,OAA0C3J,EAAUwE,sBAApD,OAAAmF,OAA+E3J,EAAUuG,gBAC/FsR,MAAO,YACPD,OAAQ,QACRE,YAAW,IAAAnO,OAAM3J,EAAU+E,cAC3BwZ,KAAM,IACNxG,UAAW,UACXC,QAAS,SAAUpN,EAAOqN,GACtB,IAAIL,EAASK,EAAGL,OACZM,EAAOD,EAAGC,KAEVN,GACAA,EAAOxE,SAGXzB,EAAa7Z,KAAKR,GAEsB,mBAA7B4Y,EAAQvF,kBACfuF,EAAQvF,iBAAiB7S,KAAKR,EAAMsT,EAAOC,GAG/CqN,EAAKza,SAASuC,EAAUE,aACxB+W,EAAcgH,IAElB9F,MAAO,SAAUzd,EAAGud,GAChBA,EAAGC,KAAKza,SAASuC,EAAUE,aAC3B+X,EAAGC,KAAKza,SAASuC,EAAUmB,uBAE/BiX,KAAM,SAAU1d,EAAGud,GACXA,EAAGL,QACHK,EAAGL,OAAOxE,SAEd6E,EAAGC,KAAKxa,YAAYsC,EAAUE,aAC9B+W,EAAcgH,MAItBA,EAAiBlM,SAAS,WAAWnE,KAAK,WACtC8I,EAAmB5e,KAAKR,EAAMuT,EAAa9Q,EAAExC,SAGR,mBAA9B2Y,EAAQnF,kBAAkC,CACjD,IAAIyT,EAActO,EAAQnF,kBAAkBjT,KAAKR,EAAMuT,GACnD2T,GAAeA,EAAYhkB,OAAS,GACpCT,EAAE6T,KAAK4Q,EAAa,WAChB9H,EAAmB5e,KAAKR,EAAMuT,EAAa9Q,EAAExC,SAKzD0f,EAAcgH,IC9EHQ,EAAA,WACX,IACIjgB,EADOjH,KACQiH,QACf0R,EAFO3Y,KAEQ2Y,QACfwO,EAHOnnB,KAGU6Y,aACjB6L,EAJO1kB,KAIQ0kB,QAAUliB,EAAC,sBAAA4P,OACf+U,EADe,aAAA/U,OACM3J,EAAUC,GADhB,KAAA0J,OACsB3J,EAAUM,QADhC,gCAAAqJ,OAER3J,EAAUC,GAFF,KAAA0J,OAEQ3J,EAAUqF,eAFlB,oCAAAsE,OAGJ3J,EAAUC,GAHN,KAAA0J,OAGY3J,EAAUsF,sBAHtB,2CAAAqE,OAIG3J,EAAUC,GAJb,KAAA0J,OAImB3J,EAAUmF,OAJ7B,kFAU9B3G,EAAQf,SAASuC,EAAUG,WAC3B3B,EAAQqd,MAAMI,GAEd,IAAIzR,EAjBOjT,KAiBOiT,OAASyR,EAAQlL,KAAR,IAAApH,OAAiB3J,EAAUmF,SAjB3C5N,KAkBNimB,UAAYhT,EAAOmU,WAlBbpnB,KAsBNimB,UAAUhlB,IAAI,GAAGmF,OAtBXpG,KAuBNimB,UAAUhlB,IAAI,GAAGomB,QAvBXrnB,KA0BNsnB,aAAerU,EAAO,GAAGsU,cAAgBtU,EAAO,GAAGsU,cAAgBtU,EAAO,GAAGuU,gBAAgBC,YA1BvFznB,KA2BNkT,WA3BMlT,KA2BYimB,UAAUzM,KAAK,QA3B3BxZ,KA4BNmT,WA5BMnT,KA4BYimB,UAAUzM,KAAK,QAGtC,IAAI5U,EAAS,GACbpC,EAAE,+BAA+B6T,KAAK,WAClC,IAAIhR,EAAQ7C,EAAExC,MACV0nB,EAAQriB,EAAMkR,KAAK,OAAS,GAC5BoR,EAAOtiB,EAAMkR,KAAK,SAAWlR,EAAMkR,KAAK,cAAgB,GAGxD3R,GADA+iB,EACM,gDAAAvV,OAAoDuV,EAApD,MAAAvV,OAA6DsV,EAA7D,SAEA,0BAAAtV,OAA8BsV,EAA9B,KAAAtV,OAAuC/M,EAAMmW,OAA7C,gBAGdhZ,EAAE2T,QAAQwC,EAAQ1G,gBAAkBzP,EAAE6T,KAAKsC,EAAQ1G,cAAe,SAAUnS,EAAGuF,GAC3E,IAAIqiB,EAAQriB,EAAMuiB,IAAM,GAEpBviB,EAAMsiB,KACN/iB,GAAM,gDAAAwN,OAAoD/M,EAAMsiB,KAA1D,MAAAvV,OAAmEsV,EAAnE,SAEN9iB,GAAM,0BAAAwN,OAA8BsV,EAA9B,KAAAtV,OAAuC/M,EAAMsN,QAA7C,gBAjDH3S,KAoDNkT,WAAWuI,OAAO7W,GApDZ5E,KAuDNmS,oBAAsB3P,EAAEmW,EAAQxG,qBAAuB,WAvDjDnS,KAwDNmS,oBAAoBoE,KAAK,QAA9B,GAAAnE,OAA0C3J,EAAUC,GAApD,KAAA0J,OAA0D3J,EAAUkF,wBAxDzD3N,KAyDNmS,oBAAoBqJ,KAAKvU,EAAQgW,OAAShW,EAAQuU,QAAU,IAzDtDxb,KA0DDmS,oBAAoBoE,KAAK,OA1DxBvW,KA2DFmS,oBAAoBoE,KAAK,KA3DvBvW,KA2DkC6Y,cA3DlC7Y,KA6DNmT,WAAWsI,OA7DLzb,KA6DiBmS,qBAAqBjM,SAASuC,EAAUoF,aAEhC,mBAAzB8K,EAAQ3F,cACf2F,EAAQ3F,aAAazS,KAhEdP,UAgE8BiT,OAhE9BjT,KAgE2CkT,WAhE3ClT,KAgE4DmT,YClE5D,WACX,IAII0U,EAJA9nB,EAAOC,KACP2Y,EAAU5Y,EAAK4Y,QACfxG,EAAsBpS,EAAKoS,oBAO/B,GAJIwG,EAAQzG,uBACR2V,EAAe1V,EAAoBqH,KAAKb,EAAQzG,wBAG/C2V,GAAwC,IAAxBA,EAAa5kB,OAAc,CAC5C,IAAI6kB,EAAkB3V,EAAoBqJ,OAE1CqM,EAAerlB,EAAE,WAAWgZ,KAAKsM,GACjC3V,EAAoB4V,QAAQtM,OAAOoM,GAGvCA,EAAaxR,KAAK,WACd,IAAI/C,EAAc9Q,EAAExC,MACfsT,EAAYiD,KAAK,OAClBjD,EAAYiD,KAAK,KAAMsC,KAG3BgO,EAAgBtmB,KAAKR,EAAMuT,MD8Cd/S,KAnENP,MAoEXgmB,EAAkBzlB,KApEPP,OEGA4e,EAAA,SAAU3I,EAAQ+R,GAClBhoB,KACNiH,QAAUgP,EADJjW,KAEN2Y,QAAUnW,EAAEE,OAAO,GAAIulB,EAAUD,GAEtCd,EAAW3mB,KAJAP,MAKX4kB,EAAWrkB,KALAP,MCLA,WACX,IAAID,EAAOC,KACPkoB,EAAYrP,IAEZwB,EAAUta,EAAKsa,QAAU7X,EAAC,yBAAA4P,OACZ3J,EAAUC,GADE,KAAA0J,OACI3J,EAAU8B,QADd,UAAA6H,OAC8B8V,EAD9B,gCAAA9V,OAER3J,EAAUC,GAFF,KAAA0J,OAEQ3J,EAAU+B,eAFlB,qCAAA4H,OAGH3J,EAAUC,GAHP,KAAA0J,OAGa3J,EAAUiC,cAHvB,oEAAA0H,OAIqB3J,EAAUC,GAJ/B,KAAA0J,OAIqC3J,EAAUkC,eAJ/C,+DAAAyH,OAMR3J,EAAUC,GANF,KAAA0J,OAMQ3J,EAAUgC,aANlB,mCAU9B4P,EAAQb,KAAR,IAAApH,OAAiB3J,EAAUkC,iBAAkBkS,GAAG,QAAS,SAAU1Z,GAC/DA,EAAE+c,iBAEF9F,EAAa7Z,KAAKR,KAGtBA,EAAKsb,aAAehB,EAAQb,KAAR,IAAApH,OAAiB3J,EAAUiC,iBAC7B3K,EAAKwa,YAAcF,EAAQb,KAAR,IAAApH,OAAiB3J,EAAUgC,gBACpDoS,GAAG,SAAU,OAAQ,SAAU1Z,GAEvC,OADAA,EAAE+c,kBACK,IAGX7F,EAAQ4F,SAASlgB,EAAK2kB,UDhBVnkB,KANDP,MAOXohB,EAAkB7gB,KAPPP,MEPA,WACX,IAAID,EAAOC,KACP2Y,EAAU5Y,EAAK4Y,QAEnB,GAAInW,EAAE2lB,cAAcxP,EAAQzI,eAAgB,KAAAkY,EAAA,SAC/BzmB,GACL,IAAI0mB,EAAe1P,EAAQzI,cAAcvO,GAErCqE,EAA0C,mBAAzBqiB,EAAariB,QAAyBqiB,EAAariB,QAAQzF,KAAKR,EAAMsoB,GAAgBA,EAAariB,QACxHA,EAAQuQ,KAAK,qBAAsB5U,GACnCqE,EAAQ6W,GAAG,QAAS,SAAU1Z,GAC1BA,EAAE+c,iBAEFnE,EAAYxb,KAAKR,EAAMiG,MAR/B,IAAK,IAAIrE,KAAOgX,EAAQzI,cAAekY,EAA9BzmB,KFUKpB,KARPP,WAUN4nB,GAAK/O,IACVkB,QAAQuO,UAXGtoB,KAWY4nB,IAXZ5nB,KAayB,mBAbzBA,KAaK2Y,QAAQlG,SAbbzS,KAcF2Y,QAAQlG,QAAQlS,KAddP,OGNAuoB,EAAA,WACX,IACIthB,EADOjH,KACQiH,QACf2gB,EAFO5nB,KAEG4nB,GAEVjV,EAAUiR,EAAWrjB,KAJdP,MAIyB,GAJzBA,KAKN0kB,QAAQ7I,SAET5U,EAAQzB,GAAG,YACXyB,EAAQgW,IAAItK,GAEZ1L,EAAQuU,KAAK7I,GAGjB1L,EAAQd,YAAYsC,EAAUG,WAC9B3B,EAAQY,KAAK,UAAW,aACjBkS,QAAQuO,UAAUV,kSCA7B,IAAKplB,IAAE2B,GAAGgc,SACN,MAAM,IAAIqI,MAAM,wHAGpBC,OAAOC,eAAgB,MAGjB3O,aAoBF,SAAAA,EAAY9D,EAAQ+R,GAChB,mGADwBW,CAAA3oB,KAAA+Z,GAAA6O,EAAA5oB,KAAA,mBATT,MASS4oB,EAAA5oB,KAAA,mBART,MAQS4oB,EAAA5oB,KAAA,cANd,MAMc4oB,EAAA5oB,KAAA,aALf,MAKe4oB,EAAA5oB,KAAA,oBAHR,IAGQ4oB,EAAA5oB,KAAA,oBAFR,IAGT4e,EAAKpY,MAAMxG,KAAM,CAACiW,EAAQ+R,wDAMjC,GAAIa,SAAkC,mBAAhBA,QAAQC,KAAsBL,OAAOC,cAAe,SAAAzM,EAAAxV,UAAAxD,OADhEiZ,EACgE,IAAAC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IADhEF,EACgEE,GAAA3V,UAAA2V,GACtEyM,QAAQC,IAAItiB,MAAMqiB,QAAlB,CAA4B,gBAA5BzW,OAA+C8J,mCAI1C6M,GACT,MAAM,IAAIP,MAAJ,eAAApW,OAAyB2W,iCAGvB9S,EAAQ+R,GAChB,OAAO,IAAIjO,EAAQ9D,EAAQ+R,sDAM3B,OAAOhoB,KAAK6a,+DAIZ,OAAO7a,KAAK4a,sDAMZ,OAAO/B,8CAGO5C,EAAQC,EAAkBC,GACxC,OAAO6H,EAAkBxX,MAAMxG,KAAM,CAACiW,EAAQC,EAAkBC,4CAKpDlD,EAAQyR,GACpB,OCvFO,SAAUzR,EAAQyR,GACxBA,IACDzR,EAAOoM,KAAP,eAAAjN,OAA2B3J,EAAUwF,0BAArC,aACAyW,EAAUzR,EAAOqM,UAGrBoF,EAAQxe,SAAR,GAAAkM,OAAoB3J,EAAUuF,uBAE9B,IAAIgb,EAAQxmB,EAAC,eAAA4P,OAAgB3J,EAAUyF,aAA1B,aACbwW,EAAQuE,QAAQD,GAEhBtE,EAAQ7H,GAAG,aAAc,WACrB6H,EAAQve,YAAR,GAAAiM,OAAuB3J,EAAU0F,wBAGrC6a,EAAMnM,GAAG,WAAY,SAAU1Z,GAC3BA,EAAE+c,iBAEFwE,EAAQxe,SAAR,GAAAkM,OAAoB3J,EAAU0F,yBDqEP3H,MAAMxG,KAAM,CAACiT,EAAQyR,sCAKtC1D,EAASC,EAAWC,GAC1B,OAAOG,EAAU9gB,KAAKP,KAAMghB,EAASC,EAAWC,qCAG1C/H,GACN,OAAO+F,EAAU3e,KAAKP,KAAMmZ,sCAGrBA,GACP,OAAO+D,EAAW3c,KAAKP,KAAMmZ,4CAKhBlD,GACb8F,EAAYxb,KAAKP,KAAMiW,8CAIvBmE,EAAa7Z,KAAKP,yCAKXyW,GACP,OAAOmN,EAAWpd,MAAMxG,KAAM,CAACyW,uCAKxB9D,EAASW,GAChB,OE1HO,SAAUX,EAASW,GAC9B,IACInB,EADOnS,KACoB0kB,QAE1BpR,EAGIA,EAAYlP,SACbkP,EAAcnB,EAAoBqH,KAAKlG,IAH3CA,EAAcnB,EAAoBqI,SAApB,IAAApI,OAAiC3J,EAAU+E,eAOlC,IAAvB8F,EAAYrQ,QAXLjD,KAYFia,MAAM,gCAGf3G,EAAYkI,KAAK7I,GACjBkU,EAAgBtmB,KAAK+S,GAAa,IFyGZ9M,MAAMxG,KAAM,CAAC2S,EAASW,sCAMxC,OAAOyS,EAAQvf,MAAMxG,yCAKduY,EAAMxI,EAAOyI,EAAYC,EAAY9F,EAASyD,GACrD,OjEpIO,SAAUmC,EAAMxI,EAAOyI,EAAYC,EAAY9F,EAAS+F,GACnE,IAD8EiJ,EAAAuH,EAK1E5Q,EAAc/X,KAJPP,KAIkBuY,EAAMxI,EAAOyI,EAAYC,EAAY9F,EAAS+F,GALG,GAG1EI,EAH0E6I,EAAA,GAI1E5I,EAJ0E4I,EAAA,GACnE3hB,KAMNgZ,kBAAoBU,EANd1Z,KAMsCgZ,mBANtChZ,KAONiZ,kBAAoBS,EAPd1Z,KAOsCiZ,mBAPtCjZ,KASNmZ,MAAMK,KAAX,IAAApH,OAAoB3J,EAAUyD,WAAYuP,OAAO3C,GATtC9Y,KAUNmZ,MAAMK,KAAX,IAAApH,OAAoB3J,EAAU8C,aAAckQ,OAAO1C,GAX2B,IAAA8I,EAAAqH,EAanChQ,EAAoB3Y,KAZpDP,MADmE,GAazEoZ,EAbyEyI,EAAA,GAAAA,EAAA,GAc9DrI,KAAhB,IAAApH,OAAyB3J,EAAU0D,kBAAmBqP,KAAKpC,GAAmBpT,QAAQ,WiEsHhEQ,MAAMxG,KAAM,CAACuY,EAAMxI,EAAOyI,EAAYC,EAAY9F,EAASyD,2CA/G/E2D,aACgBkO,KADhBlO,WAEa,KAFbA,YAGe,WAHfA,cAIiB,MAJjBA,eAKkB,CAChBoP,MAAO,CACHxK,gBAAgB,KA6G5Bnc,IAAE2B,GAAGilB,QAAU,SAAUzQ,GACrB,IAAI1R,EAAUzE,IAAExC,MACZqpB,EAAWpiB,EAAQY,KAAK,WAE5B,MAAuB,iBAAZ8Q,GAKF0Q,IACDA,EAAWtP,EAAQ6E,KAAK3X,EAAS0R,GACjC1R,EAAQY,KAAK,UAAWwhB,IAGrBA,GATHA,GAAYA,EAAS1Q,IAAyC,mBAAtB0Q,EAAS1Q,GAC1C0Q,EAAS1Q,GAASnS,MAAM6iB,EAAUlN,MAAMna,UAAUsnB,MAAM/oB,KAAKkG,UAAW,SADnF,GAaRgiB,OAAO1O,QAAUvX,IAAE4mB,QAAU5mB,IAAE2B,GAAGilB,QAAQxmB,YAAcmX","file":"js/keditor.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jQuery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jQuery\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"jQuery\")) : factory(root[\"jQuery\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE__1__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","/*\n * jquery.fullscreen v0.6.0\n * https://github.com/private-face/jquery.fullscreen\n *\n * Copyright (c) 20122016 Vladimir Zhuravlev\n * Released under the MIT license\n * https://github.com/private-face/jquery.fullscreen/blob/master/LICENSE\n *\n * Date: 2016-08-25\n **/\n(function(global, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD\n\t\tdefine(['jquery'], function (jQuery) {\n\t\t\treturn factory(jQuery);\n\t\t});\n\t} else if (typeof exports === 'object') {\n\t\t// CommonJS/Browserify\n\t\tfactory(require('jquery'));\n\t} else {\n\t\t// Global\n\t\tfactory(global.jQuery);\n\t}\n}(this, function($) {\n\nfunction defined(a){return\"undefined\"!=typeof a}function extend(a,b,c){var d=function(){};d.prototype=b.prototype,a.prototype=new d,a.prototype.constructor=a,b.prototype.constructor=b,a._super=b.prototype,c&&$.extend(a.prototype,c)}function native(a,b){var c;\"string\"==typeof a&&(b=a,a=document);for(var d=0;d<SUBST.length;++d){b=b.replace(SUBST[d][0],SUBST[d][1]);for(var e=0;e<VENDOR_PREFIXES.length;++e)if(c=VENDOR_PREFIXES[e],c+=0===e?b:b.charAt(0).toUpperCase()+b.substr(1),defined(a[c]))return a[c]}}var SUBST=[[\"\",\"\"],[\"exit\",\"cancel\"],[\"screen\",\"Screen\"]],VENDOR_PREFIXES=[\"\",\"o\",\"ms\",\"moz\",\"webkit\",\"webkitCurrent\"],ua=navigator.userAgent,fsEnabled=native(\"fullscreenEnabled\"),parsedChromeUA=ua.match(/Android.*Chrome\\/(\\d+)\\./),IS_ANDROID_CHROME=!!parsedChromeUA,CHROME_VERSION,ANDROID_CHROME_VERSION;IS_ANDROID_CHROME&&(ANDROID_CHROME_VERSION=parseInt(parsedChromeUA[1]));var IS_NATIVELY_SUPPORTED=(!IS_ANDROID_CHROME||ANDROID_CHROME_VERSION>37)&&defined(native(\"fullscreenElement\"))&&(!defined(fsEnabled)||fsEnabled===!0),version=$.fn.jquery.split(\".\"),JQ_LT_17=parseInt(version[0])<2&&parseInt(version[1])<7,FullScreenAbstract=function(){this.__options=null,this._fullScreenElement=null,this.__savedStyles={}};FullScreenAbstract.prototype={native:native,_DEFAULT_OPTIONS:{styles:{boxSizing:\"border-box\",MozBoxSizing:\"border-box\",WebkitBoxSizing:\"border-box\"},toggleClass:null},__documentOverflow:\"\",__htmlOverflow:\"\",_preventDocumentScroll:function(){this.__documentOverflow=document.body.style.overflow,this.__htmlOverflow=document.documentElement.style.overflow,$(this._fullScreenElement).is(\"body, html\")||$(\"body, html\").css(\"overflow\",\"hidden\")},_allowDocumentScroll:function(){document.body.style.overflow=this.__documentOverflow,document.documentElement.style.overflow=this.__htmlOverflow},_fullScreenChange:function(){this.__options&&(this.isFullScreen()?(this._preventDocumentScroll(),this._triggerEvents()):(this._allowDocumentScroll(),this._revertStyles(),this._triggerEvents(),this._fullScreenElement=null))},_fullScreenError:function(a){this.__options&&(this._revertStyles(),this._fullScreenElement=null,a&&$(document).trigger(\"fscreenerror\",[a]))},_triggerEvents:function(){$(this._fullScreenElement).trigger(this.isFullScreen()?\"fscreenopen\":\"fscreenclose\"),$(document).trigger(\"fscreenchange\",[this.isFullScreen(),this._fullScreenElement])},_saveAndApplyStyles:function(){var a=$(this._fullScreenElement);this.__savedStyles={};for(var b in this.__options.styles)this.__savedStyles[b]=this._fullScreenElement.style[b],this._fullScreenElement.style[b]=this.__options.styles[b];a.is(\"body\")&&(document.documentElement.style.overflow=this.__options.styles.overflow),this.__options.toggleClass&&a.addClass(this.__options.toggleClass)},_revertStyles:function(){var a=$(this._fullScreenElement);for(var b in this.__options.styles)this._fullScreenElement.style[b]=this.__savedStyles[b];a.is(\"body\")&&(document.documentElement.style.overflow=this.__savedStyles.overflow),this.__options.toggleClass&&a.removeClass(this.__options.toggleClass)},open:function(a,b){a!==this._fullScreenElement&&(this.isFullScreen()&&this.exit(),this._fullScreenElement=a,this.__options=$.extend(!0,{},this._DEFAULT_OPTIONS,b),this._saveAndApplyStyles())},exit:null,isFullScreen:null,isNativelySupported:function(){return IS_NATIVELY_SUPPORTED}};var FullScreenNative=function(){FullScreenNative._super.constructor.apply(this,arguments),this.exit=$.proxy(native(\"exitFullscreen\"),document),this._DEFAULT_OPTIONS=$.extend(!0,{},this._DEFAULT_OPTIONS,{styles:{width:\"100%\",height:\"100%\"}}),$(document).bind(this._prefixedString(\"fullscreenchange\")+\" MSFullscreenChange\",$.proxy(this._fullScreenChange,this)).bind(this._prefixedString(\"fullscreenerror\")+\" MSFullscreenError\",$.proxy(this._fullScreenError,this))};extend(FullScreenNative,FullScreenAbstract,{VENDOR_PREFIXES:[\"\",\"o\",\"moz\",\"webkit\"],_prefixedString:function(a){return $.map(this.VENDOR_PREFIXES,function(b){return b+a}).join(\" \")},open:function(a,b){FullScreenNative._super.open.apply(this,arguments);var c=native(a,\"requestFullscreen\");c.call(a)},exit:$.noop,isFullScreen:function(){return null!==native(\"fullscreenElement\")},element:function(){return native(\"fullscreenElement\")}});var FullScreenFallback=function(){FullScreenFallback._super.constructor.apply(this,arguments),this._DEFAULT_OPTIONS=$.extend({},this._DEFAULT_OPTIONS,{styles:{position:\"fixed\",zIndex:\"2147483647\",left:0,top:0,bottom:0,right:0}}),this.__delegateKeydownHandler()};extend(FullScreenFallback,FullScreenAbstract,{__isFullScreen:!1,__delegateKeydownHandler:function(){var a=$(document);a.delegate(\"*\",\"keydown.fullscreen\",$.proxy(this.__keydownHandler,this));var b=JQ_LT_17?a.data(\"events\"):$._data(document).events,c=b.keydown;JQ_LT_17?b.live.unshift(b.live.pop()):c.splice(0,0,c.splice(c.delegateCount-1,1)[0])},__keydownHandler:function(a){return!this.isFullScreen()||27!==a.which||(this.exit(),!1)},_revertStyles:function(){FullScreenFallback._super._revertStyles.apply(this,arguments),this._fullScreenElement.offsetHeight},open:function(a){FullScreenFallback._super.open.apply(this,arguments),this.__isFullScreen=!0,this._fullScreenChange()},exit:function(){this.__isFullScreen&&(this.__isFullScreen=!1,this._fullScreenChange())},isFullScreen:function(){return this.__isFullScreen},element:function(){return this.__isFullScreen?this._fullScreenElement:null}}),$.fullscreen=IS_NATIVELY_SUPPORTED?new FullScreenNative:new FullScreenFallback,$.fn.fullscreen=function(a){var b=this[0];return a=$.extend({toggleClass:null,overflow:\"hidden\"},a),a.styles={overflow:a.overflow},delete a.overflow,b&&$.fullscreen.open(b,a),this};\n//# sourceMappingURL=jquery.fullscreen.min.js.mapreturn $.fullscreen;\n}));","const CSS_CLASS = {\r\n    UI: 'keditor-ui',\r\n    UI_DRAGGING: 'keditor-ui-dragging',\r\n    UI_HIDDEN: 'keditor-ui-hidden',\r\n    UI_CUTTING: 'keditor-ui-cutting',\r\n    \r\n    SORTABLE: 'ui-sortable',\r\n    \r\n    WRAPPER: 'keditor-wrapper',\r\n    \r\n    BTN: 'keditor-btn',\r\n    BTN_GROUP: 'keditor-btn-group',\r\n    BTN_PRIMARY: 'keditor-btn-primary',\r\n    BTN_DEFAULT: 'keditor-btn-default',\r\n    \r\n    STATE_ACTIVE: 'active',\r\n    STATE_OPENED: 'opened',\r\n    STATE_SHOWED: 'showed',\r\n    STATE_SELECTED: 'selected',\r\n    STATE_DUPLICATED: 'duplicated',\r\n    STATE_INITIALIZED: 'initialized',\r\n    STATE_INITIALIZING: 'initializing',\r\n    STATE_PREVIEWING: 'previewing',\r\n    STATE_TOOLBAR_SHOWED: 'showed-keditor-toolbar',\r\n    STATE_MODAL_OPENED: 'opened-modal',\r\n    STATE_NOT_MATCHED: 'not-matched',\r\n    STATE_HAS_CHILDREN: 'has-children',\r\n    STATE_HAS_FOOTER: 'has-footer',\r\n    STATE_COPYING: 'copying',\r\n    STATE_COPYING_COMPONENT: 'copying-component',\r\n    STATE_COPYING_CONTAINER: 'copying-container',\r\n    STATE_COPYING_SUB_CONTAINER: 'copying-sub-container',\r\n    \r\n    ADD_CONTENT: 'btn-add-content',\r\n    PASTE_CONTENT: 'btn-paste-content',\r\n    \r\n    SIDEBAR: 'keditor-sidebar',\r\n    SIDEBAR_HEADER: 'keditor-sidebar-header',\r\n    SIDEBAR_BODY: 'keditor-sidebar-body',\r\n    SIDEBAR_TITLE: 'keditor-sidebar-title',\r\n    SIDEBAR_CLOSER: 'keditor-sidebar-closer',\r\n    \r\n    TOPBAR: 'keditor-topbar',\r\n    TOPBAR_LEFT: 'keditor-topbar-left',\r\n    TOPBAR_CENTER: 'keditor-topbar-center',\r\n    TOPBAR_RIGHT: 'keditor-topbar-right',\r\n    TOPBAR_BUTTON: 'keditor-topbar-btn',\r\n    TOPBAR_TITLE: 'keditor-topbar-title',\r\n    \r\n    MODAL: 'keditor-modal',\r\n    MODAL_COMPONENT: 'keditor-modal-component',\r\n    MODAL_CONTAINER: 'keditor-modal-container',\r\n    MODAL_HEADER: 'keditor-modal-header',\r\n    MODAL_TITLE: 'keditor-modal-title',\r\n    MODAL_BODY: 'keditor-modal-body',\r\n    MODAL_FOOTER: 'keditor-modal-footer',\r\n    MODAL_CLOSE: 'keditor-modal-close',\r\n    MODAL_ADD: 'keditor-modal-add',\r\n    \r\n    SNIPPET: 'keditor-snippet',\r\n    SNIPPET_INNER: 'keditor-snippet-inner',\r\n    SNIPPET_TITLE: 'keditor-snippet-title',\r\n    SNIPPET_ADD: 'keditor-snippet-add',\r\n    SNIPPET_PREVIEW: 'keditor-snippet-preview',\r\n    SNIPPET_CONTAINER: 'keditor-snippet-container',\r\n    SNIPPET_COMPONENT: 'keditor-snippet-component',\r\n    SNIPPETS: 'keditor-snippets',\r\n    SNIPPETS_FILTER: 'keditor-snippets-filter',\r\n    SNIPPETS_FILTER_COMPONENT: 'keditor-snippets-filter-component',\r\n    SNIPPETS_FILTER_CONTAINER: 'keditor-snippets-filter-container',\r\n    SNIPPETS_FILTER_LABEL: 'keditor-snippets-filter-label',\r\n    SNIPPETS_SEARCH: 'keditor-snippets-search',\r\n    SNIPPETS_FILTER_WRAPPER: 'keditor-snippets-filter-wrapper',\r\n    SNIPPETS_COMPONENT: 'keditor-snippets-component',\r\n    SNIPPETS_WRAPPER: 'keditor-snippets-wrapper',\r\n    \r\n    TOOLBAR: 'keditor-toolbar',\r\n    TOOLBAR_BOTTOM: 'keditor-toolbar-bottom',\r\n    TOOLBAR_CONTENT_AREA: 'keditor-toolbar-content-area',\r\n    TOOLBAR_CONTAINER: 'keditor-toolbar-container',\r\n    TOOLBAR_CONTAINER_BOTTOM: 'keditor-toolbar-bottom-container',\r\n    TOOLBAR_CONTAINER_CONTENT: 'keditor-toolbar-container-content',\r\n    TOOLBAR_SUB_CONTAINER: 'keditor-toolbar-sub-container',\r\n    TOOLBAR_SUB_CONTAINER_BOTTOM: 'keditor-toolbar-bottom-sub-container',\r\n    TOOLBAR_COMPONENT: 'keditor-toolbar-component',\r\n    TOOLBAR_COMPONENT_BOTTOM: 'keditor-toolbar-bottom-component',\r\n    \r\n    SETTING: 'keditor-setting',\r\n    SETTING_FORM: 'keditor-setting-form',\r\n    SETTING_FORM_LOADING: 'keditor-setting-form-loading',\r\n    \r\n    CONTENT_AREA: 'keditor-content-area',\r\n    CONTENT_AREA_INNER: 'keditor-content-area-inner',\r\n    CONTENT_AREAS: 'keditor-content-areas',\r\n    CONTENT_AREAS_WRAPPER: 'keditor-content-areas-wrapper',\r\n    \r\n    IFRAME: 'keditor-iframe',\r\n    IFRAME_BODY: 'keditor-iframe-body',\r\n    IFRAME_WRAPPER: 'keditor-iframe-wrapper',\r\n    IFRAME_WIDTH_SWITCHER: 'keditor-iframe-width-switcher',\r\n    IFRAME_COVER_WRAPPER: 'keditor-iframe-cover-wrapper',\r\n    IFRAME_COVER_WRAPPER_FAKE: 'keditor-iframe-cover-wrapper-fake',\r\n    IFRAME_COVER: 'keditor-iframe-cover',\r\n    IFRAME_COVER_HIDDEN: 'hidden-cover',\r\n    \r\n    COMPONENT: 'keditor-component',\r\n    COMPONENT_MOVE: 'btn-component-move',\r\n    COMPONENT_MOVE_UP: 'btn-component-move-up',\r\n    COMPONENT_MOVE_DOWN: 'btn-component-move-down',\r\n    COMPONENT_SETTING: 'btn-component-setting',\r\n    COMPONENT_DUPLICATE: 'btn-component-duplicate',\r\n    COMPONENT_COPY: 'btn-component-copy',\r\n    COMPONENT_CUT: 'btn-component-cut',\r\n    COMPONENT_DELETE: 'btn-component-delete',\r\n    COMPONENT_CONTENT: 'keditor-component-content',\r\n    COMPONENT_EXISTING: 'existing-component',\r\n    \r\n    CONTAINER: 'keditor-container',\r\n    CONTAINER_MOVE: 'btn-container-move',\r\n    CONTAINER_MOVE_UP: 'btn-container-move-up',\r\n    CONTAINER_MOVE_DOWN: 'btn-container-move-down',\r\n    CONTAINER_DUPLICATE: 'btn-container-duplicate',\r\n    CONTAINER_COPY: 'btn-container-copy',\r\n    CONTAINER_CUT: 'btn-container-cut',\r\n    CONTAINER_DELETE: 'btn-container-delete',\r\n    CONTAINER_SETTING: 'btn-container-setting',\r\n    CONTAINER_INNER: 'keditor-container-inner',\r\n    CONTAINER_CONTENT: 'keditor-container-content',\r\n    CONTAINER_CONTENT_INNER: 'keditor-container-content-inner',\r\n    \r\n    SUB_CONTAINER: 'keditor-sub-container',\r\n    SUB_CONTAINER_CONTENT: 'keditor-sub-container-content',\r\n    \r\n    PREVIEW_AREA: 'keditor-preview-area',\r\n};\r\n\r\nexport default CSS_CLASS;\r\n","import CSS_CLASS from './cssClass';\r\n\r\nexport default {\r\n    \r\n    /*\r\n     * Title will be showed in left of topbar\r\n     * @option {String}\r\n     */\r\n    title: 'Editing with KEditor',\r\n    \r\n    /*\r\n     * Enable nested container or not\r\n     * @option {Boolean}\r\n     */\r\n    nestedContainerEnabled: true,\r\n    \r\n    /*\r\n     * containerForQuickAddComponent The container snippet which will be added automatically in content are when you adding a component. Note: component will be added in first container content of container\r\n     * @option {String}\r\n     */\r\n    containerForQuickAddComponent: `\r\n        <div class=\"row\">\r\n            <div class=\"col-sm-12\" data-type=\"container-content\">\r\n            </div>\r\n        </div>\r\n    `,\r\n    \r\n    /*\r\n     * Extra settings in sidebar\r\n     * @option {Object<String, Object>}\r\n     * @format:\r\n     * {\r\n     *     settingName: {\r\n     *         title,\r\n     *         content,\r\n     *         trigger\r\n     *         settingShowFunction\r\n     *     }\r\n     * }\r\n     * @settingName.option {String} title\r\n     * @settingName.option {jQuery|Function} trigger If pass as function, argument will be current extra setting. This function must return a jQuery object\r\n     * @settingName.option {Function} settingInitFunction Same arguments with \"containerSettingInitFunction\"\r\n     * @settingName.option {Function} settingShowFunction Same arguments with \"containerSettingShowFunction\"\r\n     * @example:\r\n     * {\r\n     *     settingName1: {\r\n     *         title: 'Page Settings',\r\n     *         trigger: $('.btn-page-setting'),\r\n     *         settingInitFunction: function (form, keditor) {\r\n     *             form.append('<div>This is content of page settings</div>');\r\n     *         },\r\n     *         settingShowFunction: function (form, trigger, keditor) {\r\n     *             // Do something\r\n     *         }\r\n     *     },\r\n     *     settingName2: {\r\n     *         title: 'Page Settings 2',\r\n     *         triggerSelector: '.btn-page-settings',\r\n     *         trigger: function (extraSetting) {\r\n     *             return $(extraSetting.triggerSelector);\r\n     *         },\r\n     *         settingInitFunction: function (form, keditor) {\r\n     *             form.append('<div>This is content of page settings 2</div>');\r\n     *         },\r\n     *         settingShowFunction: function (form, trigger, keditor) {\r\n     *             // Do something\r\n     *         }\r\n     *     }\r\n     * }\r\n     */\r\n    extraSettings: null,\r\n    \r\n    locale: {\r\n        /*\r\n         * Text title for devices switcher\r\n         * @option {String}\r\n         */\r\n        viewOnMobile: 'View on mobile',\r\n        viewOnTablet: 'View on tablet',\r\n        viewOnLaptop: 'View on laptop',\r\n        viewOnDesktop: 'View on desktop',\r\n    \r\n        /*\r\n         * Text title for preview mode\r\n         * @option {String}\r\n         */\r\n        previewOn: 'Preview ON',\r\n        previewOff: 'Preview OFF',\r\n    \r\n        /*\r\n         * Text title for fullscreen mode\r\n         * @option {String}\r\n         */\r\n        fullscreenOn: 'Fullscreen ON',\r\n        fullscreenOff: 'Fullscreen Off',\r\n    \r\n        /*\r\n         * Text title for save button\r\n         * @option {String}\r\n         */\r\n        save: 'Save',\r\n    \r\n        /*\r\n         * Text title for add content button\r\n         * @option {String}\r\n         */\r\n        addContent: 'Add content',\r\n    \r\n        /*\r\n         * Text title for add content button below sub-container and component\r\n         * @option {String}\r\n         */\r\n        addContentBelow: 'Add content below',\r\n    \r\n        /*\r\n         * Text title for move button\r\n         * @option {String}\r\n         */\r\n        move: 'Drag',\r\n    \r\n        /*\r\n         * Text title for move up button\r\n         * @option {String}\r\n         */\r\n        moveUp: 'Move up',\r\n    \r\n        /*\r\n         * Text title for move down button\r\n         * @option {String}\r\n         */\r\n        moveDown: 'Move down',\r\n    \r\n        /*\r\n         * Text title for setting button\r\n         * @option {String}\r\n         */\r\n        setting: 'Setting',\r\n    \r\n        /*\r\n         * Text title for copy button\r\n         * @option {String}\r\n         */\r\n        copy: 'Copy',\r\n    \r\n        /*\r\n         * Text title for cut button\r\n         * @option {String}\r\n         */\r\n        cut: 'Cut',\r\n    \r\n        /*\r\n         * Text title for paste button\r\n         * @option {String}\r\n         */\r\n        paste: 'Paste',\r\n    \r\n        /*\r\n         * Text title for delete button\r\n         * @option {String}\r\n         */\r\n        delete: 'Delete',\r\n    \r\n        /*\r\n         * Text title for container setting\r\n         * @option {String}\r\n         */\r\n        containerSetting: 'Container Settings',\r\n        \r\n        /*\r\n         * Text content for confirm dialog when deleting container\r\n         * @option {String}\r\n         */\r\n        confirmDeleteContainerText: 'Are you sure that you want to delete this container? This action can not be undone!',\r\n    \r\n        /*\r\n         * Text content for confirm dialog when deleting container\r\n         * @option {String}\r\n         */\r\n        confirmDeleteComponentText: 'Are you sure that you want to delete this component? This action can not be undone!',\r\n    },\r\n    \r\n    /*\r\n     * Width of mobile device\r\n     * @option {Number}\r\n     */\r\n    widthMobile: 420,\r\n    \r\n    /*\r\n     * Width of tablet device\r\n     * @option {Number}\r\n     */\r\n    widthTablet: 820,\r\n    \r\n    /*\r\n     * Width of laptop device\r\n     * @option {Number}\r\n     */\r\n    widthLaptop: 1050,\r\n    \r\n    /*\r\n     * Min width of desktop device\r\n     * @option {Number}\r\n     */\r\n    minWidthDesktop: 1200,\r\n    \r\n    /*\r\n     * Default component type of component. If type of component does not exist in KEditor.components, will be used \"defaultComponentType\" as type of this component. If is function, argument is component\r\n     * @option {String|Function}\r\n     * @param {jQuery} component\r\n     */\r\n    defaultComponentType: 'blank',\r\n    \r\n    /*\r\n     * Url to snippets file\r\n     * @option {String}\r\n     */\r\n    snippetsUrl: 'snippets/snippets.html',\r\n    \r\n    /*\r\n     * The separator character between each categories\r\n     * @option {String}\r\n     */\r\n    snippetsCategoriesSeparator: ';',\r\n    \r\n    /*\r\n     * Content styles for iframe mode. Beside of this option, KEditor will add all elements which have 'data-type=keditor-style' for iframe stylesheet. These elements can be 'link', 'style' or any tags. If these elements have 'href' attribute, will create link tag with href. If these elements do not have 'href' attribute, will create style tag with css rule is html code inside element\r\n     * @option {Array<Object>}\r\n     * @example:\r\n     * [\r\n     *     {\r\n     *         href: '/path/to/style/file'\r\n     *     }, {\r\n     *         content: 'a { color: red; }'\r\n     *     }\r\n     * ]\r\n     */\r\n    contentStyles: [],\r\n    \r\n    /*\r\n     * Selector of content areas. If is null or selector does not match any elements, will create default content area and wrap all content inside it.\r\n     * @option {String}\r\n     */\r\n    contentAreasSelector: null,\r\n    \r\n    /*\r\n     * The wrapper element for all contents inside iframe or new div which will contains content of textarea. It's just for displaying purpose. If you want all contents inside iframe are appended into body tag, just leave it as blank\r\n     * @option {String}\r\n     */\r\n    contentAreasWrapper: `<div class=\"${CSS_CLASS.UI} ${CSS_CLASS.CONTENT_AREAS_WRAPPER}\"></div>`,\r\n    \r\n    /*\r\n     * Enable setting panel for container\r\n     * @option {Boolean}\r\n     */\r\n    containerSettingEnabled: false,\r\n    \r\n    /*\r\n     * Method will be called when initializing setting panel for container\r\n     * @option {Function}\r\n     * @param {jQuery} container\r\n     * @param {KEditor} keditorInstance\r\n     */\r\n    containerSettingInitFunction: null,\r\n    \r\n    /*\r\n     * Method will be called when setting panel for container is showed\r\n     * @option {Function}\r\n     * @param {jQuery} settingForm\r\n     * @param {jQuery} container\r\n     * @param {KEditor} keditorInstance\r\n     */\r\n    containerSettingShowFunction: null,\r\n    \r\n    /*\r\n     * Method will be called when setting panel for container is hidden\r\n     * @option {Function}\r\n     * @param {jQuery} settingForm\r\n     * @param {KEditor} keditorInstance\r\n     */\r\n    containerSettingHideFunction: null,\r\n    \r\n    /*\r\n     * Callback will be called after keditor instance is ready\r\n     * @option {Function}\r\n     */\r\n    onReady: function () {\r\n    },\r\n    \r\n    /*\r\n     * Callback will be called after clicking on \"Save\" button in topbar\r\n     * @option {Function}\r\n     * @param {String} content\r\n     */\r\n    onSave: function (content) {\r\n    },\r\n    \r\n    /*\r\n     * Callback will be called after snippets are loaded. If you want to modify snippets content, please return modified\r\n     * @option {Function}\r\n     * @param {String} resp\r\n     * @return {String}\r\n     */\r\n    onSnippetsLoaded: function (resp) {\r\n    \r\n    },\r\n    \r\n    /*\r\n     * Callback will be called when error in loading snippets\r\n     * @option {Function}\r\n     * @param {jqXHR} jqXHR\r\n     */\r\n    onSnippetsError: function (jqXHR) {\r\n    \r\n    },\r\n    \r\n    /*\r\n     * Callback will be called after iframe and content areas wrapper inside it are created\r\n     * @option {Function}\r\n     * @param {jQuery} iframe\r\n     * @param {jQuery} iframeHead\r\n     * @param {jQuery} iframeBody\r\n     */\r\n    onInitIframe: function (iframe, iframeHead, iframeBody) {\r\n    },\r\n    \r\n    /*\r\n     * Callback will be called when content is changed. Includes add, delete, duplicate container or component. Or content of a component is changed\r\n     * @option {Function}\r\n     * @param {Event} event\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onContentChanged: function (event, contentArea) {\r\n    },\r\n    \r\n    /*\r\n     * Callback will be called before initializing container\r\n     * @option {Function}\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onBeforeInitContentArea: function (contentArea) {\r\n    },\r\n    \r\n    /*\r\n     * Callback will be called when initializing content area. It can return array of jQuery objects which will be initialized as container in content area. By default, all first level sections under content area will be initialized\r\n     * @option {Function}\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onInitContentArea: function (contentArea) {\r\n    },\r\n    \r\n    /*\r\n     * Callback will be called before initializing container\r\n     * @option {Function}\r\n     * @param {jQuery} container\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onBeforeInitContainer: function (container, contentArea) {\r\n    },\r\n    \r\n    /*\r\n     * Callback will be called when initializing container. It can return array of jQuery objects which will be initialized as editable components in container content (NOTE: these objects MUST be under elements which have attribute data-type=`container-content\"). By default, all first level sections under container content will be initialized\r\n     * @option {Function}\r\n     * @param {jQuery} container\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onInitContainer: function (container, contentArea) {\r\n    },\r\n    \r\n    /*\r\n     * Callback will be called before container is deleted\r\n     * @option {Function}\r\n     * @param {Event} event\r\n     * @param {jQuery} selectedContainer\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onBeforeContainerDeleted: function (event, selectedContainer, contentArea) {\r\n    },\r\n    \r\n    /*\r\n     * Callback will be called after container and its components are already deleted\r\n     * @option {Function}\r\n     * @param {Event} event\r\n     * @param {jQuery} selectedContainer\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onContainerDeleted: function (event, selectedContainer, contentArea) {\r\n    },\r\n    \r\n    /*\r\n     * Callback will be called when content of container is changed. It can be when container received new component from snippet or from other container. Or content of any components are changed or any components are deleted or duplicated\r\n     * @option {Function}\r\n     * @param {Event} event\r\n     * @param {jQuery} changedContainer\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onContainerChanged: function (event, changedContainer, contentArea) {\r\n    },\r\n    \r\n    /*\r\n     * Callback will be called when a container is duplicated\r\n     * @option {Function}\r\n     * @param {Event} event\r\n     * @param {jQuery} originalContainer\r\n     * @param {jQuery} newContainer\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onContainerDuplicated: function (event, originalContainer, newContainer, contentArea) {\r\n    },\r\n    \r\n    /*\r\n     * Callback will be called when a container is selected\r\n     * @option {Function}\r\n     * @param {Event} event\r\n     * @param {jQuery} selectedContainer\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onContainerSelected: function (event, selectedContainer, contentArea) {\r\n    },\r\n    \r\n    /*\r\n     * Callback will be called when a container snippet is added in a content area\r\n     * @option {Function}\r\n     * @param {Event} event\r\n     * @param {jQuery} newContainer\r\n     * @param {jQuery} selectedSnippet\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onContainerSnippetAdded: function (event, newContainer, selectedSnippet, contentArea) {\r\n    },\r\n    \r\n    /*\r\n     * Callback will be called after component is initialized. This callback is available or not is depend on component type handler.\r\n     * @option {Function}\r\n     * @param {jQuery} component\r\n     */\r\n    onComponentReady: function (component) {\r\n    },\r\n    \r\n    /*\r\n     * Callback will be called before initializing component\r\n     * @option {Function}\r\n     * @param {jQuery} component\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onBeforeInitComponent: function (component, contentArea) {\r\n    },\r\n    \r\n    /*\r\n     * Callback will be called when initializing component\r\n     * @option {Function}\r\n     * @param {jQuery} component\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onInitComponent: function (component, contentArea) {\r\n    },\r\n    \r\n    /*\r\n     * Callback will be called before a component is deleted\r\n     * @option {Function}\r\n     * @param {Event} event\r\n     * @param {jQuery} selectedComponent\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onBeforeComponentDeleted: function (event, selectedComponent, contentArea) {\r\n    },\r\n    \r\n    /*\r\n     * Callback will be called after a component is deleted\r\n     * @option {Function}\r\n     * @param {Event} event\r\n     * @param {jQuery} selectedComponent\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onComponentDeleted: function (event, selectedComponent, contentArea) {\r\n    },\r\n    \r\n    /*\r\n     * Callback will be called when content of a component is changed\r\n     * @option {Function}\r\n     * @param {Event} event\r\n     * @param {jQuery} changedComponent\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onComponentChanged: function (event, changedComponent, contentArea) {\r\n    },\r\n    \r\n    /*\r\n     * Callback will be called when a component is duplicated\r\n     * @option {Function}\r\n     * @param {Event} event\r\n     * @param {jQuery} originalComponent\r\n     * @param {jQuery} newComponent\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onComponentDuplicated: function (event, originalComponent, newComponent, contentArea) {\r\n    },\r\n    \r\n    /*\r\n     * Callback will be called when a component is selected\r\n     * @option {Function}\r\n     * @param {Event} event\r\n     * @param {jQuery} selectedComponent\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onComponentSelected: function (event, selectedComponent, contentArea) {\r\n    },\r\n    \r\n    /*\r\n     * Callback will be called after a component snippet is added in a container\r\n     * @option {Function}\r\n     * @param {Event} event\r\n     * @param {jQuery} newComponent\r\n     * @param {jQuery} selectedSnippet\r\n     * @param {jQuery} contentArea\r\n     */\r\n    onComponentSnippetAdded: function (event, newComponent, selectedSnippet, contentArea) {\r\n    },\r\n    \r\n    /*\r\n     * Callback will be called before loading dynamic content\r\n     * @option {Function}\r\n     * @param {jQuery} dynamicElement\r\n     * @param {jQuery} component\r\n     * @param {jQuery} contentArea Can be null if preview is ON\r\n     */\r\n    onBeforeDynamicContentLoad: function (dynamicElement, component, contentArea) {\r\n    },\r\n    \r\n    /*\r\n     * Callback will be called after dynamic content is loaded\r\n     * @option {Function}\r\n     * @param {jQuery} dynamicElement\r\n     * @param {jqXHR} , jqXHR\r\n     * @param {jQuery} contentArea Can be null if preview is ON\r\n     */\r\n    onDynamicContentLoaded: function (dynamicElement, jqXHR, contentArea) {\r\n    },\r\n    \r\n    /*\r\n     * Callback will be called if loading dynamic content is error, abort or timeout\r\n     * @option {Function}\r\n     * @param {jQuery} dynamicElement\r\n     * @param {jqXHR} , jqXHR\r\n     * @param {jQuery} contentArea Can be null if preview is ON\r\n     */\r\n    onDynamicContentError: function (dynamicElement, jqXHR, contentArea) {\r\n    }\r\n};\r\n\r\n","export default function () {\r\n    let timestamp = (new Date()).getTime();\r\n    let random = Math.round(Math.random() * 9876543210);\r\n    return `keditor-ui-${timestamp}${random}`;\r\n};\r\n","export default function (target, ignoreAttributes, isArray) {\r\n    let dataAttributes = isArray ? [] : {};\r\n    if (!ignoreAttributes) {\r\n        ignoreAttributes = [];\r\n    }\r\n    \r\n    $.each(target.get(0).attributes, function (i, attr) {\r\n        if (attr.name.indexOf('data-') === 0 && $.inArray(attr.name, ignoreAttributes) === -1) {\r\n            if (isArray) {\r\n                dataAttributes.push(`${attr.name}=\"${attr.value}\"`);\r\n            } else {\r\n                dataAttributes[attr.name] = attr.value;\r\n            }\r\n        }\r\n    });\r\n    \r\n    return dataAttributes;\r\n};\r\n","const ICON = {\r\n    ADD_CONTENT: '<i class=\"fa fa-plus\"></i>',\r\n    PASTE_CONTENT: '<i class=\"fa fa-paste\"></i>',\r\n    \r\n    MOVE_CONTAINER: '<i class=\"fa fa-arrows-v\"></i>',\r\n    MOVE_COMPONENT: '<i class=\"fa fa-arrows\"></i>',\r\n    \r\n    MOVE_UP_CONTAINER: '<i class=\"fa fa-chevron-up\"></i>',\r\n    MOVE_UP_COMPONENT: '<i class=\"fa fa-chevron-up\"></i>',\r\n    \r\n    MOVE_DOWN_CONTAINER: '<i class=\"fa fa-chevron-down\"></i>',\r\n    MOVE_DOWN_COMPONENT: '<i class=\"fa fa-chevron-down\"></i>',\r\n    \r\n    SETTING_CONTAINER: '<i class=\"fa fa-cog\"></i>',\r\n    SETTING_COMPONENT: '<i class=\"fa fa-cog\"></i>',\r\n    \r\n    DUPLICATE_CONTAINER: '<i class=\"fa fa-files-o\"></i>',\r\n    DUPLICATE_COMPONENT: '<i class=\"fa fa-files-o\"></i>',\r\n    \r\n    COPY_CONTAINER: '<i class=\"fa fa-files-o\"></i>',\r\n    COPY_COMPONENT: '<i class=\"fa fa-files-o\"></i>',\r\n    \r\n    CUT_CONTAINER: '<i class=\"fa fa-cut\"></i>',\r\n    CUT_COMPONENT: '<i class=\"fa fa-cut\"></i>',\r\n    \r\n    DELETE_CONTAINER: '<i class=\"fa fa-trash-o\"></i>',\r\n    DELETE_COMPONENT: '<i class=\"fa fa-trash-o\"></i>',\r\n    \r\n    DEVICE_MOBILE: '<i class=\"fa fa-fw fa-mobile\"></i>',\r\n    DEVICE_TABLET: '<i class=\"fa fa-fw fa-tablet\"></i>',\r\n    DEVICE_LAPTOP: '<i class=\"fa fa-fw fa-laptop\"></i>',\r\n    DEVICE_DESKTOP: '<i class=\"fa fa-fw fa-desktop\"></i>',\r\n    \r\n    PREVIEW_ON: '<i class=\"fa fa-fw fa-eye\"></i>',\r\n    PREVIEW_OFF: '<i class=\"fa fa-fw fa-eye-slash\"></i>',\r\n    \r\n    FULLSCREEN_ON: '<i class=\"fa fa-fw fa-compress\"></i>',\r\n    FULLSCREEN_OFF: '<i class=\"fa fa-fw fa-expand\"></i>',\r\n    \r\n    SAVE: '<i class=\"fa fa-fw fa-save\"></i>',\r\n    \r\n    ADD: '<i class=\"fa fa-plus\"></i>'\r\n};\r\n\r\nexport default ICON;\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport ICON from '../constants/icon';\r\nimport generateId from '../utils/generateId';\r\n\r\nexport default function (type, title, previewUrl, categories, content, extraData) {\r\n    let self = this;\r\n    let options = self.options;\r\n    let snippetId = generateId();\r\n    let snippetPreviewHtml = `\r\n        <section\r\n            class=\"${CSS_CLASS.UI} ${CSS_CLASS.SNIPPET} ${type === 'container' ? CSS_CLASS.SNIPPET_CONTAINER : CSS_CLASS.SNIPPET_COMPONENT}\"\r\n            data-snippet=\"#${snippetId}\"\r\n            data-type=\"${type}\"\r\n            data-keditor-title=\"${title}\"\r\n            data-keditor-categories=\"${categories}\"\r\n        >\r\n            <span class=\"${CSS_CLASS.SNIPPET_INNER}\">\r\n                <span class=\"${CSS_CLASS.SNIPPET_PREVIEW}\" style=\"background-image: url('${previewUrl}')\"></span>\r\n                <span class=\"${CSS_CLASS.SNIPPET_TITLE}\" title=\"${title}\">${title}</span>\r\n                <span class=\"${CSS_CLASS.SNIPPET_ADD} ${CSS_CLASS.BTN} ${CSS_CLASS.BTN_PRIMARY}\" title=\"${title}\">${ICON.ADD} Add</span>\r\n            </span>\r\n        </section>\r\n    `;\r\n    let snippetContentHtml = `<script id=\"${snippetId}\" type=\"text/html\" ${extraData.join(' ')}>${content}</script>`;\r\n    \r\n    categories = categories.split(options.snippetsCategoriesSeparator);\r\n    \r\n    if (type === 'container') {\r\n        self.categoryContainer = self.categoryContainer.concat(categories);\r\n    } else if (type.indexOf('component') !== -1) {\r\n        self.categoryComponent = self.categoryComponent.concat(categories);\r\n    }\r\n    \r\n    return [\r\n        snippetPreviewHtml,\r\n        snippetContentHtml\r\n    ];\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let modal = self.modal;\r\n    \r\n    let categoriesOptions = `<option value=\"\" selected=\"selected\">All</option>`;\r\n    $.each(self.categoryComponent, function (i, category) {\r\n        categoriesOptions += `<option value=\"${category}\" class=\"${CSS_CLASS.SNIPPETS_FILTER_COMPONENT}\">${category}</option>`;\r\n    });\r\n    $.each(self.categoryContainer, function (i, category) {\r\n        let isDuplicateWithComponent = $.inArray(category, self.categoryComponent) !== -1;\r\n        categoriesOptions += `<option value=\"${category}\" class=\"${CSS_CLASS.SNIPPETS_FILTER_CONTAINER} ${isDuplicateWithComponent ? CSS_CLASS.STATE_DUPLICATED : ''}\">${category}</option>`;\r\n    });\r\n    \r\n    let filterWrapper = modal.find(`.${CSS_CLASS.SNIPPETS_FILTER_WRAPPER}`);\r\n    if (filterWrapper.length === 0) {\r\n        filterWrapper = $(`<div class=\"${CSS_CLASS.UI} ${CSS_CLASS.SNIPPETS_FILTER_WRAPPER}\"></div>`);\r\n        modal.find(`.${CSS_CLASS.MODAL_TITLE}`).replaceWith(filterWrapper);\r\n    }\r\n    \r\n    return [\r\n        categoriesOptions,\r\n        filterWrapper\r\n    ];\r\n};\r\n","export default function (categories) {\r\n    let newArray = [];\r\n    for (let i = 0; i < categories.length; i++) {\r\n        let category = categories[i] || '';\r\n        \r\n        if (category !== '' && $.inArray(category, newArray) === -1) {\r\n            newArray.push(category);\r\n        }\r\n    }\r\n    \r\n    return newArray.sort();\r\n};\r\n","import renderSnippet from './renderSnippet';\r\nimport renderSnippetFilter from './renderSnippetFilter';\r\nimport CSS_CLASS from '../constants/cssClass';\r\nimport beautifyCategories from '../utils/beautifyCategories';\r\n\r\nexport default function (type, title, previewUrl, categories, content, extraData) {\r\n    let self = this;\r\n    let [\r\n        snippetPreviewHtml,\r\n        snippetContentHtml\r\n    ] = renderSnippet.call(self, type, title, previewUrl, categories, content, extraData);\r\n    \r\n    self.categoryContainer = beautifyCategories(self.categoryContainer);\r\n    self.categoryComponent = beautifyCategories(self.categoryComponent);\r\n    \r\n    self.modal.find(`.${CSS_CLASS.SNIPPETS}`).append(snippetPreviewHtml);\r\n    self.modal.find(`.${CSS_CLASS.MODAL_BODY}`).append(snippetContentHtml);\r\n    \r\n    let [categoriesOptions, snippetsWrapper] = renderSnippetFilter.call(self);\r\n    snippetsWrapper.find(`.${CSS_CLASS.SNIPPETS_FILTER}`).html(categoriesOptions).trigger('change');\r\n};\r\n","export default function (component) {\r\n    let self = this;\r\n    let options = self.options;\r\n    \r\n    let componentType = (component.attr('data-type') || '').replace('component-', '');\r\n    if (componentType && (componentType in KEditor.components)) {\r\n        return componentType;\r\n    } else {\r\n        if (typeof options.defaultComponentType === 'string') {\r\n            componentType = options.defaultComponentType;\r\n        } else if (typeof options.defaultComponentType === 'function') {\r\n            componentType = options.defaultComponentType.call(self, component);\r\n        }\r\n        \r\n        if (!componentType) {\r\n            self.error('Component type is undefined!');\r\n        }\r\n        \r\n        return componentType;\r\n    }\r\n};\r\n","const SETTING_CATEGORY = {\r\n    COMPONENT: 'component',\r\n    CONTAINER: 'container',\r\n    EXTRA: 'extra',\r\n};\r\n\r\nexport default SETTING_CATEGORY;\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport SETTING_CATEGORY from '../constants/settingCategory';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let sidebar = self.sidebar;\r\n    let activeForm = self.sidebarBody.children(`.${CSS_CLASS.STATE_ACTIVE}`);\r\n    \r\n    if (activeForm.length > 0) {\r\n        switch (activeForm.attr('[data-setting-category]')) {\r\n            case SETTING_CATEGORY.CONTAINER:\r\n                if (typeof options.containerSettingHideFunction === 'function') {\r\n                    options.containerSettingHideFunction.call(self, activeForm, self);\r\n                }\r\n                break;\r\n                \r\n            case SETTING_CATEGORY.COMPONENT:\r\n                let activeType = activeForm.attr('data-type');\r\n                let componentData = KEditor.components[activeType];\r\n    \r\n                if (typeof componentData.hideSettingForm === 'function') {\r\n                    componentData.hideSettingForm.call(componentData, activeForm, self);\r\n                }\r\n                break;\r\n                \r\n            case SETTING_CATEGORY.EXTRA:\r\n                // TODO: Will add method when hiding setting for Extra setting\r\n                break;\r\n                \r\n            default:\r\n                // Do nothing\r\n        }\r\n        \r\n        activeForm.removeClass(CSS_CLASS.STATE_ACTIVE);\r\n    }\r\n    \r\n    self.settingComponent = null;\r\n    self.settingContainer = null;\r\n    sidebar.removeClass(CSS_CLASS.STATE_OPENED);\r\n}","import CSS_CLASS from '../constants/cssClass';\r\nimport SETTING_CATEGORY from '../constants/settingCategory';\r\nimport closeSidebar from './closeSidebar';\r\n\r\nexport default function (target, settingType, settingCategory, settingTitle, initFunction, showFunction, functionContext) {\r\n    let self = this;\r\n    let sidebar = self.sidebar;\r\n    let sidebarTitle = self.sidebarTitle;\r\n    let sidebarBody = self.sidebarBody;\r\n    \r\n    let settingForm = sidebarBody.children(`.${CSS_CLASS.SETTING_FORM}[data-setting-type=\"${settingType}\"][data-setting-category=\"${settingCategory}\"]`);\r\n    if (settingForm.length === 0) {\r\n        if (typeof initFunction === 'function') {\r\n            settingForm = $(`\r\n                <div\r\n                    data-setting-type=\"${settingType}\"\r\n                    data-setting-category=\"${settingCategory}\"\r\n                    class=\"${CSS_CLASS.UI} ${CSS_CLASS.SETTING_FORM}\"\r\n                ></div>\r\n            `);\r\n            let loadingText = $(`<span class=\"${CSS_CLASS.SETTING_FORM_LOADING}\" />`).html('Loading...');\r\n            sidebarBody.append(settingForm);\r\n            settingForm.append(loadingText);\r\n            \r\n            $.when(initFunction.call(functionContext, settingForm, self)).done(function () {\r\n                setTimeout(function () {\r\n                    loadingText.remove();\r\n                    \r\n                    if (typeof showFunction === 'function') {\r\n                        showFunction.call(functionContext, settingForm, target, self);\r\n                    }\r\n                }, 100);\r\n            });\r\n        }\r\n    } else {\r\n        if (settingForm.hasClass(CSS_CLASS.STATE_ACTIVE) && (target.is(self.settingContainer) || target.is(self.settingComponent))) {\r\n            closeSidebar.call(self);\r\n            return;\r\n        } else {\r\n            if (typeof showFunction === 'function') {\r\n                showFunction.call(functionContext, settingForm, target, self);\r\n            }\r\n        }\r\n    }\r\n    \r\n    self.settingComponent = null;\r\n    self.settingContainer = null;\r\n    \r\n    switch (settingCategory) {\r\n        case SETTING_CATEGORY.COMPONENT:\r\n            self.settingComponent = target;\r\n            break;\r\n        \r\n        case SETTING_CATEGORY.CONTAINER:\r\n            self.settingContainer = target;\r\n            break;\r\n        \r\n        default:\r\n        // Do nothing\r\n    }\r\n    \r\n    sidebarBody.children(`.${CSS_CLASS.STATE_ACTIVE}`).removeClass(CSS_CLASS.STATE_ACTIVE);\r\n    sidebarTitle.html(settingTitle);\r\n    settingForm.addClass(CSS_CLASS.STATE_ACTIVE);\r\n    sidebar.addClass(CSS_CLASS.STATE_OPENED);\r\n}","import CSS_CLASS from '../constants/cssClass';\r\nimport getComponentType from '../component/getComponentType';\r\nimport SETTING_CATEGORY from '../constants/settingCategory';\r\nimport showSettingForm from './showSettingForm';\r\n\r\nexport default function (target) {\r\n    let self = this;\r\n    let options = self.options;\r\n    let _showSettingForm = (...args) => showSettingForm.call(self, ...args);\r\n    \r\n    if (target.is(`.${CSS_CLASS.COMPONENT}`)) {\r\n        let componentType = getComponentType.call(self, target);\r\n        let componentData = KEditor.components[componentType];\r\n    \r\n        _showSettingForm(target, componentType, SETTING_CATEGORY.COMPONENT, componentData.settingTitle, componentData.initSettingForm, componentData.showSettingForm, componentData);\r\n    } else if (target.is(`.${CSS_CLASS.CONTAINER}`)) {\r\n        _showSettingForm(target, null, SETTING_CATEGORY.CONTAINER, options.locale.containerSetting, options.containerSettingInitFunction, options.containerSettingShowFunction, self);\r\n    } else {\r\n        let extraKey = target.attr('data-extra-setting');\r\n        let extraTabData = options.extraSettings[extraKey];\r\n        _showSettingForm(target, extraKey, SETTING_CATEGORY.EXTRA, extraTabData.title, extraTabData.settingInitFunction, extraTabData.settingShowFunction, extraTabData);\r\n    }\r\n};\r\n","import renderSnippetFilter from './renderSnippetFilter';\r\nimport CSS_CLASS from '../constants/cssClass';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let [categoriesOptions, filterWrapper] = renderSnippetFilter.call(self);\r\n    \r\n    filterWrapper.html(`\r\n        <span class=\"${CSS_CLASS.UI} ${CSS_CLASS.SNIPPETS_FILTER_LABEL}\">Category:</span>\r\n        <select class=\"${CSS_CLASS.UI} ${CSS_CLASS.SNIPPETS_FILTER}\">\r\n            ${categoriesOptions}\r\n        </select>\r\n        <input type=\"text\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.SNIPPETS_SEARCH}\" value=\"\" placeholder=\"Type to search...\" />\r\n    `);\r\n    \r\n    let txtSearch = filterWrapper.find(`.${CSS_CLASS.SNIPPETS_SEARCH}`);\r\n    let cbbFilter = filterWrapper.find(`.${CSS_CLASS.SNIPPETS_FILTER}`);\r\n    \r\n    let doFilter = function () {\r\n        let selectedCategory = (cbbFilter.val() || '').toLowerCase();\r\n        let searchText = (txtSearch.val() || '').toLowerCase();\r\n        let snippets = self.modal.find(`.${CSS_CLASS.SNIPPET}`);\r\n        snippets.filter(`.${CSS_CLASS.STATE_SELECTED}`).removeClass(CSS_CLASS.STATE_SELECTED);\r\n        \r\n        if (selectedCategory || searchText) {\r\n            snippets.each(function () {\r\n                let snippet = $(this);\r\n                let dataCategoriesString = snippet.attr('data-keditor-categories').toLowerCase();\r\n                let dataCategories = dataCategoriesString.split(options.snippetsCategoriesSeparator);\r\n                let error = 0;\r\n                \r\n                if (selectedCategory) {\r\n                    if ($.inArray(selectedCategory, dataCategories) === -1) {\r\n                        error++;\r\n                    }\r\n                }\r\n                \r\n                if (searchText) {\r\n                    let title = snippet.attr('data-keditor-title').toLowerCase();\r\n                    if (title.indexOf(searchText) === -1 && dataCategoriesString.indexOf(searchText) === -1) {\r\n                        error++;\r\n                    }\r\n                }\r\n                \r\n                snippet[error === 0 ? 'removeClass' : 'addClass'](CSS_CLASS.STATE_NOT_MATCHED);\r\n            });\r\n        } else {\r\n            snippets.removeClass(CSS_CLASS.STATE_NOT_MATCHED);\r\n        }\r\n    };\r\n    \r\n    cbbFilter.on('change', function () {\r\n        doFilter();\r\n    });\r\n    \r\n    let timer;\r\n    txtSearch.on('keydown', function () {\r\n        clearTimeout(timer);\r\n        timer = setTimeout(doFilter, 200);\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\n\r\nexport default function (modal) {\r\n    let cssTransitionEnd = 'webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend';\r\n    \r\n    modal.off(cssTransitionEnd).on(cssTransitionEnd, () => {\r\n        if (!modal.hasClass(CSS_CLASS.STATE_SHOWED)) {\r\n            modal.css('display', 'none');\r\n            $(document.body).removeClass(CSS_CLASS.STATE_MODAL_OPENED);\r\n        }\r\n    });\r\n    \r\n    modal.removeClass(CSS_CLASS.STATE_SHOWED);\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport closeModal from './closeModal';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let modal = self.modal;\r\n    \r\n    self.modalTarget = null;\r\n    self.modalTargetAction = null;\r\n    modal.find(`.${CSS_CLASS.STATE_SELECTED}`).removeClass(CSS_CLASS.STATE_SELECTED);\r\n    modal.find(`.${CSS_CLASS.STATE_NOT_MATCHED}`).removeClass(CSS_CLASS.STATE_NOT_MATCHED);\r\n    modal.find(`.${CSS_CLASS.SNIPPETS_FILTER}`).val('');\r\n    modal.removeClass(CSS_CLASS.MODAL_COMPONENT);\r\n    modal.removeClass(CSS_CLASS.MODAL_CONTAINER);\r\n    \r\n    closeModal.call(self, modal);\r\n};\r\n","const ACTION_TYPE = {\r\n    APPEND: 'append',\r\n    AFTER: 'after'\r\n};\r\n\r\nexport default ACTION_TYPE;\r\n","const TOOLBAR_TYPE = {\r\n    CONTENT_AREA: 1000,\r\n    \r\n    CONTAINER: 2000,\r\n    CONTAINER_CONTENT: 2100,\r\n    CONTAINER_BOTTOM: 2200,\r\n    \r\n    SUB_CONTAINER: 3000,\r\n    SUB_CONTAINER_BOTTOM: 3100,\r\n    SUB_CONTAINER_CONTENT: 3200,\r\n    \r\n    COMPONENT: 4000,\r\n    COMPONENT_BOTTOM: 4100,\r\n};\r\n\r\nexport default TOOLBAR_TYPE;\r\n","import TOOLBAR_TYPE from '../constants/toolbarType';\r\nimport CSS_CLASS from '../constants/cssClass';\r\nimport ICON from '../constants/icon';\r\n\r\nexport default function (type, isConfigurable) {\r\n    let self = this;\r\n    let options = self.options;\r\n    let settingBtn = '';\r\n    \r\n    switch (type) {\r\n        case TOOLBAR_TYPE.CONTAINER:\r\n        case TOOLBAR_TYPE.SUB_CONTAINER:\r\n            if (isConfigurable) {\r\n                settingBtn = `<a href=\"javascript:void(0);\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.CONTAINER_SETTING}\" title=\"${options.locale.setting}\">${ICON.SETTING_CONTAINER}</a>`;\r\n            }\r\n            \r\n            return (`\r\n                <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOOLBAR} ${CSS_CLASS.TOOLBAR_CONTAINER} ${type === TOOLBAR_TYPE.SUB_CONTAINER ? CSS_CLASS.TOOLBAR_SUB_CONTAINER : ''}\">\r\n                    <a href=\"javascript:void(0);\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.CONTAINER_MOVE}\" title=\"${options.locale.move}\">${ICON.MOVE_CONTAINER}</a>\r\n                    <a href=\"javascript:void(0);\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.CONTAINER_MOVE_UP}\" title=\"${options.locale.moveUp}\">${ICON.MOVE_UP_CONTAINER}</a>\r\n                    <a href=\"javascript:void(0);\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.CONTAINER_MOVE_DOWN}\" title=\"${options.locale.moveDown}\">${ICON.MOVE_DOWN_CONTAINER}</a>\r\n                    ${settingBtn}\r\n                    <a href=\"javascript:void(0);\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.CONTAINER_CUT}\" title=\"${options.locale.cut}\">${ICON.CUT_CONTAINER}</a>\r\n                    <a href=\"javascript:void(0);\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.CONTAINER_COPY}\" title=\"${options.locale.copy}\">${ICON.COPY_CONTAINER}</a>\r\n                    <a href=\"javascript:void(0)\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.PASTE_CONTENT}\" title=\"${options.locale.paste}\">${ICON.PASTE_CONTENT}</a>\r\n                    <a href=\"javascript:void(0);\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.CONTAINER_DELETE}\" title=\"${options.locale.delete}\">${ICON.DELETE_CONTAINER}</a>\r\n                </div>\r\n            `);\r\n    \r\n        case TOOLBAR_TYPE.COMPONENT:\r\n            if (isConfigurable) {\r\n                settingBtn = `<a href=\"javascript:void(0);\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.COMPONENT_SETTING}\" title=\"${options.locale.setting}\">${ICON.SETTING_COMPONENT}</a>`;\r\n            }\r\n        \r\n            return (`\r\n                <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOOLBAR} ${CSS_CLASS.TOOLBAR_COMPONENT}\">\r\n                    <a href=\"javascript:void(0);\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.COMPONENT_MOVE}\" title=\"${options.locale.move}\">${ICON.MOVE_COMPONENT}</a>\r\n                    <a href=\"javascript:void(0);\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.COMPONENT_MOVE_UP}\" title=\"${options.locale.moveUp}\">${ICON.MOVE_UP_COMPONENT}</a>\r\n                    <a href=\"javascript:void(0);\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.COMPONENT_MOVE_DOWN}\" title=\"${options.locale.moveDown}\">${ICON.MOVE_DOWN_COMPONENT}</a>\r\n                    ${settingBtn}\r\n                    <a href=\"javascript:void(0);\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.COMPONENT_CUT}\" title=\"${options.locale.cut}\">${ICON.CUT_COMPONENT}</a>\r\n                    <a href=\"javascript:void(0);\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.COMPONENT_COPY}\" title=\"${options.locale.copy}\">${ICON.COPY_COMPONENT}</a>\r\n                    <a href=\"javascript:void(0);\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.COMPONENT_DELETE}\" title=\"${options.locale.delete}\">${ICON.DELETE_COMPONENT}</a>\r\n                </div>\r\n            `);\r\n            \r\n        case TOOLBAR_TYPE.CONTENT_AREA:\r\n            return (`\r\n                <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOOLBAR_CONTENT_AREA}\">\r\n                    <a href=\"javascript:void(0)\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.BTN} ${CSS_CLASS.BTN_DEFAULT} ${CSS_CLASS.ADD_CONTENT}\" title=\"${options.locale.addContent}\">${ICON.ADD_CONTENT}</a>\r\n                </div>\r\n            `);\r\n        \r\n        case TOOLBAR_TYPE.CONTAINER_CONTENT:\r\n        case TOOLBAR_TYPE.SUB_CONTAINER_CONTENT:\r\n            return (`\r\n                <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOOLBAR_CONTAINER_CONTENT}\">\r\n                    <a href=\"javascript:void(0)\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.BTN} ${CSS_CLASS.BTN_DEFAULT} ${CSS_CLASS.ADD_CONTENT}\" title=\"${options.locale.addContent}\">${ICON.ADD_CONTENT}</a>\r\n                </div>\r\n            `);\r\n    \r\n        case TOOLBAR_TYPE.CONTAINER_BOTTOM:\r\n        case TOOLBAR_TYPE.SUB_CONTAINER_BOTTOM:\r\n            return (`\r\n                <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOOLBAR} ${CSS_CLASS.TOOLBAR_BOTTOM} ${CSS_CLASS.TOOLBAR_CONTAINER_BOTTOM} ${type === TOOLBAR_TYPE.SUB_CONTAINER_BOTTOM ? CSS_CLASS.TOOLBAR_SUB_CONTAINER_BOTTOM : ''}\">\r\n                    <a href=\"javascript:void(0)\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.ADD_CONTENT}\" title=\"${options.locale.addContentBelow}\">${ICON.ADD_CONTENT}</a>\r\n                </div>\r\n            `);\r\n        \r\n        case TOOLBAR_TYPE.COMPONENT_BOTTOM:\r\n            return (`\r\n                <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOOLBAR} ${CSS_CLASS.TOOLBAR_BOTTOM} ${CSS_CLASS.TOOLBAR_COMPONENT_BOTTOM}\">\r\n                    <a href=\"javascript:void(0)\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.ADD_CONTENT}\" title=\"${options.locale.addContentBelow}\">${ICON.ADD_CONTENT}</a>\r\n                </div>\r\n            `);\r\n        \r\n        default:\r\n        // Do nothing\r\n    }\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport getDataAttributes from '../utils/getDataAttributes';\r\nimport generateId from '../utils/generateId';\r\n\r\nexport default function (dynamicElement) {\r\n    let self = this;\r\n    let options = self.options;\r\n    let component = dynamicElement.closest('[data-type^=component]');\r\n    let contentArea = dynamicElement.closest(`.${CSS_CLASS.CONTENT_AREA}`);\r\n    \r\n    dynamicElement.attr('id', generateId());\r\n    \r\n    if (typeof options.onBeforeDynamicContentLoad === 'function') {\r\n        options.onBeforeDynamicContentLoad.call(self, dynamicElement, component, contentArea);\r\n    }\r\n    \r\n    let dynamicHref = dynamicElement.attr('data-dynamic-href');\r\n    let data = getDataAttributes(component, ['data-type', 'data-dynamic-href'], false);\r\n    data = $.param(data);\r\n    \r\n    return $.ajax({\r\n        url: dynamicHref,\r\n        data: data,\r\n        type: 'GET',\r\n        dataType: 'HTML',\r\n        success: function (response, status, jqXHR) {\r\n            dynamicElement.html(response);\r\n            \r\n            if (typeof options.onDynamicContentLoaded === 'function') {\r\n                options.onDynamicContentLoaded.call(self, dynamicElement, jqXHR, contentArea);\r\n            }\r\n        },\r\n        error: function (jqXHR, textStatus, errorThrown ) {\r\n            if (typeof options.onDynamicContentError === 'function') {\r\n                options.onDynamicContentError.call(self, dynamicElement, jqXHR, contentArea);\r\n            }\r\n        }\r\n    });\r\n};\r\n","import TOOLBAR_TYPE from '../constants/toolbarType';\r\nimport CSS_CLASS from '../constants/cssClass';\r\nimport generateId from '../utils/generateId';\r\nimport getComponentType from './getComponentType';\r\nimport generateToolbar from '../utils/generateToolbar';\r\nimport initDynamicContent from './initDynamicContent';\r\n\r\nexport default function (contentArea, container, component) {\r\n    let self = this;\r\n    let options = self.options;\r\n    \r\n    if (!component.hasClass(CSS_CLASS.STATE_INITIALIZED) || !component.hasClass(CSS_CLASS.STATE_INITIALIZING)) {\r\n        component.addClass(CSS_CLASS.STATE_INITIALIZING);\r\n        component.attr('id', generateId());\r\n        \r\n        if (typeof options.onBeforeInitComponent === 'function') {\r\n            options.onBeforeInitComponent.call(self, component, contentArea);\r\n        }\r\n        \r\n        let componentContent = component.children(`.${CSS_CLASS.COMPONENT_CONTENT}`);\r\n        componentContent.attr('id', generateId());\r\n        \r\n        let componentType = getComponentType.call(self, component);\r\n        let componentData = KEditor.components[componentType];\r\n        \r\n        component.append(generateToolbar.call(self, TOOLBAR_TYPE.COMPONENT, componentData.settingEnabled));\r\n        component.append(generateToolbar.call(self, TOOLBAR_TYPE.COMPONENT_BOTTOM));\r\n        \r\n        component.find('[data-dynamic-href]').each(function () {\r\n            let dynamicElement = $(this);\r\n            \r\n            initDynamicContent.call(self, dynamicElement);\r\n        });\r\n        \r\n        if (typeof componentData.init === 'function') {\r\n            componentData.init.call(componentData, contentArea, container, component, self);\r\n        }\r\n        \r\n        if (typeof options.onInitComponent === 'function') {\r\n            options.onInitComponent.call(self, component, contentArea);\r\n        }\r\n        \r\n        component.addClass(CSS_CLASS.STATE_INITIALIZED);\r\n        component.removeClass(CSS_CLASS.STATE_INITIALIZING);\r\n    }\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\n\r\nexport default function (modal) {\r\n    modal.css('display', 'block');\r\n    $(document.body).addClass(CSS_CLASS.STATE_MODAL_OPENED);\r\n    setTimeout(() => {\r\n        modal.addClass(CSS_CLASS.STATE_SHOWED);\r\n    }, 0);\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport openModal from './openModal';\r\n\r\nexport default function (target, actionType, showComponent, showContainer) {\r\n    let self = this;\r\n    let modal = self.modal;\r\n    \r\n    self.modalTarget = target;\r\n    self.modalTargetAction = actionType;\r\n    showComponent && modal.addClass(CSS_CLASS.MODAL_COMPONENT);\r\n    showContainer && modal.addClass(CSS_CLASS.MODAL_CONTAINER);\r\n    modal.css('display', 'block');\r\n    \r\n    openModal.call(self, modal);\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport initContainer from './initContainer';\r\n\r\nexport default function (contentArea, target) {\r\n    let self = this;\r\n    let container;\r\n    \r\n    if (target.is('section')) {\r\n        target.addClass(`${CSS_CLASS.UI} ${CSS_CLASS.CONTAINER}`);\r\n        target.wrapInner(`<section class=\"${CSS_CLASS.UI} ${CSS_CLASS.CONTAINER_INNER}\"></section>`);\r\n        container = target;\r\n    } else {\r\n        target.wrap(`\r\n            <section class=\"${CSS_CLASS.UI} ${CSS_CLASS.CONTAINER}\">\r\n                <section class=\"${CSS_CLASS.UI} ${CSS_CLASS.CONTAINER_INNER}\"></section>\r\n            </section>\r\n        `);\r\n        container = target.parent().parent();\r\n    }\r\n    \r\n    initContainer.call(self, contentArea, container);\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport initComponent from './initComponent';\r\n\r\nexport default function (contentArea, container, target, isExisting) {\r\n    if (target.is(`.${CSS_CLASS.TOOLBAR_CONTAINER_CONTENT}`)) {\r\n        return;\r\n    }\r\n    \r\n    let self = this;\r\n    let isSection = target.is('section');\r\n    let component;\r\n    \r\n    if (isSection) {\r\n        target.addClass(`${CSS_CLASS.UI} ${CSS_CLASS.COMPONENT}`);\r\n        target.find(`.${CSS_CLASS.COMPONENT_CONTENT}`).length === 0 && target.wrapInner(`<section class=\"${CSS_CLASS.UI} ${CSS_CLASS.COMPONENT_CONTENT}\"></section>`);\r\n        component = target;\r\n    } else {\r\n        target.wrap(`\r\n            <section class=\"${CSS_CLASS.UI} ${CSS_CLASS.COMPONENT}\">\r\n                <section class=\"${CSS_CLASS.UI} ${CSS_CLASS.COMPONENT_CONTENT}\"></section>\r\n            </section>\r\n        `);\r\n        component = target.parent().parent();\r\n    }\r\n    \r\n    if (isExisting) {\r\n        component.addClass(`${CSS_CLASS.COMPONENT_EXISTING}`);\r\n    }\r\n    \r\n    initComponent.call(self, contentArea, container, component);\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\n\r\nexport default function (target) {\r\n    if (target.length === 0) {\r\n        return;\r\n    }\r\n    \r\n    let hasComponent = target.children().length > 0;\r\n    target[hasComponent ? 'addClass' : 'removeClass'](CSS_CLASS.STATE_HAS_CHILDREN);\r\n};\r\n","import TOOLBAR_TYPE from '../constants/toolbarType';\r\nimport CSS_CLASS from '../constants/cssClass';\r\nimport generateToolbar from '../utils/generateToolbar';\r\nimport generateId from '../utils/generateId';\r\nimport initContainerContent from './initContainerContent';\r\n\r\nexport default function (contentArea, container) {\r\n    let self = this;\r\n    let options = self.options;\r\n    let isNested = options.nestedContainerEnabled && container.closest('[data-type=\"container-content\"]').length > 0;\r\n    \r\n    if (!container.hasClass(CSS_CLASS.STATE_INITIALIZED) || !container.hasClass(CSS_CLASS.STATE_INITIALIZING)) {\r\n        container.addClass(CSS_CLASS.STATE_INITIALIZING);\r\n        \r\n        if (typeof options.onBeforeInitContainer === 'function') {\r\n            options.onBeforeInitContainer.call(self, container, contentArea);\r\n        }\r\n        \r\n        if (isNested) {\r\n            container.addClass(CSS_CLASS.SUB_CONTAINER);\r\n        }\r\n        \r\n        container.append(\r\n            generateToolbar.call(self, isNested ? TOOLBAR_TYPE.SUB_CONTAINER : TOOLBAR_TYPE.CONTAINER, options.containerSettingEnabled)\r\n            +\r\n            generateToolbar.call(self, isNested ? TOOLBAR_TYPE.SUB_CONTAINER_BOTTOM : TOOLBAR_TYPE.CONTAINER_BOTTOM)\r\n        );\r\n        \r\n        container.attr('id', generateId());\r\n        \r\n        let containerContents = container.find('[data-type=\"container-content\"]');\r\n        containerContents.each(function () {\r\n            let containerContent = $(this);\r\n            \r\n            if (options.nestedContainerEnabled && !isNested && containerContent.parents('[data-type=\"container-content\"]').length > 0) {\r\n                // Do nothing because it's container content of sub container\r\n                return;\r\n            }\r\n            \r\n            initContainerContent.call(self, contentArea, container, containerContent, isNested);\r\n        });\r\n        \r\n        if (typeof options.onInitContainer === 'function') {\r\n            options.onInitContainer.call(self, container, contentArea);\r\n        }\r\n        \r\n        container.addClass(CSS_CLASS.STATE_INITIALIZED);\r\n        container.removeClass(CSS_CLASS.STATE_INITIALIZING);\r\n    }\r\n};\r\n","import TOOLBAR_TYPE from '../constants/toolbarType';\r\nimport CSS_CLASS from '../constants/cssClass';\r\nimport ACTION_TYPE from '../constants/actionType';\r\nimport openSnippetModal from '../modal/openSnippetModal';\r\nimport generateId from '../utils/generateId';\r\nimport generateToolbar from '../utils/generateToolbar';\r\nimport convertToContainer from './convertToContainer';\r\nimport convertToComponent from '../component/convertToComponent';\r\nimport checkChildren from '../utils/checkChildren';\r\n\r\nexport default function (contentArea, container, containerContent, isNested) {\r\n    let self = this;\r\n    let options = self.options;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    containerContent.addClass(CSS_CLASS.CONTAINER_CONTENT);\r\n    isNested && containerContent.addClass(CSS_CLASS.SUB_CONTAINER_CONTENT);\r\n    containerContent.attr('id', generateId());\r\n    \r\n    let containerContentInner = $(`<div class=\"${CSS_CLASS.CONTAINER_CONTENT_INNER}\"></div>`);\r\n    containerContentInner.html(containerContent.html());\r\n    containerContent.html(containerContentInner);\r\n    \r\n    let containerContentToolbar = $(\r\n        generateToolbar.call(self, isNested ? TOOLBAR_TYPE.SUB_CONTAINER_CONTENT : TOOLBAR_TYPE.CONTAINER_CONTENT, options.containerSettingEnabled)\r\n    );\r\n    containerContentToolbar.appendTo(containerContent);\r\n    containerContentToolbar.children(`.${CSS_CLASS.ADD_CONTENT}`).on('click', function (e) {\r\n        e.preventDefault();\r\n        \r\n        openSnippetModal.call(self, containerContentInner, ACTION_TYPE.APPEND, true, !isNested && options.nestedContainerEnabled);\r\n    });\r\n    \r\n    containerContentInner.sortable({\r\n        handle: `.${CSS_CLASS.COMPONENT_MOVE}, .${CSS_CLASS.CONTAINER_MOVE}`,\r\n        helper: 'clone',\r\n        items: '> section',\r\n        connectWith: `.${CSS_CLASS.CONTAINER_CONTENT_INNER}`,\r\n        tolerance: 'pointer',\r\n        receive: function (event, ui) {\r\n            let helper = ui.helper;\r\n            let item = ui.item;\r\n            let container;\r\n            \r\n            if (helper) {\r\n                helper.remove();\r\n            }\r\n            container = item.closest(`.${CSS_CLASS.CONTAINER}`);\r\n            \r\n            if (!container.hasClass(CSS_CLASS.STATE_TOOLBAR_SHOWED)) {\r\n                contentAreasWrapper.find(`.${CSS_CLASS.CONTAINER}.${CSS_CLASS.STATE_TOOLBAR_SHOWED}`).removeClass(CSS_CLASS.STATE_TOOLBAR_SHOWED);\r\n                container.addClass(CSS_CLASS.STATE_TOOLBAR_SHOWED);\r\n            }\r\n            \r\n            if (typeof options.onContainerChanged === 'function') {\r\n                options.onContainerChanged.call(self, event, container, contentArea);\r\n            }\r\n            \r\n            if (typeof options.onContentChanged === 'function') {\r\n                options.onContentChanged.call(self, event, contentArea);\r\n            }\r\n            \r\n            item.removeClass(CSS_CLASS.UI_DRAGGING);\r\n            checkChildren(containerContentInner);\r\n        },\r\n        start: function (e, ui) {\r\n            ui.item.addClass(CSS_CLASS.UI_DRAGGING);\r\n            ui.item.addClass(CSS_CLASS.STATE_TOOLBAR_SHOWED);\r\n        },\r\n        stop: function (e, ui) {\r\n            if (ui.helper) {\r\n                ui.helper.remove();\r\n            }\r\n            ui.item.removeClass(CSS_CLASS.UI_DRAGGING);\r\n            checkChildren(containerContentInner);\r\n        }\r\n    });\r\n    \r\n    containerContentInner.children().each(function () {\r\n        let child = $(this);\r\n        \r\n        if (child.find('[data-type=\"container-content\"]').length > 0) {\r\n            convertToContainer.call(self, contentArea, child);\r\n        } else {\r\n            convertToComponent.call(self, contentArea, container, child, true);\r\n        }\r\n    });\r\n    \r\n    checkChildren(containerContentInner);\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport closeModal from './closeModal';\r\n\r\nexport default function (modalId, hasFooter = true, disableOriginEvents = false) {\r\n    let self = this;\r\n    let modalFooter = `<div class=\"${CSS_CLASS.MODAL_FOOTER}\"></div>`;\r\n    let modal = $(`\r\n        <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.MODAL} ${hasFooter ? CSS_CLASS.STATE_HAS_FOOTER : ''}\" id=\"${modalId}\">\r\n            <div class=\"${CSS_CLASS.MODAL_HEADER}\">\r\n                <button type=\"button\" class=\"${CSS_CLASS.MODAL_CLOSE}\">&times;</button>\r\n                <h4 class=\"${CSS_CLASS.MODAL_TITLE}\"></h4>\r\n            </div>\r\n            <div class=\"${CSS_CLASS.MODAL_BODY}\"></div>\r\n            ${hasFooter ? modalFooter : ''}\r\n        </div>\r\n    `);\r\n    \r\n    if (!disableOriginEvents) {\r\n        // Close buttons\r\n        modal.on('click', `.${CSS_CLASS.MODAL_CLOSE}`, function (e) {\r\n            e.preventDefault();\r\n            \r\n            closeModal.call(self, modal);\r\n        });\r\n    }\r\n    \r\n    return modal.appendTo(document.body);\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport generateId from '../utils/generateId';\r\nimport renderSnippets from '../snippet/renderSnippets';\r\nimport initSnippetsFilter from '../snippet/initSnippetsFilter';\r\nimport closeSnippetModal from './closeSnippetModal';\r\nimport initSnippetAction from './initSnippetAction';\r\nimport addSnippetToTarget from './addSnippetToTarget';\r\nimport initModal from './initModal';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let modal = self.modal = initModal.call(self, generateId(), false, true);\r\n    \r\n    if (typeof options.snippetsUrl === 'string' && options.snippetsUrl.length > 0) {\r\n        modal.find(`.${CSS_CLASS.MODAL_BODY}`).append(`\r\n            <div class=\"${CSS_CLASS.SNIPPETS_WRAPPER}\">\r\n                <div class=\"${CSS_CLASS.SNIPPETS}\"></div>\r\n            </div>\r\n        `);\r\n        \r\n        $.ajax({\r\n            type: 'get',\r\n            dataType: 'html',\r\n            url: options.snippetsUrl,\r\n            success: function (resp) {\r\n                if (typeof options.onSnippetsLoaded === 'function') {\r\n                    resp = options.onSnippetsLoaded.call(self, resp) || resp;\r\n                }\r\n                \r\n                renderSnippets.call(self, resp);\r\n                initSnippetsFilter.call(self);\r\n            },\r\n            error: function (jqXHR) {\r\n                if (typeof options.onSnippetsError === 'function') {\r\n                    options.onSnippetsError.call(self, jqXHR);\r\n                }\r\n            }\r\n        });\r\n        \r\n        // Snippet events\r\n        initSnippetAction.call(self);\r\n        \r\n        // Close buttons\r\n        modal.find(`.${CSS_CLASS.MODAL_CLOSE}`).on('click', function (e) {\r\n            e.preventDefault();\r\n            \r\n            closeSnippetModal.call(self);\r\n        });\r\n    \r\n        // Add buttons\r\n        modal.on('click', `.${CSS_CLASS.SNIPPET_ADD}`, function (e) {\r\n            e.preventDefault();\r\n            \r\n            let selectedSnippet = $(this).closest(`.${CSS_CLASS.SNIPPET}`);\r\n            \r\n            addSnippetToTarget.call(self, e, selectedSnippet, self.modalTarget, self.modalTargetAction);\r\n            closeSnippetModal.call(self);\r\n        });\r\n    } else {\r\n        self.error('\"snippetsUrl\" must be not null!');\r\n    }\r\n};\r\n","import renderSnippet from './renderSnippet';\r\nimport CSS_CLASS from '../constants/cssClass';\r\nimport beautifyCategories from '../utils/beautifyCategories';\r\n\r\nexport default function (resp) {\r\n    let self = this;\r\n    let snippetsContentHtml = '';\r\n    let snippetsHtml = '';\r\n    \r\n    $(resp).filter('div').each(function () {\r\n        let snippet = $(this);\r\n        let content = snippet.html().trim();\r\n        let previewUrl = snippet.attr('data-preview');\r\n        let type = snippet.attr('data-type');\r\n        let title = snippet.attr('data-keditor-title');\r\n        let categories = snippet.attr('data-keditor-categories') || '';\r\n        let dataAttributes = self.getDataAttributes(snippet, ['data-preview', 'data-type', 'data-keditor-title', 'data-keditor-categories'], true);\r\n        let [\r\n            snippetPreviewHtml,\r\n            snippetContentHtml\r\n        ] = renderSnippet.call(self, type, title, previewUrl, categories, content, dataAttributes);\r\n    \r\n        snippetsHtml += snippetPreviewHtml;\r\n        snippetsContentHtml += snippetContentHtml;\r\n    });\r\n    \r\n    self.categoryContainer = beautifyCategories(self.categoryContainer);\r\n    self.categoryComponent = beautifyCategories(self.categoryComponent);\r\n    \r\n    self.modal.find(`.${CSS_CLASS.SNIPPETS}`).html(snippetsHtml);\r\n    self.modal.find(`.${CSS_CLASS.MODAL_BODY}`).append(snippetsContentHtml);\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let modal = self.modal;\r\n    \r\n    modal.on({\r\n        click: function (e) {\r\n            e.preventDefault();\r\n            \r\n            let snippet = $(this);\r\n            if (snippet.hasClass(CSS_CLASS.STATE_SELECTED)) {\r\n                snippet.removeClass(CSS_CLASS.STATE_SELECTED)\r\n            } else {\r\n                modal.find(`.${CSS_CLASS.STATE_SELECTED}`).removeClass(CSS_CLASS.STATE_SELECTED);\r\n                snippet.addClass(CSS_CLASS.STATE_SELECTED);\r\n            }\r\n        },\r\n        mouseover: function () {\r\n            $(this).addClass(CSS_CLASS.STATE_SELECTED);\r\n        },\r\n        mouseout: function () {\r\n            $(this).removeClass(CSS_CLASS.STATE_SELECTED);\r\n        }\r\n    }, `.${CSS_CLASS.SNIPPET}`);\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport ACTION_TYPE from '../constants/actionType';\r\nimport initComponent from '../component/initComponent';\r\nimport initContainer from '../container/initContainer';\r\nimport checkChildren from '../utils/checkChildren';\r\n\r\nexport default function (e, selectedSnippet, target, targetAction) {\r\n    let self = this;\r\n    let modal = self.modal;\r\n    let options = self.options;\r\n    let contentArea = target.closest(`.${CSS_CLASS.CONTENT_AREA}`);\r\n    let snippetType = selectedSnippet.attr('data-type');\r\n    \r\n    let snippetContentElement = modal.find(selectedSnippet.attr('data-snippet'));\r\n    \r\n    let snippetContent = snippetContentElement.html();\r\n    let isModalComponent = modal.hasClass(CSS_CLASS.MODAL_COMPONENT);\r\n    let isModalContainer = modal.hasClass(CSS_CLASS.MODAL_CONTAINER);\r\n    let isAddingContainer = false;\r\n    let isAddingComponent = false;\r\n    let isAddingComponentWithContainer = false;\r\n    \r\n    if (snippetType === 'container') {\r\n        isAddingContainer = true;\r\n    } else {\r\n        if (isModalComponent && !isModalContainer) {\r\n            isAddingComponent = true;\r\n        }\r\n        \r\n        if (isModalComponent && isModalContainer) {\r\n            if (target.is(`.${CSS_CLASS.CONTAINER_CONTENT_INNER}`)) {\r\n                isAddingComponent = true;\r\n            } else {\r\n                if (targetAction === ACTION_TYPE.APPEND) {\r\n                    isAddingComponentWithContainer = true;\r\n                } else {\r\n                    isAddingComponent = true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    let newContainer;\r\n    let newComponent;\r\n    \r\n    self.contentAreasWrapper.find(`.${CSS_CLASS.STATE_TOOLBAR_SHOWED}`).removeClass(CSS_CLASS.STATE_TOOLBAR_SHOWED);\r\n    \r\n    if (isAddingContainer) {\r\n        newContainer = $(`\r\n            <section class=\"${CSS_CLASS.UI} ${CSS_CLASS.CONTAINER} ${CSS_CLASS.STATE_TOOLBAR_SHOWED}\">\r\n                <section class=\"${CSS_CLASS.UI} ${CSS_CLASS.CONTAINER_INNER}\">${snippetContent}</section>\r\n            </section>\r\n        `);\r\n        target[targetAction](newContainer);\r\n        \r\n        if (typeof options.onContainerSnippetAdded === 'function') {\r\n            options.onContainerSnippetAdded.call(self, e, newContainer, selectedSnippet, contentArea);\r\n        }\r\n        \r\n        if (typeof options.onContentChanged === 'function') {\r\n            options.onContentChanged.call(self, e, contentArea);\r\n        }\r\n        \r\n        initContainer.call(self, contentArea, newContainer);\r\n    }\r\n    \r\n    if (isAddingComponent) {\r\n        let dataAttributes = self.getDataAttributes(snippetContentElement, null, true);\r\n        newComponent = $(`\r\n            <section class=\"${CSS_CLASS.UI} ${CSS_CLASS.COMPONENT} ${CSS_CLASS.STATE_TOOLBAR_SHOWED}\" data-type=\"${snippetType}\" ${dataAttributes.join(' ')}>\r\n                <section class=\"${CSS_CLASS.UI} ${CSS_CLASS.COMPONENT_CONTENT}\">${snippetContent}</section>\r\n            </section>\r\n        `);\r\n        target[targetAction](newComponent);\r\n        \r\n        let container = target.closest(`.${CSS_CLASS.CONTAINER}`);\r\n        container.addClass(CSS_CLASS.STATE_TOOLBAR_SHOWED);\r\n        if (typeof options.onComponentSnippetAdded === 'function') {\r\n            options.onComponentSnippetAdded.call(self, e, newComponent, selectedSnippet, contentArea);\r\n        }\r\n        \r\n        if (typeof options.onContentChanged === 'function') {\r\n            options.onContentChanged.call(self, e, contentArea);\r\n        }\r\n        \r\n        initComponent.call(self, contentArea, container, newComponent);\r\n    }\r\n    \r\n    if (isAddingComponentWithContainer) {\r\n        let dataAttributes = self.getDataAttributes(snippetContentElement, null, true);\r\n        newContainer = $(`\r\n            <section class=\"${CSS_CLASS.UI} ${CSS_CLASS.CONTAINER} ${CSS_CLASS.STATE_TOOLBAR_SHOWED}\">\r\n                <section class=\"${CSS_CLASS.UI} ${CSS_CLASS.CONTAINER_INNER}\">${options.containerForQuickAddComponent}</section>\r\n            </section>\r\n        `);\r\n        newComponent = $(`\r\n            <section class=\"${CSS_CLASS.UI} ${CSS_CLASS.COMPONENT} ${CSS_CLASS.STATE_TOOLBAR_SHOWED}\" data-type=\"${snippetType}\" ${dataAttributes.join(' ')}>\r\n                <section class=\"${CSS_CLASS.UI} ${CSS_CLASS.COMPONENT_CONTENT}\">${snippetContent}</section>\r\n            </section>\r\n        `);\r\n        newContainer.find('[data-type=\"container-content\"]').eq(0).html(newComponent);\r\n        target[targetAction](newContainer);\r\n        \r\n        if (typeof options.onComponentSnippetAdded === 'function') {\r\n            options.onComponentSnippetAdded.call(self, e, newComponent, selectedSnippet, contentArea);\r\n        }\r\n        \r\n        if (typeof options.onContentChanged === 'function') {\r\n            options.onContentChanged.call(self, e, contentArea);\r\n        }\r\n        \r\n        initContainer.call(self, contentArea, newContainer);\r\n    }\r\n    \r\n    if (!target.is(`.${CSS_CLASS.CONTENT_AREA_INNER}`)) {\r\n        checkChildren(target);\r\n    }\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport getComponentType from './getComponentType';\r\nimport getDataAttributes from '../utils/getDataAttributes';\r\n\r\nexport default function (component) {\r\n    let self = this;\r\n    let clonedComponent = component.clone();\r\n    let componentType = getComponentType.call(self, clonedComponent);\r\n    let componentData = KEditor.components[componentType];\r\n    let dataAttributes = getDataAttributes(clonedComponent, null, true);\r\n    let content;\r\n    \r\n    // Handle iframe-wrapper\r\n    let iframeWrapper = clonedComponent.find(`.${CSS_CLASS.IFRAME_COVER_WRAPPER}`);\r\n    if (iframeWrapper.length > 0) {\r\n        iframeWrapper.find(`.${CSS_CLASS.IFRAME_COVER}`).remove();\r\n        \r\n        let iframe = iframeWrapper.children('iframe');\r\n        if (iframeWrapper.hasClass(CSS_CLASS.IFRAME_COVER_WRAPPER_FAKE)) {\r\n            iframe.unwrap();\r\n        } else {\r\n            iframeWrapper.removeClass(CSS_CLASS.IFRAME_COVER_WRAPPER);\r\n        }\r\n    }\r\n    \r\n    if (typeof componentData.getContent === 'function') {\r\n        content = componentData.getContent.call(componentData, clonedComponent, self);\r\n    } else {\r\n        let componentContent = clonedComponent.children(`.${CSS_CLASS.COMPONENT_CONTENT}`);\r\n        content = componentContent.html();\r\n    }\r\n    \r\n    clonedComponent.html(content).find('[data-dynamic-href]').each(function () {\r\n        $(this).html('');\r\n    });\r\n    \r\n    return `<section ${dataAttributes.join(' ')}>${clonedComponent.html()}</section>`;\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport getComponentContent from '../component/getComponentContent';\r\n\r\nexport default function getContainerContent (container, isNested) {\r\n    let self = this;\r\n    let containerInner = container.children(`.${CSS_CLASS.CONTAINER_INNER}`).clone();\r\n    \r\n    containerInner.find('[data-type=container-content]').not(isNested ? '' : `.${CSS_CLASS.SUB_CONTAINER_CONTENT}`).each(function () {\r\n        let containerContent = $(this);\r\n        containerContent.removeClass(`${CSS_CLASS.CONTAINER_CONTENT} ${CSS_CLASS.SUB_CONTAINER_CONTENT} ${CSS_CLASS.SORTABLE}`).removeAttr('id');\r\n        \r\n        let containerContentInner = containerContent.children();\r\n        let content = '';\r\n        \r\n        containerContentInner.children().each(function () {\r\n            let child = $(this);\r\n            \r\n            if (child.is(`.${CSS_CLASS.COMPONENT}`)) {\r\n                content += getComponentContent.call(self, child);\r\n            } else if (child.is(`.${CSS_CLASS.SUB_CONTAINER}`)) {\r\n                content += getContainerContent.call(self, child, true);\r\n            }\r\n        });\r\n        \r\n        containerContent.html(content);\r\n    });\r\n    \r\n    return `<section>${containerInner.html()}</section>`;\r\n}","import CSS_CLASS from './constants/cssClass';\r\nimport getContainerContent from './container/getContainerContent';\r\n\r\nexport default function (inArray) {\r\n    let self = this;\r\n    let result = [];\r\n    \r\n    self.contentAreasWrapper.find(`.${CSS_CLASS.CONTENT_AREA_INNER}`).each(function () {\r\n        let html = '';\r\n        $(this).children(`.${CSS_CLASS.CONTAINER}`).each(function () {\r\n            let container = $(this);\r\n            \r\n            html += getContainerContent.call(self, container);\r\n        });\r\n        \r\n        result.push(html);\r\n    });\r\n    \r\n    return inArray ? result : result.join('\\n');\r\n};\r\n","import initPreviewAction from './initPreviewAction';\r\nimport initFullscreenAction from './initFullscreenAction';\r\nimport initSaveAction from './initSaveAction';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    \r\n    initPreviewAction.apply(self);\r\n    initFullscreenAction.apply(self);\r\n    initSaveAction.apply(self);\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport initDynamicContent from '../component/initDynamicContent';\r\nimport getContent from '../getContent';\r\nimport ICON from '../constants/icon';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let btnPreview = $(`<a href=\"javascript:void(0);\" title=\"${options.locale.previewOff}\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOPBAR_BUTTON}\">${ICON.PREVIEW_OFF}</a>`);\r\n    \r\n    self.previewArea = $(`<div class=\"${CSS_CLASS.PREVIEW_AREA}\"></div>`);\r\n    self.contentAreasWrapper.after(self.previewArea);\r\n    \r\n    btnPreview.on('click', function (e) {\r\n        e.preventDefault();\r\n        \r\n        let isPreviewOn = !btnPreview.hasClass(CSS_CLASS.STATE_ACTIVE);\r\n        \r\n        btnPreview.html(isPreviewOn ? ICON.PREVIEW_ON : ICON.PREVIEW_OFF);\r\n        btnPreview[isPreviewOn ? 'addClass' : 'removeClass'](CSS_CLASS.STATE_ACTIVE);\r\n        btnPreview.attr('title', isPreviewOn ? options.locale.previewOn : options.locale.previewOff);\r\n        self.iframeBody[isPreviewOn ? 'addClass' : 'removeClass'](CSS_CLASS.STATE_PREVIEWING);\r\n        \r\n        isPreviewOn && self.previewArea.html(getContent.call(self)).find('[data-dynamic-href]').each(function () {\r\n            let dynamicElement = $(this);\r\n            dynamicElement.html('Loading...');\r\n            initDynamicContent.call(self, dynamicElement);\r\n        });\r\n    });\r\n    \r\n    self.topbarRight.append(btnPreview);\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport ICON from '../constants/icon';\r\nimport 'jquery.fullscreen';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let btnFullscreen = $(`<a href=\"javascript:void(0);\" title=\"${options.locale.fullscreenOff}\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOPBAR_BUTTON}\">${ICON.FULLSCREEN_OFF}</a>`);\r\n    btnFullscreen.on('click', function (e) {\r\n        e.preventDefault();\r\n        \r\n        $.fullscreen.isFullScreen() ? $.fullscreen.exit() : self.wrapper.fullscreen();\r\n    });\r\n    $(document).on('fscreenchange', function (e, isFullScreen) {\r\n        btnFullscreen.html(isFullScreen ? ICON.FULLSCREEN_ON : ICON.FULLSCREEN_OFF);\r\n        btnFullscreen.attr('title', isFullScreen ? options.locale.fullscreenOn : options.locale.fullscreenOff);\r\n    });\r\n    \r\n    this.topbarRight.append(btnFullscreen);\r\n}\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport getContent from '../getContent';\r\nimport ICON from '../constants/icon';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let btnSave = $(`<a href=\"javascript:void(0);\" title=\"${options.locale.save}\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOPBAR_BUTTON}\">${ICON.SAVE}</a>`);\r\n    btnSave.on('click', function (e) {\r\n        e.preventDefault();\r\n        \r\n        let content = getContent.call(self);\r\n        \r\n        typeof options.onSave === 'function' && options.onSave.call(self, content);\r\n    });\r\n    \r\n    self.topbarRight.append(btnSave);\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport generateId from '../utils/generateId';\r\nimport initDeviceSwitcher from './initDeviceSwitcher';\r\nimport initTopbarRightActions from './initTopbarRightActions';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let topbarId = generateId();\r\n    let options = self.options;\r\n    \r\n    self.topbar = $(`\r\n        <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOPBAR}\" id=\"${topbarId}\">\r\n            <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOPBAR_LEFT}\">\r\n                <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOPBAR_TITLE}\" title=\"${options.title}\">${options.title}</div>\r\n            </div>\r\n            <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOPBAR_CENTER}\">\r\n            </div>\r\n            <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOPBAR_RIGHT}\">\r\n            </div>\r\n        </div>\r\n    `);\r\n    self.topbarLeft = self.topbar.find(`.${CSS_CLASS.TOPBAR_LEFT}`);\r\n    self.topbarCenter = self.topbar.find(`.${CSS_CLASS.TOPBAR_CENTER}`);\r\n    self.topbarRight = self.topbar.find(`.${CSS_CLASS.TOPBAR_RIGHT}`);\r\n    \r\n    self.topbar.appendTo(self.wrapper);\r\n    \r\n    initDeviceSwitcher.call(self);\r\n    initTopbarRightActions.call(self);\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport ICON from '../constants/icon';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let topbarCenter = self.topbarCenter;\r\n    let iframeWidthSwitcher = self.iframe.parent();\r\n    \r\n    let btnMobile = $(`\r\n        <a href=\"javascript:void(0);\" title=\"${options.locale.viewOnMobile}\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOPBAR_BUTTON}\">${ICON.DEVICE_MOBILE}</a>\r\n    `);\r\n    btnMobile.on('click', function (e) {\r\n        e.preventDefault();\r\n        \r\n        topbarCenter.find(`.${CSS_CLASS.STATE_ACTIVE}`).removeClass(CSS_CLASS.STATE_ACTIVE);\r\n        iframeWidthSwitcher.css('width', options.widthMobile);\r\n        iframeWidthSwitcher.css('min-width', '');\r\n        btnMobile.addClass(CSS_CLASS.STATE_ACTIVE);\r\n    });\r\n    \r\n    let btnTablet = $(`\r\n        <a href=\"javascript:void(0);\" title=\"${options.locale.viewOnTablet}\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOPBAR_BUTTON}\">${ICON.DEVICE_TABLET}</a>\r\n    `);\r\n    btnTablet.on('click', function (e) {\r\n        e.preventDefault();\r\n        \r\n        topbarCenter.find(`.${CSS_CLASS.STATE_ACTIVE}`).removeClass(CSS_CLASS.STATE_ACTIVE);\r\n        iframeWidthSwitcher.css('width', options.widthTablet);\r\n        iframeWidthSwitcher.css('min-width', '');\r\n        btnTablet.addClass(CSS_CLASS.STATE_ACTIVE);\r\n    });\r\n    \r\n    let btnLaptop = $(`\r\n        <a href=\"javascript:void(0);\" title=\"${options.locale.viewOnLaptop}\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOPBAR_BUTTON}\">${ICON.DEVICE_LAPTOP}</a>\r\n    `);\r\n    btnLaptop.on('click', function (e) {\r\n        e.preventDefault();\r\n        \r\n        topbarCenter.find(`.${CSS_CLASS.STATE_ACTIVE}`).removeClass(CSS_CLASS.STATE_ACTIVE);\r\n        iframeWidthSwitcher.css('width', options.widthLaptop);\r\n        iframeWidthSwitcher.css('min-width', '');\r\n        btnLaptop.addClass(CSS_CLASS.STATE_ACTIVE);\r\n    });\r\n    \r\n    let btnDesktop = $(`\r\n        <a href=\"javascript:void(0);\" title=\"${options.locale.viewOnDesktop}\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.TOPBAR_BUTTON}\">${ICON.DEVICE_DESKTOP}</a>\r\n    `);\r\n    btnDesktop.on('click', function (e) {\r\n        e.preventDefault();\r\n        \r\n        topbarCenter.find(`.${CSS_CLASS.STATE_ACTIVE}`).removeClass(CSS_CLASS.STATE_ACTIVE);\r\n        iframeWidthSwitcher.css('width', '');\r\n        iframeWidthSwitcher.css('min-width', options.minWidthDesktop);\r\n        btnDesktop.addClass(CSS_CLASS.STATE_ACTIVE);\r\n    }).trigger('click');\r\n    \r\n    topbarCenter.append(btnMobile);\r\n    topbarCenter.append(btnTablet);\r\n    topbarCenter.append(btnLaptop);\r\n    topbarCenter.append(btnDesktop);\r\n};\r\n","export default function (event, selector) {\r\n    let target = $(event.target);\r\n    let closest = target.closest(selector);\r\n    \r\n    if (target.is(selector)) {\r\n        return target;\r\n    } else if (closest.length > 0) {\r\n        return closest;\r\n    } else {\r\n        return null;\r\n    }\r\n};\r\n","const KEY_MAP = {\r\n    ESC: 27,\r\n};\r\n\r\nexport default KEY_MAP;\r\n","import CSS_CLASS from '../constants/cssClass';\r\n\r\nexport default function (target, isCut) {\r\n    let self = this;\r\n    \r\n    self.copyContent = isCut ? null : target;\r\n    self.cutContent = isCut ? target : null;\r\n    \r\n    self.contentAreasWrapper.find(`.${CSS_CLASS.UI_CUTTING}`).removeClass(CSS_CLASS.UI_CUTTING);\r\n    self.iframeBody.removeClass(`${CSS_CLASS.STATE_COPYING} ${CSS_CLASS.STATE_COPYING_COMPONENT} ${CSS_CLASS.STATE_COPYING_CONTAINER} ${CSS_CLASS.STATE_COPYING_SUB_CONTAINER}`);\r\n    \r\n    if (target) {\r\n        isCut && target.addClass(CSS_CLASS.UI_CUTTING);\r\n        self.iframeBody.addClass(CSS_CLASS.STATE_COPYING);\r\n        \r\n        if (target.hasClass(CSS_CLASS.COMPONENT)) {\r\n            self.iframeBody.addClass(CSS_CLASS.STATE_COPYING_COMPONENT);\r\n        }\r\n        \r\n        if (target.hasClass(CSS_CLASS.CONTAINER)) {\r\n            self.iframeBody.addClass(target.hasClass(CSS_CLASS.SUB_CONTAINER) ? CSS_CLASS.STATE_COPYING_SUB_CONTAINER : CSS_CLASS.STATE_COPYING_CONTAINER);\r\n        }\r\n    }\r\n};\r\n","import getComponentType from './getComponentType';\r\n\r\nexport default function (component) {\r\n    let self = this;\r\n    \r\n    let componentType = getComponentType.call(self, component);\r\n    let componentData = KEditor.components[componentType];\r\n    if (typeof componentData.destroy === 'function') {\r\n        componentData.destroy.call(componentData, component, self);\r\n    }\r\n    \r\n    component.remove();\r\n};\r\n","import initSelectAction from './initSelectAction';\r\nimport initKeyDownAction from './initKeyDownAction';\r\n\r\nimport initBtnAddContentAfterContainer from './initBtnAddContentAfterContainer';\r\nimport initBtnAddContentAfterComponent from './initBtnAddContentAfterComponent';\r\n\r\nimport initBtnComponentDelete from './initBtnComponentDelete';\r\nimport initBtnComponentDuplicate from './initBtnComponentDuplicate';\r\nimport initBtnComponentCopy from './initBtnComponentCopy';\r\nimport initBtnComponentCut from './initBtnComponentCut';\r\nimport initBtnComponentSetting from './initBtnComponentSetting';\r\nimport initBtnComponentMoveDown from './initBtnComponentMoveDown';\r\nimport initBtnComponentMoveUp from './initBtnComponentMoveUp';\r\n\r\nimport initBtnContainerDelete from './initBtnContainerDelete';\r\nimport initBtnContainerDuplicate from './initBtnContainerDuplicate';\r\nimport initBtnContainerCopy from './initBtnContainerCopy';\r\nimport initBtnContainerCut from './initBtnContainerCut';\r\nimport initBtnContainerSetting from './initBtnContainerSetting';\r\nimport initBtnContainerMoveDown from './initBtnContainerMoveDown';\r\nimport initBtnContainerMoveUp from './initBtnContainerMoveUp';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    \r\n    initSelectAction.call(self);\r\n    \r\n    initKeyDownAction.call(self);\r\n    \r\n    initBtnAddContentAfterComponent.call(self);\r\n    initBtnAddContentAfterContainer.call(self);\r\n    \r\n    initBtnComponentDelete.call(self);\r\n    initBtnComponentDuplicate.call(self);\r\n    initBtnComponentCopy.call(self);\r\n    initBtnComponentCut.call(self);\r\n    initBtnComponentMoveDown.call(self);\r\n    initBtnComponentMoveUp.call(self);\r\n    initBtnComponentSetting.call(self);\r\n    \r\n    initBtnContainerDelete.call(self);\r\n    initBtnContainerDuplicate.call(self);\r\n    initBtnContainerCopy.call(self);\r\n    initBtnContainerCut.call(self);\r\n    initBtnContainerMoveDown.call(self);\r\n    initBtnContainerMoveUp.call(self);\r\n    initBtnContainerSetting.call(self);\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport getClickedElement from '../utils/getClickedElement';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    self.iframeBody.on('click', function (e) {\r\n        let sidebar = getClickedElement(e, `.${CSS_CLASS.SIDEBAR}`);\r\n        let modal = getClickedElement(e, `.${CSS_CLASS.MODAL}`);\r\n        \r\n        let container = getClickedElement(e, `.${CSS_CLASS.CONTAINER}`);\r\n        if (container) {\r\n            if (!container.hasClass(CSS_CLASS.STATE_TOOLBAR_SHOWED)) {\r\n                contentAreasWrapper.find(`.${CSS_CLASS.STATE_TOOLBAR_SHOWED}`).removeClass(CSS_CLASS.STATE_TOOLBAR_SHOWED);\r\n                container.addClass(CSS_CLASS.STATE_TOOLBAR_SHOWED);\r\n                \r\n                let contentArea = container.parent();\r\n                if (typeof options.onContainerSelected === 'function') {\r\n                    options.onContainerSelected.call(self, e, container, contentArea);\r\n                }\r\n            }\r\n        } else {\r\n            if (!sidebar && !modal) {\r\n                contentAreasWrapper.find(`.${CSS_CLASS.STATE_TOOLBAR_SHOWED}`).removeClass(CSS_CLASS.STATE_TOOLBAR_SHOWED);\r\n            }\r\n        }\r\n        \r\n        let component = getClickedElement(e, `.${CSS_CLASS.COMPONENT}`);\r\n        if (component) {\r\n            if (!component.hasClass(CSS_CLASS.STATE_TOOLBAR_SHOWED)) {\r\n                contentAreasWrapper.find(`.${CSS_CLASS.COMPONENT}.${CSS_CLASS.STATE_TOOLBAR_SHOWED}`).removeClass(CSS_CLASS.STATE_TOOLBAR_SHOWED);\r\n                component.addClass(CSS_CLASS.STATE_TOOLBAR_SHOWED);\r\n                \r\n                let contentArea = component.parent();\r\n                if (typeof options.onComponentSelected === 'function') {\r\n                    options.onComponentSelected.call(self, e, component, contentArea);\r\n                }\r\n            }\r\n        } else {\r\n            if (!sidebar) {\r\n                contentAreasWrapper.find(`.${CSS_CLASS.COMPONENT}.${CSS_CLASS.STATE_TOOLBAR_SHOWED}`).removeClass(CSS_CLASS.STATE_TOOLBAR_SHOWED);\r\n            }\r\n        }\r\n    });\r\n};\r\n","import KEY_MAP from '../constants/keyMap';\r\nimport setCopyContent from '../utils/setCopyContent';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    \r\n    self.iframeDoc.on('keydown', function (e) {\r\n        switch (e.keyCode) {\r\n            case KEY_MAP.ESC:\r\n                setCopyContent.call(self, null);\r\n                break;\r\n            \r\n            default:\r\n            // Do nothing\r\n        }\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport ACTION_TYPE from '../constants/actionType';\r\nimport openSnippetModal from '../modal/openSnippetModal';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.TOOLBAR_COMPONENT_BOTTOM} .${CSS_CLASS.ADD_CONTENT}`, function (e) {\r\n        e.preventDefault();\r\n        \r\n        let btn = $(this);\r\n        let component = btn.closest(`.${CSS_CLASS.COMPONENT}`);\r\n        let container = btn.closest(`.${CSS_CLASS.CONTAINER}`);\r\n        openSnippetModal.call(self, component, ACTION_TYPE.AFTER, true, options.nestedContainerEnabled ? !container.hasClass(CSS_CLASS.SUB_CONTAINER) : false);\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport ACTION_TYPE from '../constants/actionType';\r\nimport openSnippetModal from '../modal/openSnippetModal';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.TOOLBAR_CONTAINER_BOTTOM} .${CSS_CLASS.ADD_CONTENT}`, function (e) {\r\n        e.preventDefault();\r\n        \r\n        let btn = $(this);\r\n        let container = btn.closest(`.${CSS_CLASS.CONTAINER}`);\r\n        openSnippetModal.call(self, container, ACTION_TYPE.AFTER, true, options.nestedContainerEnabled);\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport closeSidebar from '../sidebar/closeSidebar';\r\nimport deleteComponent from '../component/deleteComponent';\r\nimport checkChildren from '../utils/checkChildren';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.COMPONENT_DELETE}`, function (e) {\r\n        e.preventDefault();\r\n        \r\n        let btn = $(this);\r\n        \r\n        if (confirm(options.locale.confirmDeleteComponentText)) {\r\n            let component = btn.closest(`.${CSS_CLASS.COMPONENT}`);\r\n            let container = component.closest(`.${CSS_CLASS.CONTAINER}`);\r\n            let containerContentInner = component.closest(`.${CSS_CLASS.CONTAINER_CONTENT_INNER}`);\r\n            let contentArea = component.closest(`.${CSS_CLASS.CONTENT_AREA}`);\r\n            \r\n            if (typeof options.onBeforeComponentDeleted === 'function') {\r\n                options.onBeforeComponentDeleted.call(self, e, component, contentArea);\r\n            }\r\n            \r\n            if (component.is(self.settingComponent)) {\r\n                closeSidebar.call(self);\r\n            }\r\n            \r\n            deleteComponent.call(self, component);\r\n            \r\n            if (typeof options.onComponentDeleted === 'function') {\r\n                options.onComponentDeleted.call(self, e, component, contentArea);\r\n            }\r\n            \r\n            if (typeof options.onContainerChanged === 'function') {\r\n                options.onContainerChanged.call(self, e, container, contentArea);\r\n            }\r\n            \r\n            if (typeof options.onContentChanged === 'function') {\r\n                options.onContentChanged.call(self, e, contentArea);\r\n            }\r\n            \r\n            checkChildren(containerContentInner);\r\n        }\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport getComponentContent from '../component/getComponentContent';\r\nimport convertToComponent from '../component/convertToComponent';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.COMPONENT_DUPLICATE}`, function (e) {\r\n        e.preventDefault();\r\n        \r\n        let btn = $(this);\r\n        let component = btn.closest(`.${CSS_CLASS.COMPONENT}`);\r\n        let container = component.closest(`.${CSS_CLASS.CONTAINER}`);\r\n        let contentArea = container.parent();\r\n        let newComponent = $(getComponentContent.call(self, component));\r\n        \r\n        component.after(newComponent);\r\n        convertToComponent.call(self, contentArea, container, newComponent);\r\n        \r\n        if (typeof options.onComponentDuplicated === 'function') {\r\n            options.onComponentDuplicated.call(self, component, newComponent, contentArea);\r\n        }\r\n        \r\n        if (typeof options.onContainerChanged === 'function') {\r\n            options.onContainerChanged.call(self, e, container, contentArea);\r\n        }\r\n        \r\n        if (typeof options.onContentChanged === 'function') {\r\n            options.onContentChanged.call(self, e, contentArea);\r\n        }\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport setCopyContent from '../utils/setCopyContent';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.COMPONENT_COPY}`, function (e) {\r\n        e.preventDefault();\r\n        \r\n        let btn = $(this);\r\n        let component = btn.closest(`.${CSS_CLASS.COMPONENT}`);\r\n        setCopyContent.call(self, component, false);\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport setCopyContent from '../utils/setCopyContent';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.COMPONENT_CUT}`, function (e) {\r\n        e.preventDefault();\r\n        \r\n        let btn = $(this);\r\n        let component = btn.closest(`.${CSS_CLASS.COMPONENT}`);\r\n        setCopyContent.call(self, component, true);\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.COMPONENT_MOVE_DOWN}`, function (e) {\r\n        e.preventDefault();\r\n        \r\n        let btn = $(this);\r\n        let component = btn.closest(`.${CSS_CLASS.COMPONENT}`);\r\n        let nextComponent = component.next(`.${CSS_CLASS.COMPONENT}`);\r\n        \r\n        if (nextComponent.length > 0) {\r\n            let container = component.closest(`.${CSS_CLASS.CONTAINER}`);\r\n            let contentArea = component.closest(`.${CSS_CLASS.CONTENT_AREA}`);\r\n    \r\n            nextComponent.after(component);\r\n            \r\n            if (typeof options.onContainerChanged === 'function') {\r\n                options.onContainerChanged.call(self, e, container, contentArea);\r\n            }\r\n            \r\n            if (typeof options.onContentChanged === 'function') {\r\n                options.onContentChanged.call(self, e, contentArea);\r\n            }\r\n        }\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.COMPONENT_MOVE_UP}`, function (e) {\r\n        e.preventDefault();\r\n        \r\n        let btn = $(this);\r\n        let component = btn.closest(`.${CSS_CLASS.COMPONENT}`);\r\n        let prevComponent = component.prev(`.${CSS_CLASS.COMPONENT}`);\r\n        \r\n        if (prevComponent.length > 0) {\r\n            let container = component.closest(`.${CSS_CLASS.CONTAINER}`);\r\n            let contentArea = component.closest(`.${CSS_CLASS.CONTENT_AREA}`);\r\n            \r\n            prevComponent.before(component);\r\n            \r\n            if (typeof options.onContainerChanged === 'function') {\r\n                options.onContainerChanged.call(self, e, container, contentArea);\r\n            }\r\n            \r\n            if (typeof options.onContentChanged === 'function') {\r\n                options.onContentChanged.call(self, e, contentArea);\r\n            }\r\n        }\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport openSidebar from '../sidebar/openSidebar';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.COMPONENT_SETTING}`, function (e) {\r\n        e.preventDefault();\r\n        \r\n        let btn = $(this);\r\n        let component = btn.closest(`.${CSS_CLASS.COMPONENT}`);\r\n        openSidebar.call(self, component);\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport closeSidebar from '../sidebar/closeSidebar';\r\nimport deleteComponent from '../component/deleteComponent';\r\nimport checkChildren from '../utils/checkChildren';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.CONTAINER_DELETE}`, function (e) {\r\n        e.preventDefault();\r\n        \r\n        let btn = $(this);\r\n        \r\n        if (confirm(options.locale.confirmDeleteContainerText)) {\r\n            let container = btn.closest(`.${CSS_CLASS.CONTAINER}`);\r\n            let containerContentInner = container.closest(`.${CSS_CLASS.CONTAINER_CONTENT_INNER}`);\r\n            let components = container.find(`.${CSS_CLASS.COMPONENT}`);\r\n            let contentArea = container.closest(`.${CSS_CLASS.CONTENT_AREA}`);\r\n            let contentAreaInner = contentArea.find(`.${CSS_CLASS.CONTENT_AREA_INNER}`);\r\n            \r\n            if (typeof options.onBeforeContainerDeleted === 'function') {\r\n                options.onBeforeContainerDeleted.call(self, e, container, contentArea);\r\n            }\r\n            \r\n            if (self.settingComponent) {\r\n                let settingComponentParent = self.settingComponent.closest(`.${CSS_CLASS.CONTAINER}`);\r\n                if (settingComponentParent.is(container)) {\r\n                    closeSidebar.call(self);\r\n                }\r\n            } else if (container.is(self.settingContainer)) {\r\n                closeSidebar.call(self);\r\n            }\r\n            \r\n            if (components.length > 0) {\r\n                components.each(function () {\r\n                    deleteComponent.call(self, $(this));\r\n                });\r\n            }\r\n            \r\n            container.remove();\r\n            \r\n            if (typeof options.onContainerDeleted === 'function') {\r\n                options.onContainerDeleted.call(self, e, container, contentArea);\r\n            }\r\n            \r\n            if (typeof options.onContentChanged === 'function') {\r\n                options.onContentChanged.call(self, e, contentArea);\r\n            }\r\n    \r\n            checkChildren(containerContentInner);\r\n            checkChildren(contentAreaInner);\r\n        }\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport getContainerContent from '../container/getContainerContent';\r\nimport convertToContainer from '../container/convertToContainer';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.CONTAINER_DUPLICATE}`, function (e) {\r\n        e.preventDefault();\r\n        \r\n        let btn = $(this);\r\n        let container = btn.closest(`.${CSS_CLASS.CONTAINER}`);\r\n        let contentArea = container.parent();\r\n        let newContainer = $(getContainerContent.call(self, container, btn.parent().hasClass(CSS_CLASS.TOOLBAR_SUB_CONTAINER)));\r\n        container.after(newContainer);\r\n        convertToContainer.call(self, contentArea, newContainer);\r\n        \r\n        if (typeof options.onContainerDuplicated === 'function') {\r\n            options.onContainerDuplicated.call(self, container, newContainer, contentArea);\r\n        }\r\n        \r\n        if (typeof options.onContentChanged === 'function') {\r\n            options.onContentChanged.call(self, e, contentArea);\r\n        }\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport setCopyContent from '../utils/setCopyContent';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.CONTAINER_COPY}`, function (e) {\r\n        e.preventDefault();\r\n        \r\n        let btn = $(this);\r\n        let container = btn.closest(`.${CSS_CLASS.CONTAINER}`);\r\n        setCopyContent.call(self, container, false);\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport setCopyContent from '../utils/setCopyContent';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.CONTAINER_CUT}`, function (e) {\r\n        e.preventDefault();\r\n        \r\n        let btn = $(this);\r\n        let container = btn.closest(`.${CSS_CLASS.CONTAINER}`);\r\n        setCopyContent.call(self, container, true);\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.CONTAINER_MOVE_DOWN}`, function (e) {\r\n        e.preventDefault();\r\n        \r\n        let btn = $(this);\r\n        let container = btn.closest(`.${CSS_CLASS.CONTAINER}`);\r\n        let nextContainer = container.next(`.${CSS_CLASS.CONTAINER}`);\r\n        \r\n        if (nextContainer.length > 0) {\r\n            let contentArea = container.parent();\r\n    \r\n            nextContainer.after(container);\r\n            \r\n            if (typeof options.onContentChanged === 'function') {\r\n                options.onContentChanged.call(self, e, contentArea);\r\n            }\r\n        }\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.CONTAINER_MOVE_UP}`, function (e) {\r\n        e.preventDefault();\r\n        \r\n        let btn = $(this);\r\n        let container = btn.closest(`.${CSS_CLASS.CONTAINER}`);\r\n        let prevContainer = container.prev(`.${CSS_CLASS.CONTAINER}`);\r\n        \r\n        if (prevContainer.length > 0) {\r\n            let contentArea = container.parent();\r\n            \r\n            prevContainer.before(container);\r\n            \r\n            if (typeof options.onContentChanged === 'function') {\r\n                options.onContentChanged.call(self, e, contentArea);\r\n            }\r\n        }\r\n    });\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport openSidebar from '../sidebar/openSidebar';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    contentAreasWrapper.on('click', `.${CSS_CLASS.CONTAINER_SETTING}`, function (e) {\r\n        e.preventDefault();\r\n        \r\n        let btn = $(this);\r\n        let container = btn.closest(`.${CSS_CLASS.CONTAINER}`);\r\n        openSidebar.call(self, container);\r\n    });\r\n};\r\n","import TOOLBAR_TYPE from '../constants/toolbarType';\r\nimport CSS_CLASS from '../constants/cssClass';\r\nimport ACTION_TYPE from '../constants/actionType';\r\nimport openSnippetModal from '../modal/openSnippetModal';\r\nimport generateToolbar from '../utils/generateToolbar';\r\nimport closeSidebar from '../sidebar/closeSidebar';\r\nimport convertToContainer from '../container/convertToContainer';\r\nimport checkChildren from '../utils/checkChildren';\r\n\r\nexport default function (contentArea, dontInitToolbar) {\r\n    let self = this;\r\n    let options = self.options;\r\n    \r\n    contentArea.addClass(CSS_CLASS.CONTENT_AREA);\r\n    let content = contentArea.html();\r\n    let contentAreaInner = $(`<div class=\"${CSS_CLASS.CONTENT_AREA_INNER}\"></div>`).html(content);\r\n    contentArea.html(contentAreaInner);\r\n    \r\n    if (typeof options.onBeforeInitContentArea === 'function') {\r\n        options.onBeforeInitContentArea.call(self, contentArea);\r\n    }\r\n    \r\n    if (!dontInitToolbar) {\r\n        let contentAreaToolbar = $(generateToolbar.call(self, TOOLBAR_TYPE.CONTENT_AREA));\r\n        contentArea.append(contentAreaToolbar);\r\n        contentAreaToolbar.children(`.${CSS_CLASS.ADD_CONTENT}`).on('click', function (e) {\r\n            e.preventDefault();\r\n    \r\n            openSnippetModal.call(self, contentAreaInner, ACTION_TYPE.APPEND, true, true);\r\n        });\r\n    }\r\n    \r\n    contentAreaInner.sortable({\r\n        handle: `.${CSS_CLASS.TOOLBAR_CONTAINER}:not(.${CSS_CLASS.TOOLBAR_SUB_CONTAINER}) .${CSS_CLASS.CONTAINER_MOVE}`,\r\n        items: '> section',\r\n        helper: 'clone',\r\n        connectWith: `.${CSS_CLASS.CONTENT_AREA}`,\r\n        axis: 'y',\r\n        tolerance: 'pointer',\r\n        receive: function (event, ui) {\r\n            let helper = ui.helper;\r\n            let item = ui.item;\r\n            \r\n            if (helper) {\r\n                helper.remove();\r\n            }\r\n            \r\n            closeSidebar.call(self);\r\n            \r\n            if (typeof options.onContentChanged === 'function') {\r\n                options.onContentChanged.call(self, event, contentArea);\r\n            }\r\n            \r\n            item.addClass(CSS_CLASS.UI_DRAGGING);\r\n            checkChildren(contentAreaInner);\r\n        },\r\n        start: function (e, ui) {\r\n            ui.item.addClass(CSS_CLASS.UI_DRAGGING);\r\n            ui.item.addClass(CSS_CLASS.STATE_TOOLBAR_SHOWED);\r\n        },\r\n        stop: function (e, ui) {\r\n            if (ui.helper) {\r\n                ui.helper.remove();\r\n            }\r\n            ui.item.removeClass(CSS_CLASS.UI_DRAGGING);\r\n            checkChildren(contentAreaInner);\r\n        }\r\n    });\r\n    \r\n    contentAreaInner.children('section').each(function () {\r\n        convertToContainer.call(self, contentArea, $(this));\r\n    });\r\n    \r\n    if (typeof options.onInitContentArea === 'function') {\r\n        let contentData = options.onInitContentArea.call(self, contentArea);\r\n        if (contentData && contentData.length > 0) {\r\n            $.each(contentData, function () {\r\n                convertToContainer.call(self, contentArea, $(this));\r\n            });\r\n        }\r\n    }\r\n    \r\n    checkChildren(contentAreaInner);\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport initIframeActions from './initIframeActions';\r\nimport initContentAreas from '../contentArea/initContentAreas';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let element = self.element;\r\n    let options = self.options;\r\n    let wrapperId = self.generateId();\r\n    let wrapper = self.wrapper = $(`\r\n        <div id=\"${wrapperId}\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.WRAPPER}\">\r\n            <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.IFRAME_WRAPPER}\">\r\n                <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.IFRAME_WIDTH_SWITCHER}\">\r\n                    <iframe class=\"${CSS_CLASS.UI} ${CSS_CLASS.IFRAME}\"></iframe>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    `);\r\n    \r\n    element.addClass(CSS_CLASS.UI_HIDDEN);\r\n    element.after(wrapper);\r\n    \r\n    let iframe = self.iframe = wrapper.find(`.${CSS_CLASS.IFRAME}`);\r\n    self.iframeDoc = iframe.contents();\r\n    \r\n    // Fix issue Firefox can't render content inside iframe\r\n    // ======================================================\r\n    self.iframeDoc.get(0).open();\r\n    self.iframeDoc.get(0).close();\r\n    // ======================================================\r\n    \r\n    self.iframeWindow = iframe[0].contentWindow ? iframe[0].contentWindow : iframe[0].contentDocument.defaultView;\r\n    self.iframeHead = self.iframeDoc.find('head');\r\n    self.iframeBody = self.iframeDoc.find('body');\r\n    \r\n    // Generate head content for iframe\r\n    let styles = '';\r\n    $('[data-type=\"keditor-style\"]').each(function () {\r\n        let style = $(this);\r\n        let idStr = style.attr('id') || '';\r\n        let href = style.attr('href') || style.attr('data-href') || '';\r\n        \r\n        if (href) {\r\n            styles += `<link rel=\"stylesheet\" type=\"text/css\" href=\"${href}\" ${idStr} />\\n`;\r\n        } else {\r\n            styles += `<style type=\"text/css\" ${idStr}>${style.html()}</style>\\n`;\r\n        }\r\n    });\r\n    $.isArray(options.contentStyles) && $.each(options.contentStyles, function (i, style) {\r\n        let idStr = style.id || '';\r\n        \r\n        if (style.href) {\r\n            styles += `<link rel=\"stylesheet\" type=\"text/css\" href=\"${style.href}\" ${idStr} />\\n`;\r\n        } else {\r\n            styles += `<style type=\"text/css\" ${idStr}>${style.content}</style>\\n`;\r\n        }\r\n    });\r\n    self.iframeHead.append(styles);\r\n    \r\n    // Generate body content for iframe\r\n    self.contentAreasWrapper = $(options.contentAreasWrapper || '<div />');\r\n    self.contentAreasWrapper.attr('class', `${CSS_CLASS.UI} ${CSS_CLASS.CONTENT_AREAS_WRAPPER}`);\r\n    self.contentAreasWrapper.html(element.val() || element.html() || '');\r\n    if (!self.contentAreasWrapper.attr('id')) {\r\n        self.contentAreasWrapper.attr('id', self.generateId());\r\n    }\r\n    self.iframeBody.append(self.contentAreasWrapper).addClass(CSS_CLASS.IFRAME_BODY);\r\n    \r\n    if (typeof options.onInitIframe === 'function') {\r\n        options.onInitIframe.call(self, self.iframe, self.iframeHead, self.iframeBody);\r\n    }\r\n    \r\n    initContentAreas.call(self);\r\n    initIframeActions.call(self);\r\n};\r\n","import generateId from '../utils/generateId';\r\nimport initContentArea from './initContentArea';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    let contentAreasWrapper = self.contentAreasWrapper;\r\n    \r\n    let contentAreas;\r\n    if (options.contentAreasSelector) {\r\n        contentAreas = contentAreasWrapper.find(options.contentAreasSelector);\r\n    }\r\n    \r\n    if (!contentAreas || contentAreas.length === 0) {\r\n        let originalContent = contentAreasWrapper.html();\r\n        \r\n        contentAreas = $('<div />').html(originalContent);\r\n        contentAreasWrapper.empty().append(contentAreas);\r\n    }\r\n    \r\n    contentAreas.each(function () {\r\n        let contentArea = $(this);\r\n        if (!contentArea.attr('id')) {\r\n            contentArea.attr('id', generateId());\r\n        }\r\n        \r\n        initContentArea.call(self, contentArea);\r\n    });\r\n};\r\n","import DEFAULTS from './constants/defaults';\r\nimport initSnippetsModal from './modal/initSnippetsModal';\r\nimport initExtraSettings from './sidebar/initExtraSettings';\r\nimport initSidebar from './sidebar/initSidebar';\r\nimport initTopbar from './topbar/initTopbar';\r\nimport initIframe from './iframe/initIframe';\r\nimport generateId from './utils/generateId';\r\n\r\nexport default function (target, config) {\r\n    let self = this;\r\n    self.element = target;\r\n    self.options = $.extend({}, DEFAULTS, config);\r\n    \r\n    initIframe.call(self);\r\n    initTopbar.call(self);\r\n    initSidebar.call(self);\r\n    initSnippetsModal.call(self);\r\n    initExtraSettings.call(self);\r\n    \r\n    self.id = generateId();\r\n    KEditor.instances[self.id] = self;\r\n    \r\n    if (typeof self.options.onReady === 'function') {\r\n        self.options.onReady.call(self);\r\n    }\r\n};\r\n","import CSS_CLASS from '../constants/cssClass';\r\nimport generateId from '../utils/generateId';\r\nimport closeSidebar from './closeSidebar';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let sidebarId = generateId();\r\n    \r\n    let sidebar = self.sidebar = $(`\r\n        <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.SIDEBAR}\" id=\"${sidebarId}\">\r\n            <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.SIDEBAR_HEADER}\">\r\n                <span class=\"${CSS_CLASS.UI} ${CSS_CLASS.SIDEBAR_TITLE}\"></span>\r\n                <a href=\"javascript:void(0);\" class=\"${CSS_CLASS.UI} ${CSS_CLASS.SIDEBAR_CLOSER}\">&times;</a>\r\n            </div>\r\n            <div class=\"${CSS_CLASS.UI} ${CSS_CLASS.SIDEBAR_BODY}\"></div>\r\n        </div>\r\n    `);\r\n    \r\n    sidebar.find(`.${CSS_CLASS.SIDEBAR_CLOSER}`).on('click', function (e) {\r\n        e.preventDefault();\r\n        \r\n        closeSidebar.call(self);\r\n    });\r\n    \r\n    self.sidebarTitle = sidebar.find(`.${CSS_CLASS.SIDEBAR_TITLE}`);\r\n    let sidebarBody = self.sidebarBody = sidebar.find(`.${CSS_CLASS.SIDEBAR_BODY}`);\r\n    sidebarBody.on('submit', 'form', function (e) {\r\n        e.preventDefault();\r\n        return false;\r\n    });\r\n    \r\n    sidebar.appendTo(self.wrapper);\r\n};\r\n","import openSidebar from './openSidebar';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let options = self.options;\r\n    \r\n    if ($.isPlainObject(options.extraSettings)) {\r\n        for (let key in options.extraSettings) {\r\n            let extraSetting = options.extraSettings[key];\r\n            \r\n            let trigger = typeof extraSetting.trigger === 'function' ? extraSetting.trigger.call(self, extraSetting) : extraSetting.trigger;\r\n            trigger.attr('data-extra-setting', key);\r\n            trigger.on('click', function (e) {\r\n                e.preventDefault();\r\n                \r\n                openSidebar.call(self, trigger);\r\n            })\r\n        }\r\n    }\r\n};\r\n","import CSS_CLASS from './constants/cssClass';\r\nimport getContent from './getContent';\r\n\r\nexport default function () {\r\n    let self = this;\r\n    let element = self.element;\r\n    let id = self.id;\r\n    \r\n    let content = getContent.call(self, false);\r\n    self.wrapper.remove();\r\n    \r\n    if (element.is('textarea')) {\r\n        element.val(content);\r\n    } else {\r\n        element.html(content);\r\n    }\r\n    \r\n    element.removeClass(CSS_CLASS.UI_HIDDEN);\r\n    element.data('keditor', null);\r\n    delete KEditor.instances[id];\r\n};\r\n","import '../styles/keditor.less';\r\n\r\nimport $ from 'jquery';\r\nimport DEFAULTS from './constants/defaults';\r\nimport generateId from './utils/generateId';\r\nimport getDataAttributes from './utils/getDataAttributes';\r\nimport initIframeCover from './utils/initIframeCover';\r\nimport addSnippet from './snippet/addSnippet';\r\nimport openSidebar from './sidebar/openSidebar';\r\nimport closeSidebar from './sidebar/closeSidebar';\r\nimport init from './init';\r\nimport destroy from './destroy';\r\nimport getContent from './getContent';\r\nimport setContent from './setContent';\r\nimport initModal from './modal/initModal';\r\nimport openModal from './modal/openModal';\r\nimport closeModal from './modal/closeModal';\r\n\r\n// Check dependencies\r\nif (!$.fn.sortable) {\r\n    throw new Error('[ KEditor ] $.fn.sortable does not exist. Please import $.fn.sortable into your document for continue using KEditor.');\r\n}\r\n\r\nwindow.KEDITOR_DEBUG = true;\r\n\r\n// KEditor class\r\nclass KEditor {\r\n    static DEFAULTS = DEFAULTS;\r\n    static debug = false;\r\n    static version = '2.0.0';\r\n    static instances = {};\r\n    static components = {\r\n        blank: {\r\n            settingEnabled: false\r\n        }\r\n    };\r\n    \r\n    settingComponent = null;\r\n    settingContainer = null;\r\n    \r\n    copyContent = null;\r\n    cutContent = null;\r\n    \r\n    categoryComponent = [];\r\n    categoryContainer = [];\r\n    \r\n    constructor(target, config) {\r\n        return init.apply(this, [target, config]);\r\n    }\r\n    \r\n    // Static methods\r\n    //---------------------------------\r\n    static log(...args) {\r\n        if (console && typeof console.log === 'function' && window.KEDITOR_DEBUG) {\r\n            console.log.apply(console, ['[ KEditor ] ', ...args]);\r\n        }\r\n    }\r\n    \r\n    static error(message) {\r\n        throw new Error(`[ KEditor ] ${message}`);\r\n    }\r\n    \r\n    static init(target, config) {\r\n        return new KEditor(target, config);\r\n    }\r\n    \r\n    // Setting stuffs\r\n    //---------------------------------\r\n    getSettingContainer() {\r\n        return this.settingContainer;\r\n    }\r\n    \r\n    getSettingComponent() {\r\n        return this.settingComponent;\r\n    }\r\n    \r\n    // Utilities\r\n    //---------------------------------\r\n    generateId() {\r\n        return generateId();\r\n    }\r\n    \r\n    getDataAttributes(target, ignoreAttributes, isArray) {\r\n        return getDataAttributes.apply(this, [target, ignoreAttributes, isArray]);\r\n    }\r\n    \r\n    // Iframe\r\n    //---------------------------------\r\n    initIframeCover(iframe, wrapper) {\r\n        return initIframeCover.apply(this, [iframe, wrapper]);\r\n    }\r\n    \r\n    // Modal\r\n    //---------------------------------\r\n    initModal(modalId, hasFooter, disableOriginEvents) {\r\n        return initModal.call(this, modalId, hasFooter, disableOriginEvents);\r\n    }\r\n    \r\n    openModal(modal) {\r\n        return openModal.call(this, modal);\r\n    }\r\n    \r\n    closeModal(modal) {\r\n        return closeModal.call(this, modal);\r\n    }\r\n    \r\n    // Legacy methods. DEPRECATED\r\n    //---------------------------------\r\n    showSettingPanel(target) {\r\n        openSidebar.call(this, target);\r\n    }\r\n    \r\n    hideSettingPanel() {\r\n        closeSidebar.call(this);\r\n    }\r\n    \r\n    // Get content\r\n    //---------------------------------\r\n    getContent(inArray) {\r\n        return getContent.apply(this, [inArray]);\r\n    }\r\n    \r\n    // Set content\r\n    //---------------------------------\r\n    setContent(content, contentArea) {\r\n        return setContent.apply(this, [content, contentArea]);\r\n    }\r\n    \r\n    // Destroy\r\n    //---------------------------------\r\n    destroy() {\r\n        return destroy.apply(this);\r\n    }\r\n    \r\n    // Snippet\r\n    //---------------------------------\r\n    addSnippet(type, title, previewUrl, categories, content, dataAttributes) {\r\n        return addSnippet.apply(this, [type, title, previewUrl, categories, content, dataAttributes]);\r\n    }\r\n}\r\n\r\n// KEditor plugins\r\n$.fn.keditor = function (options) {\r\n    let element = $(this);\r\n    let instance = element.data('keditor');\r\n    \r\n    if (typeof options === 'string') {\r\n        if (instance && instance[options] && typeof instance[options] === 'function') {\r\n            return instance[options].apply(instance, Array.prototype.slice.call(arguments, 1));\r\n        }\r\n    } else {\r\n        if (!instance) {\r\n            instance = KEditor.init(element, options);\r\n            element.data('keditor', instance);\r\n        }\r\n        \r\n        return instance;\r\n    }\r\n};\r\n\r\nwindow.KEditor = $.keditor = $.fn.keditor.constructor = KEditor;\r\n","import CSS_CLASS from '../constants/cssClass';\r\n\r\nexport default function (iframe, wrapper) {\r\n    if (!wrapper) {\r\n        iframe.wrap(`<div class=\"${CSS_CLASS.IFRAME_COVER_WRAPPER_FAKE}\"></div>`);\r\n        wrapper = iframe.parent();\r\n    }\r\n    \r\n    wrapper.addClass(`${CSS_CLASS.IFRAME_COVER_WRAPPER}`);\r\n    \r\n    let cover = $(`<div class=\"${CSS_CLASS.IFRAME_COVER}\"></div>`);\r\n    wrapper.prepend(cover);\r\n    \r\n    wrapper.on('mouseleave', function () {\r\n        wrapper.removeClass(`${CSS_CLASS.IFRAME_COVER_HIDDEN}`);\r\n    });\r\n    \r\n    cover.on('dblclick', function (e) {\r\n        e.preventDefault();\r\n        \r\n        wrapper.addClass(`${CSS_CLASS.IFRAME_COVER_HIDDEN}`);\r\n    });\r\n};\r\n","import CSS_CLASS from './constants/cssClass';\r\nimport initContentArea from './contentArea/initContentArea';\r\n\r\nexport default function (content, contentArea) {\r\n    let self = this;\r\n    let contentAreasWrapper = self.wrapper;\r\n    \r\n    if (!contentArea) {\r\n        contentArea = contentAreasWrapper.children(`.${CSS_CLASS.CONTENT_AREA}`);\r\n    } else {\r\n        if (!contentArea.jquery) {\r\n            contentArea = contentAreasWrapper.find(contentArea);\r\n        }\r\n    }\r\n    \r\n    if (contentArea.length === 0) {\r\n        self.error('Content area does not exist!');\r\n    }\r\n    \r\n    contentArea.html(content);\r\n    initContentArea.call(contentArea, true);\r\n};\r\n"],"sourceRoot":""}