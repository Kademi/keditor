{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./node_modules/jquery.fullscreen/release/jquery.fullscreen.min.js","webpack:///./src/keditor/component/convertToComponent.js","webpack:///./src/keditor/component/deleteComponent.js","webpack:///./src/keditor/component/getComponentContent.js","webpack:///./src/keditor/component/getComponentType.js","webpack:///./src/keditor/component/initComponent.js","webpack:///./src/keditor/component/initDynamicContent.js","webpack:///./src/keditor/constants/classNames.js","webpack:///./src/keditor/constants/defaults.js","webpack:///./src/keditor/constants/toolbarType.js","webpack:///./src/keditor/container/convertToContainer.js","webpack:///./src/keditor/container/getContainerContent.js","webpack:///./src/keditor/container/initContainer.js","webpack:///./src/keditor/container/initContainerContent.js","webpack:///./src/keditor/contentArea/initContentArea.js","webpack:///./src/keditor/contentArea/initContentAreaWrapper.js","webpack:///./src/keditor/contentArea/initContentAreas.js","webpack:///./src/keditor/destroy.js","webpack:///./src/keditor/getContent.js","webpack:///./src/keditor/iframe/initBtnComponentDelete.js","webpack:///./src/keditor/iframe/initBtnComponentDuplicate.js","webpack:///./src/keditor/iframe/initBtnComponentSetting.js","webpack:///./src/keditor/iframe/initBtnContainerDelete.js","webpack:///./src/keditor/iframe/initBtnContainerDuplicate.js","webpack:///./src/keditor/iframe/initBtnContainerSetting.js","webpack:///./src/keditor/iframe/initIframeActions.js","webpack:///./src/keditor/iframe/initSelectAction.js","webpack:///./src/keditor/index.js","webpack:///./src/keditor/init.js","webpack:///./src/keditor/modal/closeModal.js","webpack:///./src/keditor/modal/initSnippetsModal.js","webpack:///./src/keditor/modal/openModal.js","webpack:///./src/keditor/setContent.js","webpack:///./src/keditor/sidebar/closeSidebar.js","webpack:///./src/keditor/sidebar/initExtraSettings.js","webpack:///./src/keditor/sidebar/initSidebar.js","webpack:///./src/keditor/sidebar/openSidebar.js","webpack:///./src/keditor/snippet/addSnippet.js","webpack:///./src/keditor/snippet/initSnippetsFilter.js","webpack:///./src/keditor/snippet/renderSnippet.js","webpack:///./src/keditor/snippet/renderSnippetFilter.js","webpack:///./src/keditor/snippet/renderSnippets.js","webpack:///./src/keditor/topbar/initDeviceSwitcher.js","webpack:///./src/keditor/topbar/initFullscreenAction.js","webpack:///./src/keditor/topbar/initPreviewAction.js","webpack:///./src/keditor/topbar/initSaveAction.js","webpack:///./src/keditor/topbar/initTopbar.js","webpack:///./src/keditor/topbar/initTopbarRightActions.js","webpack:///./src/keditor/utils/beautifyCategories.js","webpack:///./src/keditor/utils/generateId.js","webpack:///./src/keditor/utils/generateToolbar.js","webpack:///./src/keditor/utils/getClickedElement.js","webpack:///./src/keditor/utils/getDataAttributes.js","webpack:///./src/keditor/utils/initIframeCover.js","webpack:///./src/styles/keditor.less","webpack:///external \"jQuery\""],"names":["contentArea","container","target","isExisting","is","CLASS_NAMES","CONTAINER_CONTENT_TOOLBAR","self","isSection","component","addClass","UI","COMPONENT","wrapInner","COMPONENT_CONTENT","wrap","parent","COMPONENT_EXISTING","initComponent","call","componentType","getComponentType","componentData","KEditor","components","destroy","remove","clonedComponent","clone","dataAttributes","getDataAttributes","content","iframeWrapper","find","IFRAME_COVER_WRAPPER","length","IFRAME_COVER","iframe","children","hasClass","IFRAME_COVER_WRAPPER_FAKE","unwrap","removeClass","getContent","componentContent","html","each","$","join","options","attr","replace","defaultComponentType","error","STATE_INITIALIZED","STATE_INITIALIZING","generateId","onBeforeInitComponent","append","generateToolbar","TOOLBAR_TYPE","settingEnabled","dynamicElement","initDynamicContent","init","onInitComponent","closest","CONTENT_AREA","onBeforeDynamicContentLoad","dynamicHref","data","param","ajax","url","type","dataType","success","response","status","jqXHR","onDynamicContentLoaded","textStatus","errorThrown","onDynamicContentError","UI_DRAGGING","UI_HIDDEN","SORTABLE","WRAPPER","BTN","BTN_GROUP","BTN_PRIMARY","BTN_DEFAULT","STATE_ACTIVE","STATE_OPENED","STATE_SHOWED","STATE_SELECTED","STATE_DUPLICATED","STATE_PREVIEWING","STATE_TOOLBAR_SHOWED","STATE_SETTING_OPENED","STATE_SIDEBAR_OPENED","STATE_MODAL_OPENED","STATE_NOT_MATCHED","ADD_CONTENT","ADD_COMPONENT","ADD_CONTAINER","SIDEBAR","SIDEBAR_HEADER","SIDEBAR_BODY","SIDEBAR_TITLE","SIDEBAR_CLOSER","TOPBAR","TOPBAR_LEFT","TOPBAR_CENTER","TOPBAR_RIGHT","TOPBAR_BUTTON","TOPBAR_TITLE","MODAL","MODAL_COMPONENT","MODAL_CONTAINER","MODAL_HEADER","MODAL_BODY","MODAL_CLOSE","MODAL_ADD","SNIPPET","SNIPPET_INNER","SNIPPET_TITLE","SNIPPET_ADD","SNIPPET_PREVIEW","SNIPPET_CONTAINER","SNIPPET_COMPONENT","SNIPPETS","SNIPPETS_FILTER","SNIPPETS_FILTER_COMPONENT","SNIPPETS_FILTER_CONTAINER","SNIPPETS_FILTER_LABEL","SNIPPETS_SEARCH","SNIPPETS_FILTER_WRAPPER","SNIPPETS_COMPONENT","SNIPPETS_WRAPPER","TOOLBAR","TOOLBAR_CONTAINER","TOOLBAR_SUB_CONTAINER","TOOLBAR_COMPONENT","SETTING","SETTING_FORM","SETTING_EXTRA","SETTING_CONTAINER","CONTENT_AREA_INNER","CONTENT_AREA_TOOLBAR","CONTENT_AREAS","CONTENT_AREAS_WRAPPER","IFRAME","IFRAME_WRAPPER","IFRAME_COVER_HIDDEN","COMPONENT_REPOSITION","COMPONENT_SETTING","COMPONENT_DUPLICATE","COMPONENT_DELETE","CONTAINER","CONTAINER_TOOLBAR","CONTAINER_REPOSITION","CONTAINER_DUPLICATE","CONTAINER_DELETE","CONTAINER_SETTING","CONTAINER_INNER","CONTAINER_CONTENT","CONTAINER_CONTENT_INNER","SUB_CONTAINER","SUB_CONTAINER_CONTENT","SUB_CONTAINER_TOOLBAR","PREVIEW_AREA","title","nestedContainerEnabled","explicitSnippetEnabled","containerForQuickAddComponent","extraSettings","btnAddContentText","btnAddContainerText","btnAddSubContainerText","btnAddComponentText","btnMoveContainerText","btnMoveComponentText","btnSettingContainerText","btnSettingComponentText","btnDuplicateContainerText","btnDuplicateComponentText","btnDeleteContainerText","btnDeleteComponentText","confirmDeleteContainerText","confirmDeleteComponentText","widthMobile","widthTablet","snippetsUrl","snippetsCategoriesSeparator","contentStyles","contentAreasSelector","contentAreasWrapper","containerSettingEnabled","containerSettingInitFunction","containerSettingShowFunction","containerSettingHideFunction","onReady","onSave","onSnippetsLoaded","resp","onSnippetsError","onInitIframe","iframeHead","iframeBody","onContentChanged","event","onBeforeInitContentArea","onInitContentArea","onBeforeInitContainer","onInitContainer","onBeforeContainerDeleted","selectedContainer","onContainerDeleted","onContainerChanged","changedContainer","onContainerDuplicated","originalContainer","newContainer","onContainerSelected","onContainerSnippetAdded","selectedSnippet","onComponentReady","onBeforeComponentDeleted","selectedComponent","onComponentDeleted","onComponentChanged","changedComponent","onComponentDuplicated","originalComponent","newComponent","onComponentSelected","onComponentSnippetAdded","initContainer","getContainerContent","isNested","containerInner","not","containerContent","removeAttr","containerContentInner","child","getComponentContent","containerContents","parents","initContainerContent","containerContentToolbar","appendTo","on","e","preventDefault","openModal","sortable","handle","helper","items","connectWith","tolerance","receive","ui","item","start","stop","convertToContainer","convertToComponent","dontInitToolbar","contentAreaInner","contentAreaToolbar","axis","closeSidebar","contentData","element","wrapper","after","iframeDoc","contents","get","open","close","iframeWindow","contentWindow","contentDocument","defaultView","styles","style","idStr","href","isArray","i","id","val","initContentAreas","initIframeActions","contentAreas","originalContent","empty","initContentArea","instances","inArray","result","push","btn","confirm","settingComponent","deleteComponent","openSidebar","settingComponentParent","settingContainer","initSelectAction","initBtnComponentDelete","initBtnComponentDuplicate","initBtnComponentSetting","initBtnContainerDelete","initBtnContainerDuplicate","initBtnContainerSetting","sidebar","getClickedElement","modal","fn","Error","window","KEDITOR_DEBUG","config","apply","ignoreAttributes","initIframeCover","setContent","previewUrl","categories","addSnippet","console","log","args","message","DEFAULTS","blank","keditor","instance","Array","prototype","slice","arguments","constructor","extend","initContentAreaWrapper","initTopbar","initSidebar","initSnippetsModal","initExtraSettings","modalTarget","modalId","renderSnippets","initSnippetsFilter","click","mouseover","mouseout","closeModal","snippetType","snippetContentElement","snippetContent","isModalComponent","isModalContainer","isAddingContainer","isAddingComponent","isAddingComponentWithContainer","eq","snippet","cssTransitionEnd","css","document","body","showComponent","showContainer","setTimeout","jquery","activeForm","activeType","hideSettingForm","sidebarBody","isPlainObject","key","extraSetting","form","trigger","sidebarId","sidebarTitle","settingTitle","settingFormClass","settingForm","initSettingForm","loadingText","initFunction","when","done","showSettingForm","extraKey","extraTabData","settingShowFunction","extraData","renderSnippet","snippetPreviewHtml","snippetContentHtml","categoryContainer","beautifyCategories","categoryComponent","renderSnippetFilter","categoriesOptions","snippetsWrapper","prepend","txtSearch","cbbFilter","doFilter","selectedCategory","toLowerCase","searchText","snippets","filter","dataCategoriesString","dataCategories","split","indexOf","timer","clearTimeout","snippetId","concat","category","isDuplicateWithComponent","snippetsContentHtml","snippetsHtml","trim","topbarCenter","btnMobile","btnTablet","btnDesktop","btnFullscreen","fullscreen","isFullScreen","exit","topbarRight","btnPreview","previewArea","isPreviewOn","btnSave","topbarId","topbar","topbarLeft","initDeviceSwitcher","initTopbarRightActions","initPreviewAction","initFullscreenAction","initSaveAction","newArray","sort","timestamp","Date","getTime","random","Math","round","isComponentConfigurable","settingBtn","toolbarClass","selector","attributes","name","value","cover"],"mappings":"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","file":"js/keditor.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jQuery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jQuery\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"jQuery\")) : factory(root[\"jQuery\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_jquery__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/keditor/index.js\");\n","/*\n * jquery.fullscreen v0.6.0\n * https://github.com/private-face/jquery.fullscreen\n *\n * Copyright (c) 20122016 Vladimir Zhuravlev\n * Released under the MIT license\n * https://github.com/private-face/jquery.fullscreen/blob/master/LICENSE\n *\n * Date: 2016-08-25\n **/\n(function(global, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD\n\t\tdefine(['jquery'], function (jQuery) {\n\t\t\treturn factory(jQuery);\n\t\t});\n\t} else if (typeof exports === 'object') {\n\t\t// CommonJS/Browserify\n\t\tfactory(require('jquery'));\n\t} else {\n\t\t// Global\n\t\tfactory(global.jQuery);\n\t}\n}(this, function($) {\n\nfunction defined(a){return\"undefined\"!=typeof a}function extend(a,b,c){var d=function(){};d.prototype=b.prototype,a.prototype=new d,a.prototype.constructor=a,b.prototype.constructor=b,a._super=b.prototype,c&&$.extend(a.prototype,c)}function native(a,b){var c;\"string\"==typeof a&&(b=a,a=document);for(var d=0;d<SUBST.length;++d){b=b.replace(SUBST[d][0],SUBST[d][1]);for(var e=0;e<VENDOR_PREFIXES.length;++e)if(c=VENDOR_PREFIXES[e],c+=0===e?b:b.charAt(0).toUpperCase()+b.substr(1),defined(a[c]))return a[c]}}var SUBST=[[\"\",\"\"],[\"exit\",\"cancel\"],[\"screen\",\"Screen\"]],VENDOR_PREFIXES=[\"\",\"o\",\"ms\",\"moz\",\"webkit\",\"webkitCurrent\"],ua=navigator.userAgent,fsEnabled=native(\"fullscreenEnabled\"),parsedChromeUA=ua.match(/Android.*Chrome\\/(\\d+)\\./),IS_ANDROID_CHROME=!!parsedChromeUA,CHROME_VERSION,ANDROID_CHROME_VERSION;IS_ANDROID_CHROME&&(ANDROID_CHROME_VERSION=parseInt(parsedChromeUA[1]));var IS_NATIVELY_SUPPORTED=(!IS_ANDROID_CHROME||ANDROID_CHROME_VERSION>37)&&defined(native(\"fullscreenElement\"))&&(!defined(fsEnabled)||fsEnabled===!0),version=$.fn.jquery.split(\".\"),JQ_LT_17=parseInt(version[0])<2&&parseInt(version[1])<7,FullScreenAbstract=function(){this.__options=null,this._fullScreenElement=null,this.__savedStyles={}};FullScreenAbstract.prototype={native:native,_DEFAULT_OPTIONS:{styles:{boxSizing:\"border-box\",MozBoxSizing:\"border-box\",WebkitBoxSizing:\"border-box\"},toggleClass:null},__documentOverflow:\"\",__htmlOverflow:\"\",_preventDocumentScroll:function(){this.__documentOverflow=document.body.style.overflow,this.__htmlOverflow=document.documentElement.style.overflow,$(this._fullScreenElement).is(\"body, html\")||$(\"body, html\").css(\"overflow\",\"hidden\")},_allowDocumentScroll:function(){document.body.style.overflow=this.__documentOverflow,document.documentElement.style.overflow=this.__htmlOverflow},_fullScreenChange:function(){this.__options&&(this.isFullScreen()?(this._preventDocumentScroll(),this._triggerEvents()):(this._allowDocumentScroll(),this._revertStyles(),this._triggerEvents(),this._fullScreenElement=null))},_fullScreenError:function(a){this.__options&&(this._revertStyles(),this._fullScreenElement=null,a&&$(document).trigger(\"fscreenerror\",[a]))},_triggerEvents:function(){$(this._fullScreenElement).trigger(this.isFullScreen()?\"fscreenopen\":\"fscreenclose\"),$(document).trigger(\"fscreenchange\",[this.isFullScreen(),this._fullScreenElement])},_saveAndApplyStyles:function(){var a=$(this._fullScreenElement);this.__savedStyles={};for(var b in this.__options.styles)this.__savedStyles[b]=this._fullScreenElement.style[b],this._fullScreenElement.style[b]=this.__options.styles[b];a.is(\"body\")&&(document.documentElement.style.overflow=this.__options.styles.overflow),this.__options.toggleClass&&a.addClass(this.__options.toggleClass)},_revertStyles:function(){var a=$(this._fullScreenElement);for(var b in this.__options.styles)this._fullScreenElement.style[b]=this.__savedStyles[b];a.is(\"body\")&&(document.documentElement.style.overflow=this.__savedStyles.overflow),this.__options.toggleClass&&a.removeClass(this.__options.toggleClass)},open:function(a,b){a!==this._fullScreenElement&&(this.isFullScreen()&&this.exit(),this._fullScreenElement=a,this.__options=$.extend(!0,{},this._DEFAULT_OPTIONS,b),this._saveAndApplyStyles())},exit:null,isFullScreen:null,isNativelySupported:function(){return IS_NATIVELY_SUPPORTED}};var FullScreenNative=function(){FullScreenNative._super.constructor.apply(this,arguments),this.exit=$.proxy(native(\"exitFullscreen\"),document),this._DEFAULT_OPTIONS=$.extend(!0,{},this._DEFAULT_OPTIONS,{styles:{width:\"100%\",height:\"100%\"}}),$(document).bind(this._prefixedString(\"fullscreenchange\")+\" MSFullscreenChange\",$.proxy(this._fullScreenChange,this)).bind(this._prefixedString(\"fullscreenerror\")+\" MSFullscreenError\",$.proxy(this._fullScreenError,this))};extend(FullScreenNative,FullScreenAbstract,{VENDOR_PREFIXES:[\"\",\"o\",\"moz\",\"webkit\"],_prefixedString:function(a){return $.map(this.VENDOR_PREFIXES,function(b){return b+a}).join(\" \")},open:function(a,b){FullScreenNative._super.open.apply(this,arguments);var c=native(a,\"requestFullscreen\");c.call(a)},exit:$.noop,isFullScreen:function(){return null!==native(\"fullscreenElement\")},element:function(){return native(\"fullscreenElement\")}});var FullScreenFallback=function(){FullScreenFallback._super.constructor.apply(this,arguments),this._DEFAULT_OPTIONS=$.extend({},this._DEFAULT_OPTIONS,{styles:{position:\"fixed\",zIndex:\"2147483647\",left:0,top:0,bottom:0,right:0}}),this.__delegateKeydownHandler()};extend(FullScreenFallback,FullScreenAbstract,{__isFullScreen:!1,__delegateKeydownHandler:function(){var a=$(document);a.delegate(\"*\",\"keydown.fullscreen\",$.proxy(this.__keydownHandler,this));var b=JQ_LT_17?a.data(\"events\"):$._data(document).events,c=b.keydown;JQ_LT_17?b.live.unshift(b.live.pop()):c.splice(0,0,c.splice(c.delegateCount-1,1)[0])},__keydownHandler:function(a){return!this.isFullScreen()||27!==a.which||(this.exit(),!1)},_revertStyles:function(){FullScreenFallback._super._revertStyles.apply(this,arguments),this._fullScreenElement.offsetHeight},open:function(a){FullScreenFallback._super.open.apply(this,arguments),this.__isFullScreen=!0,this._fullScreenChange()},exit:function(){this.__isFullScreen&&(this.__isFullScreen=!1,this._fullScreenChange())},isFullScreen:function(){return this.__isFullScreen},element:function(){return this.__isFullScreen?this._fullScreenElement:null}}),$.fullscreen=IS_NATIVELY_SUPPORTED?new FullScreenNative:new FullScreenFallback,$.fn.fullscreen=function(a){var b=this[0];return a=$.extend({toggleClass:null,overflow:\"hidden\"},a),a.styles={overflow:a.overflow},delete a.overflow,b&&$.fullscreen.open(b,a),this};\n//# sourceMappingURL=jquery.fullscreen.min.js.mapreturn $.fullscreen;\n}));","import CLASS_NAMES from '../constants/classNames';\r\nimport initComponent from './initComponent';\rexport default function (contentArea, container, target, isExisting) {\rif (target.is(`.${CLASS_NAMES.CONTAINER_CONTENT_TOOLBAR}`)) {\rreturn;\r}\rlet self = this;\rlet isSection = target.is('section');\rlet component;\rif (isSection) {\rtarget.addClass(`${CLASS_NAMES.UI} ${CLASS_NAMES.COMPONENT}`);\rtarget.wrapInner(`<section class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.COMPONENT_CONTENT}\"></section>`);\rcomponent = target;\r} else {\rtarget.wrap(`\r<section class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.COMPONENT}\">\r<section class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.COMPONENT_CONTENT}\"></section>\r</section>\r`);\rcomponent = target.parent().parent();\r}\rif (isExisting) {\rcomponent.addClass(`${CLASS_NAMES.COMPONENT_EXISTING}`);\r}\rinitComponent.call(self, contentArea, container, component);\r\n};\r\n","import getComponentType from './getComponentType';\rexport default function (component) {\rlet self = this;\rlet componentType = getComponentType.call(self, component);\rlet componentData = KEditor.components[componentType];\rif (typeof componentData.destroy === 'function') {\rcomponentData.destroy.call(componentData, component, self);\r}\rcomponent.remove();\r\n};\r\n","import CLASS_NAMES from '../constants/classNames';\r\nimport getComponentType from './getComponentType';\r\nimport getDataAttributes from '../utils/getDataAttributes';\rexport default function (component) {\rlet self = this;\rlet clonedComponent = component.clone();\rlet componentType = getComponentType.call(self, clonedComponent);\rlet componentData = KEditor.components[componentType];\rlet dataAttributes = getDataAttributes(clonedComponent, null, true);\rlet content;\r// Handle iframe-wrapper\rlet iframeWrapper = clonedComponent.find(`.${CLASS_NAMES.IFRAME_COVER_WRAPPER}`);\rif (iframeWrapper.length > 0) {\riframeWrapper.find(`.${CLASS_NAMES.IFRAME_COVER}`).remove();\rlet iframe = iframeWrapper.children('iframe');\rif (iframeWrapper.hasClass(CLASS_NAMES.IFRAME_COVER_WRAPPER_FAKE)) {\riframe.unwrap();\r} else {\riframeWrapper.removeClass(CLASS_NAMES.IFRAME_COVER_WRAPPER);\r}\r}\rif (typeof componentData.getContent === 'function') {\rcontent = componentData.getContent.call(componentData, clonedComponent, self);\r} else {\rlet componentContent = clonedComponent.children(`.${CLASS_NAMES.COMPONENT_CONTENT}`);\rcontent = componentContent.html();\r}\rclonedComponent.html(content).find('[data-dynamic-href]').each(function () {\r$(this).html('');\r});\rreturn `<section ${dataAttributes.join(' ')}>${clonedComponent.html()}</section>`;\r\n};\r\n","export default function (component) {\rlet self = this;\rlet options = self.options;\rlet componentType = (component.attr('data-type') || '').replace('component-', '');\rif (componentType && (componentType in KEditor.components)) {\rreturn componentType;\r} else {\rif (typeof options.defaultComponentType === 'string') {\rcomponentType = options.defaultComponentType;\r} else if (typeof options.defaultComponentType === 'function') {\rcomponentType = options.defaultComponentType.call(self, component);\r}\rif (!componentType) {\rself.error('Component type is undefined!');\r}\rreturn componentType;\r}\r\n};\r\n","import TOOLBAR_TYPE from '../constants/toolbarType';\r\nimport CLASS_NAMES from '../constants/classNames';\r\nimport generateId from '../utils/generateId';\r\nimport getComponentType from './getComponentType';\r\nimport generateToolbar from '../utils/generateToolbar';\r\nimport initDynamicContent from './initDynamicContent';\rexport default function (contentArea, container, component) {\rlet self = this;\rlet options = self.options;\rif (!component.hasClass(CLASS_NAMES.STATE_INITIALIZED) || !component.hasClass(CLASS_NAMES.STATE_INITIALIZING)) {\rcomponent.addClass(CLASS_NAMES.STATE_INITIALIZING);\rcomponent.attr('id', generateId());\rif (typeof options.onBeforeInitComponent === 'function') {\roptions.onBeforeInitComponent.call(self, component, contentArea);\r}\rlet componentContent = component.children(`.${CLASS_NAMES.COMPONENT_CONTENT}`);\rcomponentContent.attr('id', generateId());\rlet componentType = getComponentType.call(self, component);\rlet componentData = KEditor.components[componentType];\rcomponent.append(generateToolbar.call(self, TOOLBAR_TYPE.COMPONENT, componentData.settingEnabled));\rcomponent.find('[data-dynamic-href]').each(function () {\rlet dynamicElement = $(this);\rinitDynamicContent.call(self, dynamicElement);\r});\rif (typeof componentData.init === 'function') {\rcomponentData.init.call(componentData, contentArea, container, component, self);\r}\rif (typeof options.onInitComponent === 'function') {\roptions.onInitComponent.call(self, component, contentArea);\r}\rcomponent.addClass(CLASS_NAMES.STATE_INITIALIZED);\rcomponent.removeClass(CLASS_NAMES.STATE_INITIALIZING);\r}\r\n};\r\n","import CLASS_NAMES from '../constants/classNames';\r\nimport getDataAttributes from '../utils/getDataAttributes';\r\nimport generateId from '../utils/generateId';\rexport default function (dynamicElement) {\rlet self = this;\rlet options = self.options;\rlet component = dynamicElement.closest('[data-type^=component]');\rlet contentArea = dynamicElement.closest(`.${CLASS_NAMES.CONTENT_AREA}`);\rdynamicElement.attr('id', generateId());\rif (typeof options.onBeforeDynamicContentLoad === 'function') {\roptions.onBeforeDynamicContentLoad.call(self, dynamicElement, component, contentArea);\r}\rlet dynamicHref = dynamicElement.attr('data-dynamic-href');\rlet data = getDataAttributes(component, ['data-type', 'data-dynamic-href'], false);\rdata = $.param(data);\rreturn $.ajax({\rurl: dynamicHref,\rdata: data,\rtype: 'GET',\rdataType: 'HTML',\rsuccess: function (response, status, jqXHR) {\rdynamicElement.html(response);\rif (typeof options.onDynamicContentLoaded === 'function') {\roptions.onDynamicContentLoaded.call(self, dynamicElement, jqXHR, contentArea);\r}\r},\rerror: function (jqXHR, textStatus, errorThrown ) {\rif (typeof options.onDynamicContentError === 'function') {\roptions.onDynamicContentError.call(self, dynamicElement, jqXHR, contentArea);\r}\r}\r});\r\n};\r\n","const CLASS_NAMES = {\rUI: 'keditor-ui',\rUI_DRAGGING: 'keditor-ui-dragging',\rUI_HIDDEN: 'keditor-ui-hidden',\rSORTABLE: 'ui-sortable',\rWRAPPER: 'keditor-wrapper',\rBTN: 'keditor-btn',\rBTN_GROUP: 'keditor-btn-group',\rBTN_PRIMARY: 'keditor-btn-primary',\rBTN_DEFAULT: 'keditor-btn-default',\rSTATE_ACTIVE: 'active',\rSTATE_OPENED: 'opened',\rSTATE_SHOWED: 'showed',\rSTATE_SELECTED: 'selected',\rSTATE_DUPLICATED: 'duplicated',\rSTATE_INITIALIZED: 'initialized',\rSTATE_INITIALIZING: 'initializing',\rSTATE_PREVIEWING: 'previewing',\rSTATE_TOOLBAR_SHOWED: 'showed-keditor-toolbar',\rSTATE_SETTING_OPENED: 'opened-keditor-setting',\rSTATE_SIDEBAR_OPENED: 'opened-keditor-sidebar',\rSTATE_MODAL_OPENED: 'opened-modal',\rSTATE_NOT_MATCHED: 'not-matched',\rADD_CONTENT: 'btn-add-content',\rADD_COMPONENT: 'btn-add-component',\rADD_CONTAINER: 'btn-add-container',\rSIDEBAR: 'keditor-sidebar',\rSIDEBAR_HEADER: 'keditor-sidebar-header',\rSIDEBAR_BODY: 'keditor-sidebar-body',\rSIDEBAR_TITLE: 'keditor-sidebar-title',\rSIDEBAR_CLOSER: 'keditor-sidebar-closer',\rTOPBAR: 'keditor-topbar',\rTOPBAR_LEFT: 'keditor-topbar-left',\rTOPBAR_CENTER: 'keditor-topbar-center',\rTOPBAR_RIGHT: 'keditor-topbar-right',\rTOPBAR_BUTTON: 'keditor-topbar-btn',\rTOPBAR_TITLE: 'keditor-topbar-title',\rMODAL: 'keditor-modal',\rMODAL_COMPONENT: 'keditor-modal-component',\rMODAL_CONTAINER: 'keditor-modal-container',\rMODAL_HEADER: 'keditor-modal-header',\rMODAL_BODY: 'keditor-modal-body',\rMODAL_CLOSE: 'keditor-modal-close',\rMODAL_ADD: 'keditor-modal-add',\rSNIPPET: 'keditor-snippet',\rSNIPPET_INNER: 'keditor-snippet-inner',\rSNIPPET_TITLE: 'keditor-snippet-title',\rSNIPPET_ADD: 'keditor-snippet-add',\rSNIPPET_PREVIEW: 'keditor-snippet-preview',\rSNIPPET_CONTAINER: 'keditor-snippet-container',\rSNIPPET_COMPONENT: 'keditor-snippet-component',\rSNIPPETS: 'keditor-snippets',\rSNIPPETS_FILTER: 'keditor-snippets-filter',\rSNIPPETS_FILTER_COMPONENT: 'keditor-snippets-filter-component',\rSNIPPETS_FILTER_CONTAINER: 'keditor-snippets-filter-container',\rSNIPPETS_FILTER_LABEL: 'keditor-snippets-filter-label',\rSNIPPETS_SEARCH: 'keditor-snippets-search',\rSNIPPETS_FILTER_WRAPPER: 'keditor-snippets-filter-wrapper',\rSNIPPETS_COMPONENT: 'keditor-snippets-component',\rSNIPPETS_WRAPPER: 'keditor-snippets-wrapper',\rTOOLBAR: 'keditor-toolbar',\rTOOLBAR_CONTAINER: 'keditor-toolbar-container',\rTOOLBAR_SUB_CONTAINER: ' keditor-toolbar-sub-container',\rTOOLBAR_COMPONENT: 'keditor-toolbar-component',\rSETTING: 'keditor-setting',\rSETTING_FORM: 'keditor-setting-form',\rSETTING_EXTRA: 'keditor-setting-extra',\rSETTING_CONTAINER: 'keditor-setting-container',\rCONTENT_AREA: 'keditor-content-area',\rCONTENT_AREA_INNER: 'keditor-content-area-inner',\rCONTENT_AREA_TOOLBAR: 'keditor-content-area-toolbar',\rCONTENT_AREAS: 'keditor-content-areas',\rCONTENT_AREAS_WRAPPER: 'keditor-content-areas-wrapper',\rIFRAME: 'keditor-iframe',\rIFRAME_WRAPPER: 'keditor-iframe-wrapper',\rIFRAME_COVER_WRAPPER: 'keditor-iframe-cover-wrapper',\rIFRAME_COVER_WRAPPER_FAKE: 'keditor-iframe-cover-wrapper-fake',\rIFRAME_COVER: 'keditor-iframe-cover',\rIFRAME_COVER_HIDDEN: 'hidden-cover',\rCOMPONENT: 'keditor-component',\rCOMPONENT_REPOSITION: 'btn-component-reposition',\rCOMPONENT_SETTING: 'btn-component-setting',\rCOMPONENT_DUPLICATE: 'btn-component-duplicate',\rCOMPONENT_DELETE: 'btn-component-delete',\rCOMPONENT_CONTENT: 'keditor-component-content',\rCOMPONENT_EXISTING: 'existing-component',\rCONTAINER: 'keditor-container',\rCONTAINER_TOOLBAR: 'keditor-toolbar-container',\rCONTAINER_REPOSITION: 'btn-container-reposition',\rCONTAINER_DUPLICATE: 'btn-container-duplicate',\rCONTAINER_DELETE: 'btn-container-delete',\rCONTAINER_SETTING: 'btn-container-setting',\rCONTAINER_INNER: 'keditor-container-inner',\rCONTAINER_CONTENT: 'keditor-container-content',\rCONTAINER_CONTENT_INNER: 'keditor-container-content-inner',\rCONTAINER_CONTENT_TOOLBAR: 'keditor-container-content-toolbar',\rSUB_CONTAINER: 'keditor-sub-container',\rSUB_CONTAINER_CONTENT: 'keditor-sub-container-content',\rSUB_CONTAINER_TOOLBAR: 'keditor-toolbar-sub-container',\rPREVIEW_AREA: 'keditor-preview-area',\r\n};\rexport default CLASS_NAMES;\r\n","import CLASS_NAMES from './classNames';\rexport default {\r/*\r* Title will be showed in left of topbar\r* @option {String}\r*/\rtitle: 'Editing with KEditor',\r/*\r* Enable nested container or not\r* @option {Boolean}\r*/\rnestedContainerEnabled: true,\r/*\r* Enable explicit snippet or not. When disable, there is only one button for adding. If add button is in content area or container, you can add component or containers. If add button is in sub-container, you just can add only component. When you add component in content area, please make sure you config \"containerForQuickAddComponent\" option\r* @option {Boolean}\r*/\rexplicitSnippetEnabled: false,\r/*\r* containerForQuickAddComponent The container snippet which will be added automatically in content are when you adding a component. Note: component will be added in first container content of container\r* @option {String}\r*/\rcontainerForQuickAddComponent: `\r<div class=\"row\">\r<div class=\"col-sm-12\" data-type=\"container-content\">\r</div>\r</div>\r`,\r/*\r* Extra settings in sidebar\r* @option {Object<String, Object>}\r* @format:\r* {\r*     settingName: {\r*         title,\r*         content,\r*         trigger\r*         settingShowFunction\r*     }\r* }\r* @settingName.option {String} title\r* @settingName.option {String} content\r* @settingName.option {jQuery|Function} trigger If pass as function, argument will be current extra setting. This function must return a jQuery object\r* @settingName.option {Function} settingShowFunction Same arguments with \"containerSettingShowFunction\"\r* @example:\r* {\r*     settingName1: {\r*         title: 'Page Settings',\r*         content: '<div>This is content of page settings</div>',\r*         trigger: $('.btn-page-setting'),\r*         settingShowFunction: function (form, container, keditor) {\r*             // Do something\r*         }\r*     },\r*     settingName2: {\r*         title: 'Page Settings 2',\r*         content: '<div>This is content of page settings 2</div>',\r*         triggerSelector: '.btn-page-settings',\r*         trigger: function (extraSetting) {\r*             return $(extraSetting.triggerSelector);\r*         },\r*         settingShowFunction: function (form, container, keditor) {\r*             // Do something\r*         }\r*     }\r* }\r*/\rextraSettings: null,\r/*\r* Text content for add content button. This available only when \"explicitSippetEnabled\" is \"false\"\r* @option {String}\r*/\rbtnAddContentText: '<i class=\"fa fa-plus\"></i>',\r/*\r* Text content for add container button\r* @option {String}\r*/\rbtnAddContainerText: '<i class=\"fa fa-plus\"></i> <i class=\"fa fa-fw fa-columns\"></i>',\r/*\r* Text content for add sub-container button\r* @option {String}\r*/\rbtnAddSubContainerText: '<i class=\"fa fa-plus\"></i> <i class=\"fa fa-fw fa-columns\"></i>',\r/*\r* Text content for add component button\r* @option {String}\r*/\rbtnAddComponentText: '<i class=\"fa fa-plus\"></i> <i class=\"fa fa-fw fa-list-ul\"></i>',\r/*\r* Text content for move button of container\r* @option {String}\r*/\rbtnMoveContainerText: '<i class=\"fa fa-sort\"></i>',\r/*\r* Text content for move button of component\r* @option {String}\r*/\rbtnMoveComponentText: '<i class=\"fa fa-arrows\"></i>',\r/*\r* Text content for setting button of container\r* @option {String}\r*/\rbtnSettingContainerText: '<i class=\"fa fa-cog\"></i>',\r/*\r* Text content for setting button of component\r* @option {String}\r*/\rbtnSettingComponentText: '<i class=\"fa fa-cog\"></i>',\r/*\r* Text content for duplicate button of container\r* @option {String}\r*/\rbtnDuplicateContainerText: '<i class=\"fa fa-files-o\"></i>',\r/*\r* Text content for duplicate button of component\r* @option {String}\r*/\rbtnDuplicateComponentText: '<i class=\"fa fa-files-o\"></i>',\r/*\r* Text content for delete button of container\r* @option {String}\r*/\rbtnDeleteContainerText: '<i class=\"fa fa-times\"></i>',\r/*\r* Text content for delete button of component\r* @option {String}\r*/\rbtnDeleteComponentText: '<i class=\"fa fa-times\"></i>',\r/*\r* Text content for confirm dialog when deleting container\r* @option {String}\r*/\rconfirmDeleteContainerText: 'Are you sure that you want to delete this container? This action can not be undone!',\r/*\r* Text content for confirm dialog when deleting container\r* @option {String}\r*/\rconfirmDeleteComponentText: 'Are you sure that you want to delete this component? This action can not be undone!',\r/*\r* Width of mobile device\r* @option {Number}\r*/\rwidthMobile: 320,\r/*\r* Width of tablet device\r* @option {Number}\r*/\rwidthTablet: 768,\r/*\r* Default component type of component. If type of component does not exist in KEditor.components, will be used \"defaultComponentType\" as type of this component. If is function, argument is component\r* @option {String|Function}\r* @param {jQuery} component\r*/\rdefaultComponentType: 'blank',\r/*\r* Url to snippets file\r* @option {String}\r*/\rsnippetsUrl: 'snippets/snippets.html',\r/*\r* The separator character between each categories\r* @option {String}\r*/\rsnippetsCategoriesSeparator: ';',\r/*\r* Content styles for iframe mode. Beside of this option, KEditor will add all elements which have 'data-type=keditor-style' for iframe stylesheet. These elements can be 'link', 'style' or any tags. If these elements have 'href' attribute, will create link tag with href. If these elements do not have 'href' attribute, will create style tag with css rule is html code inside element\r* @option {Array<Object>}\r* @example:\r* [\r*     {\r*         href: '/path/to/style/file'\r*     }, {\r*         content: 'a { color: red; }'\r*     }\r* ]\r*/\rcontentStyles: [],\r/*\r* Selector of content areas. If is null or selector does not match any elements, will create default content area and wrap all content inside it.\r* @option {String}\r*/\rcontentAreasSelector: null,\r/*\r* The wrapper element for all contents inside iframe or new div which will contains content of textarea. It's just for displaying purpose. If you want all contents inside iframe are appended into body tag, just leave it as blank\r* @option {String}\r*/\rcontentAreasWrapper: `<div class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.CONTENT_AREAS_WRAPPER}\"></div>`,\r/*\r* Enable setting panel for container\r* @option {Boolean}\r*/\rcontainerSettingEnabled: false,\r/*\r* Method will be called when initializing setting panel for container\r* @option {Function}\r* @param {jQuery} container\r* @param {KEditor} keditorInstance\r*/\rcontainerSettingInitFunction: null,\r/*\r* Method will be called when setting panel for container is showed\r* @option {Function}\r* @param {jQuery} settingForm\r* @param {jQuery} container\r* @param {KEditor} keditorInstance\r*/\rcontainerSettingShowFunction: null,\r/*\r* Method will be called when setting panel for container is hidden\r* @option {Function}\r* @param {jQuery} settingForm\r* @param {KEditor} keditorInstance\r*/\rcontainerSettingHideFunction: null,\r/*\r* Callback will be called after keditor instance is ready\r* @option {Function}\r*/\ronReady: function () {\r},\r/*\r* Callback will be called after clicking on \"Save\" button in topbar\r* @option {Function}\r* @param {String} content\r*/\ronSave: function (content) {\r},\r/*\r* Callback will be called after snippets are loaded. If you want to modify snippets content, please return modified\r* @option {Function}\r* @param {String} resp\r* @return {String}\r*/\ronSnippetsLoaded: function (resp) {\r},\r/*\r* Callback will be called when error in loading snippets\r* @option {Function}\r* @param {jqXHR} jqXHR\r*/\ronSnippetsError: function (jqXHR) {\r},\r/*\r* Callback will be called after iframe and content areas wrapper inside it are created\r* @option {Function}\r* @param {jQuery} iframe\r* @param {jQuery} iframeHead\r* @param {jQuery} iframeBody\r*/\ronInitIframe: function (iframe, iframeHead, iframeBody) {\r},\r/*\r* Callback will be called when content is changed. Includes add, delete, duplicate container or component. Or content of a component is changed\r* @option {Function}\r* @param {Event} event\r* @param {jQuery} contentArea\r*/\ronContentChanged: function (event, contentArea) {\r},\r/*\r* Callback will be called before initializing container\r* @option {Function}\r* @param {jQuery} contentArea\r*/\ronBeforeInitContentArea: function (contentArea) {\r},\r/*\r* Callback will be called when initializing content area. It can return array of jQuery objects which will be initialized as container in content area. By default, all first level sections under content area will be initialized\r* @option {Function}\r* @param {jQuery} contentArea\r*/\ronInitContentArea: function (contentArea) {\r},\r/*\r* Callback will be called before initializing container\r* @option {Function}\r* @param {jQuery} container\r* @param {jQuery} contentArea\r*/\ronBeforeInitContainer: function (container, contentArea) {\r},\r/*\r* Callback will be called when initializing container. It can return array of jQuery objects which will be initialized as editable components in container content (NOTE: these objects MUST be under elements which have attribute data-type=`container-content\"). By default, all first level sections under container content will be initialized\r* @option {Function}\r* @param {jQuery} container\r* @param {jQuery} contentArea\r*/\ronInitContainer: function (container, contentArea) {\r},\r/*\r* Callback will be called before container is deleted\r* @option {Function}\r* @param {Event} event\r* @param {jQuery} selectedContainer\r* @param {jQuery} contentArea\r*/\ronBeforeContainerDeleted: function (event, selectedContainer, contentArea) {\r},\r/*\r* Callback will be called after container and its components are already deleted\r* @option {Function}\r* @param {Event} event\r* @param {jQuery} selectedContainer\r* @param {jQuery} contentArea\r*/\ronContainerDeleted: function (event, selectedContainer, contentArea) {\r},\r/*\r* Callback will be called when content of container is changed. It can be when container received new component from snippet or from other container. Or content of any components are changed or any components are deleted or duplicated\r* @option {Function}\r* @param {Event} event\r* @param {jQuery} changedContainer\r* @param {jQuery} contentArea\r*/\ronContainerChanged: function (event, changedContainer, contentArea) {\r},\r/*\r* Callback will be called when a container is duplicated\r* @option {Function}\r* @param {Event} event\r* @param {jQuery} originalContainer\r* @param {jQuery} newContainer\r* @param {jQuery} contentArea\r*/\ronContainerDuplicated: function (event, originalContainer, newContainer, contentArea) {\r},\r/*\r* Callback will be called when a container is selected\r* @option {Function}\r* @param {Event} event\r* @param {jQuery} selectedContainer\r* @param {jQuery} contentArea\r*/\ronContainerSelected: function (event, selectedContainer, contentArea) {\r},\r/*\r* Callback will be called when a container snippet is added in a content area\r* @option {Function}\r* @param {Event} event\r* @param {jQuery} newContainer\r* @param {jQuery} selectedSnippet\r* @param {jQuery} contentArea\r*/\ronContainerSnippetAdded: function (event, newContainer, selectedSnippet, contentArea) {\r},\r/*\r* Callback will be called after component is initialized. This callback is available or not is depend on component type handler.\r* @option {Function}\r* @param {jQuery} component\r*/\ronComponentReady: function (component) {\r},\r/*\r* Callback will be called before initializing component\r* @option {Function}\r* @param {jQuery} component\r* @param {jQuery} contentArea\r*/\ronBeforeInitComponent: function (component, contentArea) {\r},\r/*\r* Callback will be called when initializing component\r* @option {Function}\r* @param {jQuery} component\r* @param {jQuery} contentArea\r*/\ronInitComponent: function (component, contentArea) {\r},\r/*\r* Callback will be called before a component is deleted\r* @option {Function}\r* @param {Event} event\r* @param {jQuery} selectedComponent\r* @param {jQuery} contentArea\r*/\ronBeforeComponentDeleted: function (event, selectedComponent, contentArea) {\r},\r/*\r* Callback will be called after a component is deleted\r* @option {Function}\r* @param {Event} event\r* @param {jQuery} selectedComponent\r* @param {jQuery} contentArea\r*/\ronComponentDeleted: function (event, selectedComponent, contentArea) {\r},\r/*\r* Callback will be called when content of a component is changed\r* @option {Function}\r* @param {Event} event\r* @param {jQuery} changedComponent\r* @param {jQuery} contentArea\r*/\ronComponentChanged: function (event, changedComponent, contentArea) {\r},\r/*\r* Callback will be called when a component is duplicated\r* @option {Function}\r* @param {Event} event\r* @param {jQuery} originalComponent\r* @param {jQuery} newComponent\r* @param {jQuery} contentArea\r*/\ronComponentDuplicated: function (event, originalComponent, newComponent, contentArea) {\r},\r/*\r* Callback will be called when a component is selected\r* @option {Function}\r* @param {Event} event\r* @param {jQuery} selectedComponent\r* @param {jQuery} contentArea\r*/\ronComponentSelected: function (event, selectedComponent, contentArea) {\r},\r/*\r* Callback will be called after a component snippet is added in a container\r* @option {Function}\r* @param {Event} event\r* @param {jQuery} newComponent\r* @param {jQuery} selectedSnippet\r* @param {jQuery} contentArea\r*/\ronComponentSnippetAdded: function (event, newComponent, selectedSnippet, contentArea) {\r},\r/*\r* Callback will be called before loading dynamic content\r* @option {Function}\r* @param {jQuery} dynamicElement\r* @param {jQuery} component\r* @param {jQuery} contentArea Can be null if preview is ON\r*/\ronBeforeDynamicContentLoad: function (dynamicElement, component, contentArea) {\r},\r/*\r* Callback will be called after dynamic content is loaded\r* @option {Function}\r* @param {jQuery} dynamicElement\r* @param {jqXHR} , jqXHR\r* @param {jQuery} contentArea Can be null if preview is ON\r*/\ronDynamicContentLoaded: function (dynamicElement, jqXHR, contentArea) {\r},\r/*\r* Callback will be called if loading dynamic content is error, abort or timeout\r* @option {Function}\r* @param {jQuery} dynamicElement\r* @param {jqXHR} , jqXHR\r* @param {jQuery} contentArea Can be null if preview is ON\r*/\ronDynamicContentError: function (dynamicElement, jqXHR, contentArea) {\r}\r\n};\r","export default {\rCONTENT_AREA: 0,\rCONTAINER: 1,\rSUB_CONTAINER: 2,\rCONTAINER_CONTENT: 3,\rSUB_CONTAINER_CONTENT: 4,\rCOMPONENT: 5\r\n};\r\n","import CLASS_NAMES from '../constants/classNames';\r\nimport initContainer from './initContainer';\rexport default function (contentArea, target) {\rlet self = this;\rlet container;\rif (target.is('section')) {\rtarget.addClass(`${CLASS_NAMES.UI} ${CLASS_NAMES.CONTAINER}`);\rtarget.wrapInner(`<section class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.CONTAINER_INNER}\"></section>`);\rcontainer = target;\r} else {\rtarget.wrap(`\r<section class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.CONTAINER}\">\r<section class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.CONTAINER_INNER}\"></section>\r</section>\r`);\rcontainer = target.parent().parent();\r}\rinitContainer.call(self, contentArea, container);\r\n};\r\n","import CLASS_NAMES from '../constants/classNames';\r\nimport getComponentContent from '../component/getComponentContent';\rexport default function getContainerContent (container, isNested) {\rlet self = this;\rlet containerInner = container.children(`.${CLASS_NAMES.CONTAINER_INNER}`).clone();\rcontainerInner.find('[data-type=container-content]').not(isNested ? '' : `.${CLASS_NAMES.SUB_CONTAINER_CONTENT}`).each(function () {\rlet containerContent = $(this);\rcontainerContent.removeClass(`${CLASS_NAMES.CONTAINER_CONTENT} ${CLASS_NAMES.SUB_CONTAINER_CONTENT} ${CLASS_NAMES.SORTABLE}`).removeAttr('id');\rlet containerContentInner = containerContent.children();\rlet content = '';\rcontainerContentInner.children().each(function () {\rlet child = $(this);\rif (child.is(`.${CLASS_NAMES.COMPONENT}`)) {\rcontent += getComponentContent.call(self, child);\r} else if (child.is(`.${CLASS_NAMES.SUB_CONTAINER}`)) {\rcontent += getContainerContent.call(self, child, true);\r}\r});\rcontainerContent.html(content);\r});\rreturn `<section>${containerInner.html()}</section>`;\r\n}","import TOOLBAR_TYPE from '../constants/toolbarType';\r\nimport CLASS_NAMES from '../constants/classNames';\r\nimport generateToolbar from '../utils/generateToolbar';\r\nimport generateId from '../utils/generateId';\r\nimport initContainerContent from './initContainerContent';\rexport default function (contentArea, container) {\rlet self = this;\rlet options = self.options;\rlet isNested = options.nestedContainerEnabled && container.closest('[data-type=\"container-content\"]').length > 0;\rif (!container.hasClass(CLASS_NAMES.STATE_INITIALIZED) || !container.hasClass(CLASS_NAMES.STATE_INITIALIZING)) {\rcontainer.addClass(CLASS_NAMES.STATE_INITIALIZING);\rif (typeof options.onBeforeInitContainer === 'function') {\roptions.onBeforeInitContainer.call(self, container, contentArea);\r}\rif (isNested) {\rcontainer.addClass(CLASS_NAMES.SUB_CONTAINER);\r}\rcontainer.append(generateToolbar.call(self, isNested ? TOOLBAR_TYPE.SUB_CONTAINER : TOOLBAR_TYPE.CONTAINER));\rcontainer.attr('id', generateId());\rlet containerContents = container.find('[data-type=\"container-content\"]');\rcontainerContents.each(function () {\rlet containerContent = $(this);\rif (options.nestedContainerEnabled && !isNested && containerContent.parents('[data-type=\"container-content\"]').length > 0) {\r// Do nothing because it's container content of sub container\rreturn;\r}\rinitContainerContent.call(self, contentArea, container, containerContent, isNested);\r});\rif (typeof options.onInitContainer === 'function') {\roptions.onInitContainer.call(self, container, contentArea);\r}\rcontainer.addClass(CLASS_NAMES.STATE_INITIALIZED);\rcontainer.removeClass(CLASS_NAMES.STATE_INITIALIZING);\r}\r\n};\r\n","import TOOLBAR_TYPE from '../constants/toolbarType';\r\nimport CLASS_NAMES from '../constants/classNames';\r\nimport openModal from '../modal/openModal';\r\nimport generateId from '../utils/generateId';\r\nimport generateToolbar from '../utils/generateToolbar';\r\nimport convertToContainer from './convertToContainer';\r\nimport convertToComponent from '../component/convertToComponent';\rexport default function (contentArea, container, containerContent, isNested) {\rlet self = this;\rlet options = self.options;\rlet contentAreasWrapper = self.contentAreasWrapper;\rcontainerContent.addClass(CLASS_NAMES.CONTAINER_CONTENT);\risNested && containerContent.addClass(CLASS_NAMES.SUB_CONTAINER_CONTENT);\rcontainerContent.attr('id', generateId());\rlet containerContentInner = $(`<div class=\"${CLASS_NAMES.CONTAINER_CONTENT_INNER}\"></div>`);\rcontainerContentInner.html(containerContent.html());\rcontainerContent.html(containerContentInner);\rlet containerContentToolbar = $(generateToolbar.call(self, isNested ? TOOLBAR_TYPE.SUB_CONTAINER_CONTENT : TOOLBAR_TYPE.CONTAINER_CONTENT));\rcontainerContentToolbar.appendTo(containerContent);\rif (options.explicitSnippetEnabled) {\rif (!isNested) {\rif (options.explicitSnippetEnabled) {\rcontainerContentToolbar.children(`.${CLASS_NAMES.ADD_CONTAINER}`).on('click', function (e) {\re.preventDefault();\ropenModal.call(self, containerContentInner, false, true);\r});\r}\r}\rcontainerContentToolbar.children(`.${CLASS_NAMES.ADD_COMPONENT}`).on('click', function (e) {\re.preventDefault();\ropenModal.call(self, containerContentInner, true, false);\r});\r} else {\rcontainerContentToolbar.children(`.${CLASS_NAMES.ADD_CONTENT}`).on('click', function (e) {\re.preventDefault();\ropenModal.call(self, containerContentInner, true, !isNested && options.nestedContainerEnabled);\r});\r}\rcontainerContentInner.sortable({\rhandle: `.${CLASS_NAMES.COMPONENT_REPOSITION} .${CLASS_NAMES.CONTAINER_REPOSITION}`,\rhelper: 'clone',\ritems: '> section',\rconnectWith: `.${CLASS_NAMES.CONTAINER_CONTENT_INNER}`,\rtolerance: 'pointer',\rreceive: function (event, ui) {\rlet helper = ui.helper;\rlet item = ui.item;\rlet container;\rif (helper) {\rhelper.remove();\r}\rcontainer = item.closest(`.${CLASS_NAMES.CONTAINER}`);\rif (!container.hasClass(CLASS_NAMES.STATE_TOOLBAR_SHOWED)) {\rcontentAreasWrapper.find(`.${CLASS_NAMES.CONTAINER}.${CLASS_NAMES.STATE_TOOLBAR_SHOWED}`).removeClass(CLASS_NAMES.STATE_TOOLBAR_SHOWED);\rcontainer.addClass(CLASS_NAMES.STATE_TOOLBAR_SHOWED);\r}\rif (typeof options.onContainerChanged === 'function') {\roptions.onContainerChanged.call(self, event, container, contentArea);\r}\rif (typeof options.onContentChanged === 'function') {\roptions.onContentChanged.call(self, event, contentArea);\r}\ritem.removeClass(CLASS_NAMES.UI_DRAGGING);\r},\rstart: function (e, ui) {\rui.item.addClass(CLASS_NAMES.UI_DRAGGING);\r},\rstop: function (e, ui) {\rif (ui.helper) {\rui.helper.remove();\r}\rui.item.removeClass(CLASS_NAMES.UI_DRAGGING);\r}\r});\rcontainerContentInner.children().each(function () {\rlet child = $(this);\rif (child.find('[data-type=\"container-content\"]').length > 0) {\rconvertToContainer.call(self, contentArea, child);\r} else {\rconvertToComponent.call(self, contentArea, container, child, true);\r}\r});\r\n};\r\n","import TOOLBAR_TYPE from '../constants/toolbarType';\r\nimport CLASS_NAMES from '../constants/classNames';\r\nimport openModal from '../modal/openModal';\r\nimport generateToolbar from '../utils/generateToolbar';\r\nimport closeSidebar from '../sidebar/closeSidebar';\r\nimport convertToContainer from '../container/convertToContainer';\rexport default function (contentArea, dontInitToolbar) {\rlet self = this;\rlet options = self.options;\rcontentArea.addClass(CLASS_NAMES.CONTENT_AREA);\rlet content = contentArea.html();\rlet contentAreaInner = $(`<div class=\"${CLASS_NAMES.CONTENT_AREA_INNER}\"></div>`).html(content);\rcontentArea.html(contentAreaInner);\rif (typeof options.onBeforeInitContentArea === 'function') {\roptions.onBeforeInitContentArea.call(self, contentArea);\r}\rif (!dontInitToolbar) {\rlet contentAreaToolbar = $(generateToolbar.call(self, TOOLBAR_TYPE.CONTENT_AREA));\rcontentArea.append(contentAreaToolbar);\rcontentAreaToolbar.children(options.explicitSnippetEnabled ? `.${CLASS_NAMES.ADD_CONTAINER}` : `.${CLASS_NAMES.ADD_CONTENT}`).on('click', function (e) {\re.preventDefault();\ropenModal.call(self, contentAreaInner, !options.explicitSnippetEnabled, true);\r});\r}\rcontentAreaInner.sortable({\rhandle: `.${CLASS_NAMES.CONTAINER_TOOLBAR}:not(.${CLASS_NAMES.SUB_CONTAINER_TOOLBAR}) .${CLASS_NAMES.CONTAINER_REPOSITION}`,\ritems: '> section',\rhelper: 'clone',\rconnectWith: `.${CLASS_NAMES.CONTENT_AREA}`,\raxis: 'y',\rtolerance: 'pointer',\rreceive: function (event, ui) {\rlet helper = ui.helper;\rlet item = ui.item;\rif (helper) {\rhelper.remove();\r}\rcloseSidebar.call(self);\rif (typeof options.onContentChanged === 'function') {\roptions.onContentChanged.call(self, event, contentArea);\r}\ritem.addClass(CLASS_NAMES.UI_DRAGGING);\r},\rstart: function (e, ui) {\rui.item.addClass(CLASS_NAMES.UI_DRAGGING);\r},\rstop: function (e, ui) {\rif (ui.helper) {\rui.helper.remove();\r}\rui.item.removeClass(CLASS_NAMES.UI_DRAGGING);\r}\r});\rcontentAreaInner.children('section').each(function () {\rconvertToContainer.call(self, contentArea, $(this));\r});\rif (typeof options.onInitContentArea === 'function') {\rlet contentData = options.onInitContentArea.call(self, contentArea);\rif (contentData && contentData.length > 0) {\r$.each(contentData, function () {\rconvertToContainer.call(self, contentArea, $(this));\r});\r}\r}\r\n};\r\n","import CLASS_NAMES from '../constants/classNames';\r\nimport initIframeActions from '../iframe/initIframeActions';\r\nimport initContentAreas from './initContentAreas';\rexport default function () {\rlet self = this;\rlet element = self.element;\rlet options = self.options;\rlet wrapper = self.wrapper = $(`<div class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.WRAPPER}\"></div>`);\rlet iframeWrapper = self.iframeWrapper = $(`<div class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.IFRAME_WRAPPER}\"></div>`);\rlet iframe = self.iframe = $(`<iframe class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.IFRAME}\"></iframe>`);\relement.after(wrapper);\relement.addClass(CLASS_NAMES.UI_HIDDEN);\riframeWrapper.html(iframe);\rwrapper.attr('id', self.generateId()).append(iframeWrapper);\rself.iframeDoc = iframe.contents();\r// Fix issue Firefox can't render content inside iframe\r// ======================================================\rself.iframeDoc.get(0).open();\rself.iframeDoc.get(0).close();\r// ======================================================\rself.iframeWindow = iframe[0].contentWindow ? iframe[0].contentWindow : iframe[0].contentDocument.defaultView;\rself.iframeHead = self.iframeDoc.find('head');\rself.iframeBody = self.iframeDoc.find('body');\r// Generate head content for iframe\rlet styles = '';\r$('[data-type=\"keditor-style\"]').each(function () {\rlet style = $(this);\rlet idStr = style.attr('id') || '';\rlet href = style.attr('href') || style.attr('data-href') || '';\rif (href) {\rstyles += `<link rel=\"stylesheet\" type=\"text/css\" href=\"${href}\" ${idStr} />\\n`;\r} else {\rstyles += `<style type=\"text/css\" ${idStr}>${style.html()}</style>\\n`;\r}\r});\r$.isArray(options.contentStyles) && $.each(options.contentStyles, function (i, style) {\rlet idStr = style.id || '';\rif (style.href) {\rstyles += `<link rel=\"stylesheet\" type=\"text/css\" href=\"${style.href}\" ${idStr} />\\n`;\r} else {\rstyles += `<style type=\"text/css\" ${idStr}>${style.content}</style>\\n`;\r}\r});\rself.iframeHead.append(styles);\r// Generate body content for iframe\rself.contentAreasWrapper = $(options.contentAreasWrapper || '<div />');\rself.contentAreasWrapper.attr('class', `${CLASS_NAMES.UI} ${CLASS_NAMES.CONTENT_AREAS_WRAPPER}`);\rself.contentAreasWrapper.html(element.val() || element.html() || '');\rif (!self.contentAreasWrapper.attr('id')) {\rself.contentAreasWrapper.attr('id', self.generateId());\r}\rself.iframeBody.append(self.contentAreasWrapper);\rif (typeof options.onInitIframe === 'function') {\roptions.onInitIframe.call(self, self.iframe, self.iframeHead, self.iframeBody);\r}\rinitContentAreas.call(self);\rinitIframeActions.call(self);\r\n};\r\n","import generateId from '../utils/generateId';\r\nimport initContentArea from './initContentArea';\rexport default function () {\rlet self = this;\rlet options = self.options;\rlet contentAreasWrapper = self.contentAreasWrapper;\rlet contentAreas;\rif (options.contentAreasSelector) {\rcontentAreas = contentAreasWrapper.find(options.contentAreasSelector);\r}\rif (!contentAreas || contentAreas.length === 0) {\rlet originalContent = contentAreasWrapper.html();\rcontentAreas = $('<div />').html(originalContent);\rcontentAreasWrapper.empty().append(contentAreas);\r}\rcontentAreas.each(function () {\rlet contentArea = $(this);\rif (!contentArea.attr('id')) {\rcontentArea.attr('id', generateId());\r}\rinitContentArea.call(self, contentArea);\r});\r\n};\r\n","import CLASS_NAMES from './constants/classNames';\r\nimport getContent from './getContent';\rexport default function () {\rlet self = this;\rlet element = self.element;\rlet id = self.id;\rlet content = getContent.call(self, false);\rself.wrapper.remove();\rif (element.is('textarea')) {\relement.val(content);\r} else {\relement.html(content);\r}\relement.removeClass(CLASS_NAMES.UI_HIDDEN);\relement.data('keditor', null);\rdelete KEditor.instances[id];\r\n};\r\n","import CLASS_NAMES from './constants/classNames';\r\nimport getContainerContent from './container/getContainerContent';\rexport default function (inArray) {\rlet self = this;\rlet result = [];\rself.contentAreasWrapper.find(`.${CLASS_NAMES.CONTENT_AREA_INNER}`).each(function () {\rlet html = '';\r$(this).children(`.${CLASS_NAMES.CONTAINER}`).each(function () {\rlet container = $(this);\rhtml += getContainerContent.call(self, container);\r});\rresult.push(html);\r});\rreturn inArray ? result : result.join('\\n');\r\n};\r\n","import CLASS_NAMES from '../constants/classNames';\r\nimport closeSidebar from '../sidebar/closeSidebar';\r\nimport deleteComponent from '../component/deleteComponent';\rexport default function () {\rlet self = this;\rlet options = self.options;\rlet contentAreasWrapper = self.contentAreasWrapper;\rcontentAreasWrapper.on('click', `.${CLASS_NAMES.COMPONENT_DELETE}`, function (e) {\re.preventDefault();\rlet btn = $(this);\rif (confirm(options.confirmDeleteComponentText)) {\rlet component = btn.closest(`.${CLASS_NAMES.COMPONENT}`);\rlet container = component.closest(`.${CLASS_NAMES.CONTAINER}`);\rlet contentArea = component.closest(`.${CLASS_NAMES.CONTENT_AREA}`);\rif (typeof options.onBeforeComponentDeleted === 'function') {\roptions.onBeforeComponentDeleted.call(self, e, component, contentArea);\r}\rif (component.is(self.settingComponent)) {\rcloseSidebar.call(self);\r}\rdeleteComponent.call(self, component);\rif (typeof options.onComponentDeleted === 'function') {\roptions.onComponentDeleted.call(self, e, component, contentArea);\r}\rif (typeof options.onContainerChanged === 'function') {\roptions.onContainerChanged.call(self, e, container, contentArea);\r}\rif (typeof options.onContentChanged === 'function') {\roptions.onContentChanged.call(self, e, contentArea);\r}\r}\r});\r\n};\r\n","import CLASS_NAMES from '../constants/classNames';\r\nimport getComponentContent from '../component/getComponentContent';\r\nimport convertToComponent from '../component/convertToComponent';\rexport default function () {\rlet self = this;\rlet options = self.options;\rlet contentAreasWrapper = self.contentAreasWrapper;\rcontentAreasWrapper.on('click', `.${CLASS_NAMES.COMPONENT_DUPLICATE}`, function (e) {\re.preventDefault();\rlet btn = $(this);\rlet component = btn.closest(`.${CLASS_NAMES.COMPONENT}`);\rlet container = component.closest(`.${CLASS_NAMES.CONTAINER}`);\rlet contentArea = container.parent();\rlet newComponent = $(getComponentContent.call(self, component));\rcomponent.after(newComponent);\rconvertToComponent.call(self, contentArea, container, newComponent);\rif (typeof options.onComponentDuplicated === 'function') {\roptions.onComponentDuplicated.call(self, component, newComponent, contentArea);\r}\rif (typeof options.onContainerChanged === 'function') {\roptions.onContainerChanged.call(self, e, container, contentArea);\r}\rif (typeof options.onContentChanged === 'function') {\roptions.onContentChanged.call(self, e, contentArea);\r}\r});\r\n};\r\n","import CLASS_NAMES from '../constants/classNames';\r\nimport openSidebar from '../sidebar/openSidebar';\r\nimport closeSidebar from '../sidebar/closeSidebar';\rexport default function () {\rlet self = this;\rlet contentAreasWrapper = self.contentAreasWrapper;\rcontentAreasWrapper.on('click', `.${CLASS_NAMES.COMPONENT_SETTING}`, function (e) {\re.preventDefault();\rlet btn = $(this);\rlet component = btn.closest(`.${CLASS_NAMES.COMPONENT}`);\rif (contentAreasWrapper.hasClass(CLASS_NAMES.STATE_SETTING_OPENED) && contentAreasWrapper.hasClass(CLASS_NAMES.STATE_SIDEBAR_OPENED)) {\rif (!component.is(self.settingComponent)) {\ropenSidebar.call(self, component);\r} else {\rcloseSidebar.call(self);\r}\r} else {\ropenSidebar.call(self, component);\r}\r});\r\n};\r\n","import CLASS_NAMES from '../constants/classNames';\r\nimport closeSidebar from '../sidebar/closeSidebar';\r\nimport deleteComponent from '../component/deleteComponent';\rexport default function () {\rlet self = this;\rlet options = self.options;\rlet contentAreasWrapper = self.contentAreasWrapper;\rcontentAreasWrapper.on('click', `.${CLASS_NAMES.CONTAINER_DELETE}`, function (e) {\re.preventDefault();\rlet btn = $(this);\rif (confirm(options.confirmDeleteContainerText)) {\rlet container = btn.closest(`.${CLASS_NAMES.CONTAINER}`);\rlet components = container.find(`.${CLASS_NAMES.COMPONENT}`);\rlet contentArea = container.parent();\rif (typeof options.onBeforeContainerDeleted === 'function') {\roptions.onBeforeContainerDeleted.call(self, e, container, contentArea);\r}\rlet settingComponent = self.settingComponent;\rif (settingComponent) {\rlet settingComponentParent = settingComponent.closest(`.${CLASS_NAMES.CONTAINER}`);\rif (settingComponentParent.is(container)) {\rcloseSidebar.call(self);\r}\r} else if (container.is(self.settingContainer)) {\rcloseSidebar.call(self);\r}\rif (components.length > 0) {\rcomponents.each(function () {\rdeleteComponent.call(self, $(this));\r});\r}\rcontainer.remove();\rif (typeof options.onContainerDeleted === 'function') {\roptions.onContainerDeleted.call(self, e, container, contentArea);\r}\rif (typeof options.onContentChanged === 'function') {\roptions.onContentChanged.call(self, e, contentArea);\r}\r}\r});\r\n};\r\n","import CLASS_NAMES from '../constants/classNames';\r\nimport getContainerContent from '../container/getContainerContent';\r\nimport convertToContainer from '../container/convertToContainer';\rexport default function () {\rlet self = this;\rlet options = self.options;\rlet contentAreasWrapper = self.contentAreasWrapper;\rcontentAreasWrapper.on('click', `.${CLASS_NAMES.CONTAINER_DUPLICATE}`, function (e) {\re.preventDefault();\rlet btn = $(this);\rlet container = btn.closest(`.${CLASS_NAMES.CONTAINER}`);\rlet contentArea = container.parent();\rlet newContainer = $(getContainerContent.call(self, container, btn.parent().hasClass(CLASS_NAMES.SUB_CONTAINER_TOOLBAR)));\rcontainer.after(newContainer);\rconvertToContainer.call(self, contentArea, newContainer);\rif (typeof options.onContainerDuplicated === 'function') {\roptions.onContainerDuplicated.call(self, container, newContainer, contentArea);\r}\rif (typeof options.onContentChanged === 'function') {\roptions.onContentChanged.call(self, e, contentArea);\r}\r});\r\n};\r\n","import CLASS_NAMES from '../constants/classNames';\r\nimport openSidebar from '../sidebar/openSidebar';\r\nimport closeSidebar from '../sidebar/closeSidebar';\rexport default function () {\rlet self = this;\rlet contentAreasWrapper = self.contentAreasWrapper;\rcontentAreasWrapper.on('click', `.${CLASS_NAMES.CONTAINER_SETTING}`, function (e) {\re.preventDefault();\rlet btn = $(this);\rlet container = btn.closest(`.${CLASS_NAMES.CONTAINER}`);\rif (contentAreasWrapper.hasClass(CLASS_NAMES.STATE_SETTING_OPENED) && contentAreasWrapper.hasClass(CLASS_NAMES.STATE_SIDEBAR_OPENED)) {\rif (!container.is(self.settingContainer)) {\ropenSidebar.call(self, container);\r} else {\rcloseSidebar.call(self);\r}\r} else {\ropenSidebar.call(self, container);\r}\r});\r\n};\r\n","import initSelectAction from './initSelectAction';\r\nimport initBtnComponentDelete from './initBtnComponentDelete';\r\nimport initBtnComponentDuplicate from './initBtnComponentDuplicate';\r\nimport initBtnComponentSetting from './initBtnComponentSetting';\r\nimport initBtnContainerDelete from './initBtnContainerDelete';\r\nimport initBtnContainerDuplicate from './initBtnContainerDuplicate';\r\nimport initBtnContainerSetting from './initBtnContainerSetting';\rexport default function () {\rlet self = this;\rinitSelectAction.call(self);\rinitBtnComponentDelete.call(self);\rinitBtnComponentDuplicate.call(self);\rinitBtnComponentSetting.call(self);\rinitBtnContainerDelete.call(self);\rinitBtnContainerDuplicate.call(self);\rinitBtnContainerSetting.call(self);\r\n};\r\n","import CLASS_NAMES from '../constants/classNames';\r\nimport getClickedElement from '../utils/getClickedElement';\rexport default function () {\rlet self = this;\rlet options = self.options;\rlet contentAreasWrapper = self.contentAreasWrapper;\rcontentAreasWrapper.on('click', function (e) {\rlet sidebar = getClickedElement(e, `.${CLASS_NAMES.SIDEBAR}`);\rlet modal = getClickedElement(e, `.${CLASS_NAMES.MODAL}`);\rlet container = getClickedElement(e, `.${CLASS_NAMES.CONTAINER}`);\rif (container) {\rif (!container.hasClass(CLASS_NAMES.STATE_TOOLBAR_SHOWED)) {\rcontentAreasWrapper.find(`.${CLASS_NAMES.STATE_TOOLBAR_SHOWED}`).removeClass(CLASS_NAMES.STATE_TOOLBAR_SHOWED);\rcontainer.addClass(CLASS_NAMES.STATE_TOOLBAR_SHOWED);\rlet contentArea = container.parent();\rif (typeof options.onContainerSelected === 'function') {\roptions.onContainerSelected.call(self, e, container, contentArea);\r}\r}\r} else {\rif (!sidebar && !modal) {\rcontentAreasWrapper.find(`.${CLASS_NAMES.STATE_TOOLBAR_SHOWED}`).removeClass(CLASS_NAMES.STATE_TOOLBAR_SHOWED);\r}\r}\rlet component = getClickedElement(e, `.${CLASS_NAMES.COMPONENT}`);\rif (component) {\rif (!component.hasClass(CLASS_NAMES.STATE_TOOLBAR_SHOWED)) {\rcontentAreasWrapper.find(`.${CLASS_NAMES.COMPONENT}.${CLASS_NAMES.STATE_TOOLBAR_SHOWED}`).removeClass(CLASS_NAMES.STATE_TOOLBAR_SHOWED);\rcomponent.addClass(CLASS_NAMES.STATE_TOOLBAR_SHOWED);\rlet contentArea = component.parent();\rif (typeof options.onComponentSelected === 'function') {\roptions.onComponentSelected.call(self, e, component, contentArea);\r}\r}\r} else {\rif (!sidebar) {\rcontentAreasWrapper.find(`.${CLASS_NAMES.COMPONENT}.${CLASS_NAMES.STATE_TOOLBAR_SHOWED}`).removeClass(CLASS_NAMES.STATE_TOOLBAR_SHOWED);\r}\r}\r});\r\n};\r\n","import '../styles/keditor.less';\rimport $ from 'jquery';\r\nimport DEFAULTS from './constants/defaults';\r\nimport generateId from './utils/generateId';\r\nimport getDataAttributes from './utils/getDataAttributes';\r\nimport initIframeCover from './utils/initIframeCover';\r\nimport addSnippet from './snippet/addSnippet';\r\nimport openSidebar from './sidebar/openSidebar';\r\nimport closeSidebar from './sidebar/closeSidebar';\r\nimport init from './init';\r\nimport destroy from './destroy';\r\nimport getContent from './getContent';\r\nimport setContent from './setContent';\r// Check dependencies\r\nif (!$.fn.sortable) {\rthrow new Error('[ KEditor ] $.fn.sortable does not exist. Please import $.fn.sortable into your document for continue using KEditor.');\r\n}\rwindow.KEDITOR_DEBUG = true;\r// KEditor class\r\nclass KEditor {\rstatic DEFAULTS = DEFAULTS;\rstatic debug = false;\rstatic version = '2.0.0';\rstatic instances = {};\rstatic components = {\rblank: {\rsettingEnabled: false\r}\r};\rsettingComponent = null;\rsettingContainer = null;\rcategoryComponent = [];\rcategoryContainer = [];\rconstructor(target, config) {\rreturn init.apply(this, [target, config]);\r}\r// Static methods\r//---------------------------------\rstatic log(...args) {\rif (console && typeof console.log === 'function' && window.KEDITOR_DEBUG) {\rconsole.log.apply(console, ['[ KEditor ] ', ...args]);\r}\r}\rstatic error(message) {\rthrow new Error(`[ KEditor ] ${message}`);\r}\rstatic init(target, config) {\rreturn new KEditor(target, config);\r}\r// Setting stuffs\r//---------------------------------\rgetSettingContainer() {\rreturn this.settingContainer;\r}\rgetSettingComponent() {\rreturn this.settingComponent;\r}\r// Utilities\r//---------------------------------\rgenerateId() {\rreturn generateId();\r}\rgetDataAttributes(target, ignoreAttributes, isArray) {\rreturn getDataAttributes.apply(this, [target, ignoreAttributes, isArray]);\r}\r// Iframe\r//---------------------------------\rinitIframeCover(iframe, wrapper) {\rreturn initIframeCover.apply(this, [iframe, wrapper]);\r}\r// Legacy methods. DEPRECATED\r//---------------------------------\rshowSettingPanel(target) {\ropenSidebar.call(this, target);\r}\rhideSettingPanel() {\rcloseSidebar.call(this);\r}\r// Get content\r//---------------------------------\rgetContent(inArray) {\rreturn getContent.apply(this, [inArray]);\r}\r// Set content\r//---------------------------------\rsetContent(content, contentArea) {\rreturn setContent.apply(this, [content, contentArea]);\r}\r// Destroy\r//---------------------------------\rdestroy() {\rreturn destroy.apply(this);\r}\r// Snippet\r//---------------------------------\raddSnippet(type, title, previewUrl, categories, content, dataAttributes) {\rreturn addSnippet.apply(this, [type, title, previewUrl, categories, content, dataAttributes]);\r}\r\n}\r// KEditor plugins\r\n$.fn.keditor = function (options) {\rlet element = $(this);\rlet instance = element.data('keditor');\rif (typeof options === 'string') {\rif (instance && instance[options] && typeof instance[options] === 'function') {\rreturn instance[options].apply(instance, Array.prototype.slice.call(arguments, 1));\r}\r} else {\rif (!instance) {\rinstance = KEditor.init(element, options);\relement.data('keditor', instance);\r}\rreturn instance;\r}\r\n};\rwindow.KEditor = $.keditor = $.fn.keditor.constructor = KEditor;\r\n","import DEFAULTS from './constants/defaults';\r\nimport initSnippetsModal from './modal/initSnippetsModal';\r\nimport initExtraSettings from './sidebar/initExtraSettings';\r\nimport initSidebar from './sidebar/initSidebar';\r\nimport initTopbar from './topbar/initTopbar';\r\nimport initContentAreaWrapper from './contentArea/initContentAreaWrapper';\r\nimport generateId from './utils/generateId';\rexport default function (target, config) {\rlet self = this;\rself.element = target;\rself.options = $.extend({}, DEFAULTS, config);\rinitContentAreaWrapper.call(this);\rinitTopbar.call(this);\rinitSidebar.call(this);\rinitSnippetsModal.call(this);\rinitExtraSettings.call(this);\rself.id = generateId();\rKEditor.instances[self.id] = self;\rif (typeof self.options.onReady === 'function') {\rself.options.onReady.call(self);\r}\r\n};\r\n","import CLASS_NAMES from '../constants/classNames';\rexport default function () {\rlet self = this;\rlet modal = self.modal;\rself.modalTarget = null;\rmodal.find(`.${CLASS_NAMES.STATE_SELECTED}`).removeClass(CLASS_NAMES.STATE_SELECTED);\rmodal.find(`.${CLASS_NAMES.STATE_NOT_MATCHED}`).removeClass(CLASS_NAMES.STATE_NOT_MATCHED);\rmodal.find(`.${CLASS_NAMES.SNIPPETS_FILTER}`).val('');\rmodal.removeClass(CLASS_NAMES.STATE_SHOWED);\rmodal.removeClass(CLASS_NAMES.MODAL_COMPONENT);\rmodal.removeClass(CLASS_NAMES.MODAL_CONTAINER);\r\n};\r\n","import CLASS_NAMES from '../constants/classNames';\r\nimport closeModal from './closeModal';\r\nimport generateId from '../utils/generateId';\r\nimport renderSnippets from '../snippet/renderSnippets';\r\nimport initSnippetsFilter from '../snippet/initSnippetsFilter';\r\nimport initContainer from '../container/initContainer';\r\nimport initComponent from '../component/initComponent';\rexport default function () {\rlet self = this;\rlet options = self.options;\rlet modalId = generateId();\rlet modal = self.modal = $(`\r<div class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.MODAL}\" id=\"${modalId}\">\r<div class=\"${CLASS_NAMES.MODAL_HEADER}\">\r<button type=\"button\" class=\"${CLASS_NAMES.MODAL_CLOSE}\">&times;</button>\r</div>\r<div class=\"${CLASS_NAMES.MODAL_BODY}\">\r<div class=\"${CLASS_NAMES.SNIPPETS_WRAPPER}\">\r<div class=\"${CLASS_NAMES.SNIPPETS}\"></div>\r</div>\r</div>\r</div>\r`);\rif (typeof options.snippetsUrl === 'string' && options.snippetsUrl.length > 0) {\r$.ajax({\rtype: 'get',\rdataType: 'html',\rurl: options.snippetsUrl,\rsuccess: function (resp) {\rif (typeof options.onSnippetsLoaded === 'function') {\rresp = options.onSnippetsLoaded.call(self, resp) || resp;\r}\rrenderSnippets.call(self, resp);\rinitSnippetsFilter.call(self);\r},\rerror: function (jqXHR) {\rif (typeof options.onSnippetsError === 'function') {\roptions.onSnippetsError.call(self, jqXHR);\r}\r}\r});\r// Snippet events\rmodal.on({\rclick: function (e) {\re.preventDefault();\rmodal.find(`.${CLASS_NAMES.STATE_SELECTED}`).removeClass(CLASS_NAMES.STATE_SELECTED);\r$(this).addClass(CLASS_NAMES.STATE_SELECTED);\r},\rmouseover: function () {\r$(this).addClass(CLASS_NAMES.STATE_SELECTED);\r},\rmouseout: function () {\r$(this).removeClass(CLASS_NAMES.STATE_SELECTED);\r}\r}, `.${CLASS_NAMES.SNIPPET}`);\r// Close buttons\rmodal.find(`.${CLASS_NAMES.MODAL_CLOSE}`).on('click', function (e) {\re.preventDefault();\rcloseModal.call(this);\r});\rmodal.on('click', `.${CLASS_NAMES.SNIPPET_ADD}`, function (e) {\re.preventDefault();\rlet selectedSnippet = $(this).closest(`.${CLASS_NAMES.SNIPPET}`);\rlet contentArea = self.modalTarget.closest(`.${CLASS_NAMES.CONTENT_AREA}`);\rlet snippetType = selectedSnippet.attr('data-type');\rlet snippetContentElement = modal.find(selectedSnippet.attr('data-snippet'));\rlet snippetContent = snippetContentElement.html();\rlet isModalComponent = modal.hasClass(CLASS_NAMES.MODAL_COMPONENT);\rlet isModalContainer = modal.hasClass(CLASS_NAMES.MODAL_CONTAINER);\rlet isAddingContainer = false;\rlet isAddingComponent = false;\rlet isAddingComponentWithContainer = false;\rif (options.explicitSnippetEnabled) {\risAddingComponent = isModalComponent;\risAddingContainer = isModalContainer;\r} else {\rif (snippetType === 'container') {\risAddingContainer = true;\r} else {\rif (isModalComponent && !isModalContainer) {\risAddingComponent = true;\r}\rif (isModalComponent && isModalContainer) {\rif (self.modalTarget.is(`.${CLASS_NAMES.CONTAINER_CONTENT_INNER}`)) {\risAddingComponent = true;\r} else {\risAddingComponentWithContainer = true;\r}\r}\r}\r}\rlet newContainer;\rlet newComponent;\rif (isAddingContainer) {\rself.contentAreasWrapper.find(`.${CLASS_NAMES.CONTAINER}.${CLASS_NAMES.STATE_TOOLBAR_SHOWED}`).removeClass(CLASS_NAMES.STATE_TOOLBAR_SHOWED);\rnewContainer = $(`\r<section class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.CONTAINER} ${CLASS_NAMES.STATE_TOOLBAR_SHOWED}\">\r<section class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.CONTAINER_INNER}\">${snippetContent}</section>\r</section>\r`);\rself.modalTarget.append(newContainer);\rif (typeof options.onContainerSnippetAdded === 'function') {\roptions.onContainerSnippetAdded.call(self, e, newContainer, selectedSnippet, contentArea);\r}\rif (typeof options.onContentChanged === 'function') {\roptions.onContentChanged.call(self, e, contentArea);\r}\rinitContainer.call(self, contentArea, newContainer);\r}\rif (isAddingComponent) {\rlet dataAttributes = self.getDataAttributes(snippetContentElement, null, true);\rnewComponent = $(`\r<section class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.COMPONENT}\" data-type=\"${snippetType}\" ${dataAttributes.join(' ')}>\r<section class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.COMPONENT_CONTENT}\">${snippetContent}</section>\r</section>\r`);\rself.modalTarget.append(newComponent);\rlet container = self.modalTarget.closest(`.${CLASS_NAMES.CONTAINER}`);\rif (typeof options.onComponentSnippetAdded === 'function') {\roptions.onComponentSnippetAdded.call(self, e, newComponent, selectedSnippet, contentArea);\r}\rif (typeof options.onContentChanged === 'function') {\roptions.onContentChanged.call(self, e, contentArea);\r}\rinitComponent.call(self, contentArea, container, newComponent);\r}\rif (isAddingComponentWithContainer) {\rself.contentAreasWrapper.find(`.${CLASS_NAMES.CONTAINER}.${CLASS_NAMES.STATE_TOOLBAR_SHOWED}`).removeClass(CLASS_NAMES.STATE_TOOLBAR_SHOWED);\rlet dataAttributes = self.getDataAttributes(snippetContentElement, null, true);\rnewContainer = $(`\r<section class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.CONTAINER} ${CLASS_NAMES.STATE_TOOLBAR_SHOWED}\">\r<section class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.CONTAINER_INNER}\">${options.containerForQuickAddComponent}</section>\r</section>\r`);\rnewComponent = $(`\r<section class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.COMPONENT}\" data-type=\"${snippetType}\" ${dataAttributes.join(' ')}>\r<section class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.COMPONENT_CONTENT}\">${snippetContent}</section>\r</section>\r`);\rnewContainer.find('[data-type=\"container-content\"]').eq(0).html(newComponent);\rself.modalTarget.append(newContainer);\rif (typeof options.onComponentSnippetAdded === 'function') {\roptions.onComponentSnippetAdded.call(self, e, newComponent, selectedSnippet, contentArea);\r}\rif (typeof options.onContentChanged === 'function') {\roptions.onContentChanged.call(self, e, contentArea);\r}\rinitContainer.call(self, contentArea, newContainer);\r}\rcloseModal.call(this);\r});\r// Action click for snippet\rmodal.on('click', `.${CLASS_NAMES.SNIPPET}`, function (e) {\re.preventDefault();\rlet snippet = $(this);\rif (!snippet.hasClass(CLASS_NAMES.STATE_SELECTED)) {\rsnippet.parent().find(`.${CLASS_NAMES.STATE_SELECTED}`).removeClass(CLASS_NAMES.STATE_SELECTED);\rsnippet.addClass(CLASS_NAMES.STATE_SELECTED);\r}\r});\rlet cssTransitionEnd = 'webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend';\rmodal.on(cssTransitionEnd, () => {\rif (!modal.hasClass(CLASS_NAMES.STATE_SHOWED)) {\rmodal.css('display', 'none');\r$(document.body).removeClass(CLASS_NAMES.STATE_MODAL_OPENED);\r}\r});\rmodal.appendTo(document.body);\r} else {\rself.error('\"snippetsUrl\" must be not null!');\r}\r\n};\r\n","import CLASS_NAMES from '../constants/classNames';\rexport default function (target, showComponent, showContainer) {\rlet self = this;\rlet modal = self.modal;\rself.modalTarget = target;\rshowComponent && modal.addClass(CLASS_NAMES.MODAL_COMPONENT);\rshowContainer && modal.addClass(CLASS_NAMES.MODAL_CONTAINER);\rmodal.css('display', 'block');\r$(document.body).addClass(CLASS_NAMES.STATE_MODAL_OPENED);\rsetTimeout(() => {\rmodal.addClass(CLASS_NAMES.STATE_SHOWED);\r}, 0);\r\n};\r\n","import CLASS_NAMES from './constants/classNames';\r\nimport initContentArea from './contentArea/initContentArea';\rexport default function (content, contentArea) {\rlet self = this;\rlet contentAreasWrapper = self.wrapper;\rif (!contentArea) {\rcontentArea = contentAreasWrapper.children(`.${CLASS_NAMES.CONTENT_AREA}`);\r} else {\rif (!contentArea.jquery) {\rcontentArea = contentAreasWrapper.find(contentArea);\r}\r}\rif (contentArea.length === 0) {\rself.error('Content area does not exist!');\r}\rcontentArea.html(content);\rinitContentArea.call(contentArea, true);\r\n};\r\n","import CLASS_NAMES from '../constants/classNames';\rexport default function () {\rlet self = this;\rlet options = self.options;\rlet sidebar = self.sidebar;\rlet activeForm = sidebar.find(`.${CLASS_NAMES.SIDEBAR_BODY}`).children(`.${CLASS_NAMES.STATE_ACTIVE}`);\rif (activeForm.length > 0) {\rif (activeForm.is(`.${CLASS_NAMES.SETTING_CONTAINER}`)) {\rif (typeof options.containerSettingHideFunction === 'function') {\roptions.containerSettingHideFunction.call(self, activeForm, self);\r}\r} else if (activeForm.is('[data-type]')) {\rlet activeType = activeForm.attr('data-type');\rlet componentData = KEditor.components[activeType];\rif (typeof componentData.hideSettingForm === 'function') {\rcomponentData.hideSettingForm.call(componentData, activeForm, self);\r}\r} else if (activeForm.is('[data-extra-setting]')) {\r// TODO: Will add method when hiding setting for Extra setting\r}\ractiveForm.removeClass(CLASS_NAMES.STATE_ACTIVE);\r}\rself.settingComponent = null;\rself.settingContainer = null;\rsidebar.removeClass(CLASS_NAMES.STATE_OPENED);\r\n}","import CLASS_NAMES from '../constants/classNames';\r\nimport openSidebar from './openSidebar';\rexport default function () {\rlet self = this;\rlet options = self.options;\rlet sidebarBody = self.sidebar.find(`.${CLASS_NAMES.SIDEBAR_BODY}`);\rif ($.isPlainObject(options.extraSettings)) {\rfor (let key in options.extraSettings) {\rlet extraSetting = options.extraSettings[key];\rlet form = $(`<div data-extra-setting=\"${key}\" class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.SETTING_FORM} ${CLASS_NAMES.SETTING_EXTRA}\"></div>`);\rform.html(extraSetting.content);\rsidebarBody.append(form);\rlet trigger = typeof extraSetting.trigger === 'function' ? extraSetting.trigger.call(this, extraSetting) : extraSetting.trigger;\rtrigger.on('click', function (e) {\re.preventDefault();\ropenSidebar.call(self, trigger);\r})\r}\r}\r\n};\r\n","import CLASS_NAMES from '../constants/classNames';\r\nimport generateId from '../utils/generateId';\r\nimport closeSidebar from './closeSidebar';\rexport default function () {\rlet self = this;\rlet options = self.options;\rlet sidebarId = generateId();\rlet sidebar = self.sidebar = $(`\r<div class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.SIDEBAR}\" id=\"${sidebarId}\">\r<div class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.SIDEBAR_HEADER}\">\r<span class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.SIDEBAR_TITLE}\"></span>\r<a href=\"javascript:void(0);\" class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.SIDEBAR_CLOSER}\">&times;</a>\r</div>\r<div class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.SIDEBAR_BODY}\"></div>\r</div>\r`);\rsidebar.find(`.${CLASS_NAMES.SIDEBAR_CLOSER}`).on('click', function (e) {\re.preventDefault();\rcloseSidebar.call(self);\r});\rlet sidebarBody = sidebar.find(`.${CLASS_NAMES.SIDEBAR_BODY}`);\rsidebarBody.on('submit', 'form', function (e) {\re.preventDefault();\rreturn false;\r});\rif (options.containerSettingEnabled === true) {\rif (typeof options.containerSettingInitFunction === 'function') {\rlet form = $(`<div class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.SETTING_FORM} ${CLASS_NAMES.SETTING_CONTAINER}\"></div>`);\rsidebarBody.append(form);\roptions.containerSettingInitFunction.call(self, form, self);\r} else {\rself.error('\"containerSettingInitFunction\" is not function!');\r}\r}\rsidebar.appendTo(self.wrapper);\r\n};\r\n","import CLASS_NAMES from '../constants/classNames';\r\nimport getComponentType from '../component/getComponentType';\rexport default function (target) {\rlet self = this;\rlet options = self.options;\rlet sidebar = self.sidebar;\rlet sidebarTitle = sidebar.find(`.${CLASS_NAMES.SIDEBAR_TITLE}`);\rlet sidebarBody = sidebar.find(`.${CLASS_NAMES.SIDEBAR_BODY}`);\rlet activeForm = sidebarBody.children(`.${CLASS_NAMES.STATE_ACTIVE}`);\ractiveForm.removeClass(CLASS_NAMES.STATE_ACTIVE);\rif (target.is(`.${CLASS_NAMES.COMPONENT}`)) {\rself.settingComponent = target;\rself.settingContainer = null;\rlet componentType = getComponentType.call(self, target);\rlet componentData = KEditor.components[componentType];\rsidebarTitle.html(componentData.settingTitle);\rlet settingFormClass = `${CLASS_NAMES.SETTING}-${componentType}`;\rlet settingForm = sidebarBody.find(`.${settingFormClass}`);\rif (settingForm.length === 0) {\rlet componentData = KEditor.components[componentType];\rif (typeof componentData.initSettingForm === 'function') {\rsettingForm = $(`\r<div\rdata-type=\"${componentType}\"\rclass=\"${CLASS_NAMES.UI} ${CLASS_NAMES.SETTING_FORM} ${settingFormClass} ${CLASS_NAMES.STATE_ACTIVE}\"\r>\r</div>\r`);\rlet loadingText = $('<span />').html('Loading...');\rsidebarBody.append(settingForm);\rsettingForm.append(loadingText);\rlet initFunction = componentData.initSettingForm.call(componentData, settingForm, self);\r$.when(initFunction).done(function () {\rsetTimeout(function () {\rloadingText.remove();\rif (typeof componentData.showSettingForm === 'function') {\rcomponentData.showSettingForm.call(componentData, settingForm, target, self);\r}\r}, 100);\r});\r}\r} else {\rif (typeof componentData.showSettingForm === 'function') {\rcomponentData.showSettingForm.call(componentData, settingForm, target, self);\r}\rsettingForm.addClass(CLASS_NAMES.STATE_ACTIVE);\r}\r} else if (target.is(`${CLASS_NAMES.CONTAINER}`)) {\rself.settingComponent = null;\rself.settingContainer = target;\rsidebarTitle.html('Container Settings');\rlet settingForm = sidebar.find(`.${CLASS_NAMES.SETTING_CONTAINER}`);\rif (typeof options.containerSettingShowFunction === 'function') {\roptions.containerSettingShowFunction.call(self, settingForm, target, self);\r}\rsettingForm.addClass(CLASS_NAMES.STATE_ACTIVE);\r} else {\r// should be extra tabs\rlet extraKey = target.attr('data-extra-setting');\rlet extraTabData = options.extraSettings[extraKey];\rsidebarTitle.html(extraTabData.title);\rlet settingForm = sidebar.find(`.${CLASS_NAMES.SETTING_EXTRA}[data-extra-setting=${extraKey}]`);\rtypeof extraTabData.settingShowFunction === 'function' && extraTabData.settingShowFunction.call(self, settingForm, target, self);\rsettingForm.addClass(CLASS_NAMES.STATE_ACTIVE);\r}\rsidebar.addClass(CLASS_NAMES.STATE_OPENED);\r\n};\r\n","import renderSnippet from './renderSnippet';\r\nimport renderSnippetFilter from './renderSnippetFilter';\r\nimport CLASS_NAMES from '../constants/classNames';\r\nimport beautifyCategories from '../utils/beautifyCategories';\rexport default function (type, title, previewUrl, categories, content, extraData) {\rlet self = this;\rlet [\rsnippetPreviewHtml,\rsnippetContentHtml\r] = renderSnippet.call(self, type, title, previewUrl, categories, content, extraData);\rself.categoryContainer = beautifyCategories(self.categoryContainer);\rself.categoryComponent = beautifyCategories(self.categoryComponent);\rself.modal.find(`.${CLASS_NAMES.SNIPPETS}`).append(snippetPreviewHtml);\rself.modal.find(`.${CLASS_NAMES.MODAL_BODY}`).append(snippetContentHtml);\rlet [categoriesOptions, snippetsWrapper] = renderSnippetFilter.call(self);\rsnippetsWrapper.find(`.${CLASS_NAMES.SNIPPETS_FILTER}`).html(categoriesOptions).trigger('change');\r\n};\r\n","import renderSnippetFilter from './renderSnippetFilter';\r\nimport CLASS_NAMES from '../constants/classNames';\rexport default function () {\rlet self = this;\rlet options = self.options;\rlet [categoriesOptions, snippetsWrapper] = renderSnippetFilter.call(this);\rsnippetsWrapper.prepend(`\r<div class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.SNIPPETS_FILTER_WRAPPER}\">\r<label class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.SNIPPETS_FILTER_LABEL}\">Category:</label>\r<select class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.SNIPPETS_FILTER}\">\r${categoriesOptions}\r</select>\r<input type=\"text\" class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.SNIPPETS_SEARCH}\" value=\"\" placeholder=\"Type to search...\" />\r</div>\r`);\rlet txtSearch = snippetsWrapper.find(`.${CLASS_NAMES.SNIPPETS_SEARCH}`);\rlet cbbFilter = snippetsWrapper.find(`.${CLASS_NAMES.SNIPPETS_FILTER}`);\rlet doFilter = function () {\rlet selectedCategory = (cbbFilter.val() || '').toLowerCase();\rlet searchText = (txtSearch.val() || '').toLowerCase();\rlet snippets = self.modal.find(`.${CLASS_NAMES.SNIPPET}`);\rsnippets.filter(`.${CLASS_NAMES.STATE_SELECTED}`).removeClass(CLASS_NAMES.STATE_SELECTED);\rif (selectedCategory || searchText) {\rsnippets.each(function () {\rlet snippet = $(this);\rlet dataCategoriesString = snippet.attr('data-keditor-categories').toLowerCase();\rlet dataCategories = dataCategoriesString.split(options.snippetsCategoriesSeparator);\rlet error = 0;\rif (selectedCategory) {\rif ($.inArray(selectedCategory, dataCategories) === -1) {\rerror++;\r}\r}\rif (searchText) {\rlet title = snippet.attr('data-keditor-title').toLowerCase();\rif (title.indexOf(searchText) === -1 && dataCategoriesString.indexOf(searchText) === -1) {\rerror++;\r}\r}\rsnippet[error === 0 ? 'removeClass' : 'addClass'](CLASS_NAMES.STATE_NOT_MATCHED);\r});\r} else {\rsnippets.removeClass(CLASS_NAMES.STATE_NOT_MATCHED);\r}\r};\rcbbFilter.on('change', function () {\rdoFilter();\r});\rlet timer;\rtxtSearch.on('keydown', function () {\rclearTimeout(timer);\rtimer = setTimeout(doFilter, 200);\r});\r\n};\r\n","import CLASS_NAMES from '../constants/classNames';\r\nimport generateId from '../utils/generateId';\rexport default function (type, title, previewUrl, categories, content, extraData) {\rlet self = this;\rlet options = self.options;\rlet snippetId = generateId();\rlet snippetPreviewHtml = `\r<section\rclass=\"${CLASS_NAMES.UI} ${CLASS_NAMES.SNIPPET} ${type === 'container' ? CLASS_NAMES.SNIPPET_CONTAINER : CLASS_NAMES.SNIPPET_COMPONENT}\"\rdata-snippet=\"#${snippetId}\"\rdata-type=\"${type}\"\rdata-keditor-title=\"${title}\"\rdata-keditor-categories=\"${categories}\"\r>\r<span class=\"${CLASS_NAMES.SNIPPET_INNER}\">\r<span class=\"${CLASS_NAMES.SNIPPET_PREVIEW}\" style=\"background-image: url('${previewUrl}')\"></span>\r<span class=\"${CLASS_NAMES.SNIPPET_TITLE}\" title=\"${title}\">${title}</span>\r<span class=\"${CLASS_NAMES.SNIPPET_ADD} ${CLASS_NAMES.BTN} ${CLASS_NAMES.BTN_PRIMARY}\" title=\"${title}\"><i class=\"fa fa-plus\"></i> Add</span>\r</span>\r</section>\r`;\rlet snippetContentHtml = `<script id=\"${snippetId}\" type=\"text/html\" ${extraData.join(' ')}>${content}</script>`;\rcategories = categories.split(options.snippetsCategoriesSeparator);\rif (type === 'container') {\rself.categoryContainer = self.categoryContainer.concat(categories);\r} else if (type.indexOf('component') !== -1) {\rself.categoryComponent = self.categoryComponent.concat(categories);\r}\rreturn [\rsnippetPreviewHtml,\rsnippetContentHtml\r];\r\n};\r\n","import CLASS_NAMES from '../constants/classNames';\rexport default function () {\rlet self = this;\rlet modal = self.modal;\rlet categoriesOptions = `<option value=\"\" selected=\"selected\">All</option>`;\r$.each(self.categoryComponent, function (i, category) {\rcategoriesOptions += `<option value=\"${category}\" class=\"${CLASS_NAMES.SNIPPETS_FILTER_COMPONENT}\">${category}</option>`;\r});\r$.each(self.categoryContainer, function (i, category) {\rlet isDuplicateWithComponent = $.inArray(category, self.categoryComponent) !== -1;\rcategoriesOptions += `<option value=\"${category}\" class=\"${CLASS_NAMES.SNIPPETS_FILTER_CONTAINER} ${isDuplicateWithComponent ? CLASS_NAMES.STATE_DUPLICATED : ''}\">${category}</option>`;\r});\rreturn [\rcategoriesOptions,\rmodal.find(`.${CLASS_NAMES.MODAL_HEADER}`)\r];\r\n};\r\n","import renderSnippet from './renderSnippet';\r\nimport CLASS_NAMES from '../constants/classNames';\r\nimport beautifyCategories from '../utils/beautifyCategories';\rexport default function (resp) {\rlet self = this;\rlet snippetsContentHtml = '';\rlet snippetsHtml = '';\r$(resp).filter('div').each(function () {\rlet snippet = $(this);\rlet content = snippet.html().trim();\rlet previewUrl = snippet.attr('data-preview');\rlet type = snippet.attr('data-type');\rlet title = snippet.attr('data-keditor-title');\rlet categories = snippet.attr('data-keditor-categories') || '';\rlet dataAttributes = self.getDataAttributes(snippet, ['data-preview', 'data-type', 'data-keditor-title', 'data-keditor-categories'], true);\rlet [\rsnippetPreviewHtml,\rsnippetContentHtml\r] = renderSnippet.call(self, type, title, previewUrl, categories, content, dataAttributes);\rsnippetsHtml += snippetPreviewHtml;\rsnippetsContentHtml += snippetContentHtml;\r});\rself.categoryContainer = beautifyCategories(self.categoryContainer);\rself.categoryComponent = beautifyCategories(self.categoryComponent);\rself.modal.find(`.${CLASS_NAMES.SNIPPETS}`).html(snippetsHtml);\rself.modal.find(`.${CLASS_NAMES.MODAL_BODY}`).append(snippetsContentHtml);\r\n};\r\n","import CLASS_NAMES from '../constants/classNames';\rexport default function () {\rlet self = this;\rlet topbarCenter = self.topbarCenter;\rlet options = self.options;\rlet btnMobile = $(`\r<a href=\"javascript:void(0);\" title=\"View on mobile\" class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.TOPBAR_BUTTON}\">\r<i class=\"fa fa-fw fa-mobile\"></i>\r</a>\r`);\rbtnMobile.on('click', function (e) {\re.preventDefault();\rtopbarCenter.find(`.${CLASS_NAMES.STATE_ACTIVE}`).removeClass(CLASS_NAMES.STATE_ACTIVE);\rself.iframeWrapper.css('width', options.widthMobile);\rbtnMobile.addClass(CLASS_NAMES.STATE_ACTIVE);\r});\rlet btnTablet = $(`\r<a href=\"javascript:void(0);\" title=\"View on tablet\" class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.TOPBAR_BUTTON}\">\r<i class=\"fa fa-fw fa-tablet\"></i>\r</a>\r`);\rbtnTablet.on('click', function (e) {\re.preventDefault();\rtopbarCenter.find(`.${CLASS_NAMES.STATE_ACTIVE}`).removeClass(CLASS_NAMES.STATE_ACTIVE);\rself.iframeWrapper.css('width', options.widthTablet);\rbtnTablet.addClass(CLASS_NAMES.STATE_ACTIVE);\r});\rlet btnDesktop = $(`\r<a href=\"javascript:void(0);\" title=\"View on desktop\" class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.TOPBAR_BUTTON} ${CLASS_NAMES.STATE_ACTIVE}\">\r<i class=\"fa fa-fw fa-desktop\"></i>\r</a>\r`);\rbtnDesktop.on('click', function (e) {\re.preventDefault();\rtopbarCenter.find(`.${CLASS_NAMES.STATE_ACTIVE}`).removeClass(CLASS_NAMES.STATE_ACTIVE);\rself.iframeWrapper.css('width', '');\rbtnDesktop.addClass(CLASS_NAMES.STATE_ACTIVE);\r});\rtopbarCenter.append(btnMobile);\rtopbarCenter.append(btnTablet);\rtopbarCenter.append(btnDesktop);\r\n};\r\n","import CLASS_NAMES from '../constants/classNames';\r\nimport 'jquery.fullscreen';\rexport default function () {\rlet self = this;\rlet btnFullscreen = $(`<a href=\"javascript:void(0);\" title=\"Fullscreen OFF\" class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.TOPBAR_BUTTON}\"><i class=\"fa fa-fw fa-expand\"></i></a>`);\rbtnFullscreen.on('click', function (e) {\re.preventDefault();\r$.fullscreen.isFullScreen() ? $.fullscreen.exit() : self.wrapper.fullscreen();\r});\r$(document).on('fscreenchange', function (e, isFullScreen) {\rbtnFullscreen.find('i').attr('class', isFullScreen ? 'fa fa-fw fa-compress' : 'fa fa-fw fa-expand');\rbtnFullscreen.attr('title', isFullScreen ? 'Fullscreen ON' : 'Fullscreen OFF');\r});\rthis.topbarRight.append(btnFullscreen);\r\n}\r\n","import CLASS_NAMES from '../constants/classNames';\r\nimport initDynamicContent from '../component/initDynamicContent';\r\nimport getContent from '../getContent';\rexport default function () {\rlet self = this;\rlet btnPreview = $(`<a href=\"javascript:void(0);\" title=\"Preview OFF\" class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.TOPBAR_BUTTON}\"><i class=\"fa fa-fw fa-eye-slash\"></i></a>`);\rself.previewArea = $(`<div class=\"${CLASS_NAMES.PREVIEW_AREA}\"></div>`);\rself.contentAreasWrapper.after(self.previewArea);\rbtnPreview.on('click', function (e) {\re.preventDefault();\rlet isPreviewOn = btnPreview.hasClass(CLASS_NAMES.STATE_ACTIVE);\rbtnPreview.find('i').attr('class', isPreviewOn ? 'fa fa-fw fa-eye-slash' : 'fa fa-fw fa-eye');\rbtnPreview[isPreviewOn ? 'removeClass' : 'addClass'](CLASS_NAMES.STATE_ACTIVE);\rbtnPreview.attr('title', isPreviewOn ? 'Preview OFF' : 'Preview ON');\rself.iframeBody[isPreviewOn ? 'removeClass' : 'addClass'](CLASS_NAMES.STATE_PREVIEWING);\r!isPreviewOn && self.previewArea.html(getContent.call(self)).find('[data-dynamic-href]').each(function () {\rlet dynamicElement = $(this);\rdynamicElement.html('Loading...');\rinitDynamicContent.call(self, dynamicElement);\r});\r});\rself.topbarRight.append(btnPreview);\r\n};\r\n","import CLASS_NAMES from '../constants/classNames';\r\nimport getContent from '../getContent';\rexport default function () {\rlet self = this;\rlet options = self.options;\rlet btnSave = $(`<a href=\"javascript:void(0);\" title=\"Save\" class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.TOPBAR_BUTTON}\"><i class=\"fa fa-fw fa-save\"></i></a>`);\rbtnSave.on('click', function (e) {\re.preventDefault();\rlet content = getContent.call(self);\rtypeof options.onSave === 'function' && options.onSave.call(self, content);\r});\rself.topbarRight.append(btnSave);\r\n};\r\n","import CLASS_NAMES from '../constants/classNames';\r\nimport generateId from '../utils/generateId';\r\nimport initDeviceSwitcher from './initDeviceSwitcher';\r\nimport initTopbarRightActions from './initTopbarRightActions';\rexport default function () {\rlet self = this;\rlet topbarId = generateId();\rlet options = self.options;\rself.topbar = $(`\r<div class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.TOPBAR}\" id=\"${topbarId}\">\r<div class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.TOPBAR_LEFT}\">\r<div class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.TOPBAR_TITLE}\" title=\"${options.title}\">${options.title}</div>\r</div>\r<div class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.TOPBAR_CENTER}\">\r</div>\r<div class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.TOPBAR_RIGHT}\">\r</div>\r</div>\r`);\rself.topbarLeft = self.topbar.find(`.${CLASS_NAMES.TOPBAR_LEFT}`);\rself.topbarCenter = self.topbar.find(`.${CLASS_NAMES.TOPBAR_CENTER}`);\rself.topbarRight = self.topbar.find(`.${CLASS_NAMES.TOPBAR_RIGHT}`);\rself.topbar.appendTo(self.wrapper);\rinitDeviceSwitcher.call(self);\rinitTopbarRightActions.call(self);\r\n};\r\n","import initPreviewAction from './initPreviewAction';\r\nimport initFullscreenAction from './initFullscreenAction';\r\nimport initSaveAction from './initSaveAction';\rexport default function () {    \rinitPreviewAction.apply(this);\rinitFullscreenAction.apply(this);\rinitSaveAction.apply(this);\r\n};\r\n","export default function (categories) {\rlet newArray = [];\rfor (let i = 0; i < categories.length; i++) {\rlet category = categories[i] || '';\rif (category !== '' && $.inArray(category, newArray) === -1) {\rnewArray.push(category);\r}\r}\rreturn newArray.sort();\r\n};\r\n","export default function () {\rlet timestamp = (new Date()).getTime();\rlet random = Math.round(Math.random() * 9876543210);\rreturn `keditor-ui-${timestamp}${random}`;\r\n};\r\n","import TOOLBAR_TYPE from '../constants/toolbarType';\r\nimport CLASS_NAMES from '../constants/classNames';\rexport default function (type, isComponentConfigurable) {\rlet self = this;\rlet options = self.options;\rlet settingBtn = '';\rif (!options.explicitSnippetEnabled) {\rlet toolbarClass = '';\rswitch (type) {\rcase TOOLBAR_TYPE.CONTENT_AREA:\rtoolbarClass = CLASS_NAMES.CONTENT_AREA_TOOLBAR;\rcase TOOLBAR_TYPE.CONTAINER_CONTENT:\rcase TOOLBAR_TYPE.SUB_CONTAINER_CONTENT:\rtoolbarClass = CLASS_NAMES.CONTAINER_CONTENT_TOOLBAR;\rreturn (`\r<div class=\"${CLASS_NAMES.UI} ${toolbarClass}\">\r<a href=\"javascript:void(0)\" class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.BTN} ${CLASS_NAMES.BTN_DEFAULT} ${CLASS_NAMES.ADD_CONTENT}\" title=\"Add content\">${options.btnAddContentText}</a>\r</div>\r`);\rdefault:\r// Do nothing\r}\r}\rswitch (type) {\rcase  TOOLBAR_TYPE.CONTENT_AREA:\rreturn (`\r<div class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.CONTENT_AREA_TOOLBAR}\">\r<a href=\"javascript:void(0)\" class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.BTN} ${CLASS_NAMES.BTN_DEFAULT} ${CLASS_NAMES.ADD_CONTAINER}\" title=\"Add container\">${options.btnAddContainerText}</a>\r</div>\r`);\rcase  TOOLBAR_TYPE.CONTAINER:\rif (options.containerSettingEnabled === true) {\rsettingBtn = `<a href=\"javascript:void(0);\" class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.CONTAINER_SETTING}\">${options.btnSettingContainerText}</a>`;\r}\rreturn (`\r<div class=\"${CLASS_NAMES.TOOLBAR} ${CLASS_NAMES.TOOLBAR_CONTAINER}\">\r<a href=\"javascript:void(0);\" class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.CONTAINER_REPOSITION}\">${options.btnMoveContainerText}</a>\r${settingBtn}\r<a href=\"javascript:void(0);\" class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.CONTAINER_DUPLICATE}\">${options.btnDuplicateContainerText}</a>\r<a href=\"javascript:void(0);\" class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.CONTAINER_DELETE}\">${options.btnDeleteContainerText}</a>\r</div>\r`);\rcase  TOOLBAR_TYPE.SUB_CONTAINER:\rif (options.containerSettingEnabled === true) {\rsettingBtn = `<a href=\"javascript:void(0);\" class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.CONTAINER_SETTING}\">${options.btnSettingContainerText}</a>`;\r}\rreturn (`\r<div class=\"${CLASS_NAMES.TOOLBAR} ${CLASS_NAMES.TOOLBAR_CONTAINER} ${CLASS_NAMES.TOOLBAR} ${CLASS_NAMES.TOOLBAR_SUB_CONTAINER}\">\r<a href=\"javascript:void(0);\" class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.CONTAINER_REPOSITION}\">${options.btnMoveContainerText}</a>\r${settingBtn}\r<a href=\"javascript:void(0);\" class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.CONTAINER_DUPLICATE}\">${options.btnDuplicateContainerText}</a>\r<a href=\"javascript:void(0);\" class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.CONTAINER_DELETE}\">${options.btnDeleteContainerText}</a>\r</div>\r`);\rcase  TOOLBAR_TYPE.CONTAINER_CONTENT:\rreturn (`\r<div class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.CONTAINER_CONTENT_TOOLBAR} ${CLASS_NAMES.BTN_GROUP}\">\r<a href=\"javascript:void(0)\" class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.BTN} ${CLASS_NAMES.BTN_DEFAULT} ${CLASS_NAMES.ADD_CONTAINER}\" title=\"Add sub-container\">${options.btnAddSubContainerText}</a>\r<a href=\"javascript:void(0)\" class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.BTN} ${CLASS_NAMES.BTN_DEFAULT} ${CLASS_NAMES.ADD_COMPONENT}\" title=\"Add component\">${options.btnAddComponentText}</a>\r</div>\r`);\rcase  TOOLBAR_TYPE.SUB_CONTAINER_CONTENT:\rreturn (`\r<div class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.CONTAINER_CONTENT_TOOLBAR}\">\r<a href=\"javascript:void(0)\" class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.BTN} ${CLASS_NAMES.BTN_DEFAULT} ${CLASS_NAMES.ADD_COMPONENT}\" title=\"Add component\">${options.btnAddComponentText}</a>\r</div>\r`);\rcase  TOOLBAR_TYPE.COMPONENT:\rif (isComponentConfigurable) {\rsettingBtn = `<a href=\"javascript:void(0);\" class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.COMPONENT_SETTING}\">${options.btnSettingComponentText}</a>`;\r}\rreturn (`\r<div class=\"${CLASS_NAMES.TOOLBAR} ${CLASS_NAMES.TOOLBAR_COMPONENT}\">\r<a href=\"javascript:void(0);\" class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.COMPONENT_REPOSITION}\">${options.btnMoveComponentText}</a>\r${settingBtn}\r<a href=\"javascript:void(0);\" class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.COMPONENT_DUPLICATE}\">${options.btnDuplicateComponentText}</a>\r<a href=\"javascript:void(0);\" class=\"${CLASS_NAMES.UI} ${CLASS_NAMES.COMPONENT_DELETE}\">${options.btnDeleteComponentText}</a>\r</div>\r`);\rdefault:\r// Do nothing\r}\r\n};\r\n","export default function (event, selector) {\rlet target = $(event.target);\rlet closest = target.closest(selector);\rif (target.is(selector)) {\rreturn target;\r} else if (closest.length > 0) {\rreturn closest;\r} else {\rreturn null;\r}\r\n};\r\n","export default function (target, ignoreAttributes, isArray) {\rlet dataAttributes = isArray ? [] : {};\rif (!ignoreAttributes) {\rignoreAttributes = [];\r}\r$.each(target.get(0).attributes, function (i, attr) {\rif (attr.name.indexOf('data-') === 0 && $.inArray(attr.name, ignoreAttributes) === -1) {\rif (isArray) {\rdataAttributes.push(`${attr.name}=\"${attr.value}\"`);\r} else {\rdataAttributes[attr.name] = attr.value;\r}\r}\r});\rreturn dataAttributes;\r\n};\r\n","import CLASS_NAMES from '../constants/classNames';\rexport default function (iframe, wrapper) {\rif (!wrapper) {\riframe.wrap(`<div class=\"${CLASS_NAMES.IFRAME_COVER_WRAPPER_FAKE}\"></div>`);\rwrapper = iframe.parent();\r}\rwrapper.addClass(`${CLASS_NAMES.IFRAME_COVER_WRAPPER}`);\rlet cover = $(`<div class=\"${CLASS_NAMES.IFRAME_COVER}\"></div>`);\rwrapper.prepend(cover);\rwrapper.on('mouseleave', function () {\rwrapper.removeClass(`${CLASS_NAMES.IFRAME_COVER_HIDDEN}`);\r});\rcover.on('dblclick', function (e) {\re.preventDefault();\rwrapper.addClass(`${CLASS_NAMES.IFRAME_COVER_HIDDEN}`);\r});\r\n};\r\n","// extracted by mini-css-extract-plugin","module.exports = __WEBPACK_EXTERNAL_MODULE_jquery__;"],"sourceRoot":""}