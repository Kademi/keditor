/**!
 * KEditor - Kademi content editor
 * @copyright: Kademi (http://kademi.co)
 * @author: Kademi (http://kademi.co)
 * @version: 1.1.5
 * @dependencies: $, $.fn.draggable, $.fn.droppable, $.fn.sortable, Bootstrap (optional), FontAwesome (optional)
 */
!function(t){var o=t.keditor,i=o.log;o.components.photo={init:function(t,o,n,e){i('init "photo" component',n);var s=n.children(".keditor-component-content"),l=s.find("img");l.css("display","inline-block")},settingEnabled:!0,settingTitle:"Photo Settings",initSettingForm:function(t,o){i('initSettingForm "photo" component');var n=this,e=o.options;t.append('<form class="form-horizontal">   <div class="form-group">       <div class="col-sm-12">           <button type="button" class="btn btn-block btn-primary" id="photo-edit">Change Photo</button>           <input type="file" style="display: none" />       </div>   </div>   <div class="form-group">       <label for="photo-align" class="col-sm-12">Align</label>       <div class="col-sm-12">           <select id="photo-align" class="form-control">               <option value="left">Left</option>               <option value="center">Center</option>               <option value="right">Right</option>           </select>       </div>   </div>   <div class="form-group">       <label for="photo-style" class="col-sm-12">Style</label>       <div class="col-sm-12">           <select id="photo-style" class="form-control">               <option value="">None</option>               <option value="img-rounded">Rounded</option>               <option value="img-circle">Circle</option>               <option value="img-thumbnail">Thumbnail</option>           </select>       </div>   </div>   <div class="form-group">       <label for="photo-responsive" class="col-sm-12">Responsive</label>       <div class="col-sm-12">           <input type="checkbox" id="photo-responsive" />       </div>   </div>   <div class="form-group">       <label for="photo-width" class="col-sm-12">Width</label>       <div class="col-sm-12">           <input type="number" id="photo-width" class="form-control" />       </div>   </div>   <div class="form-group">       <label for="photo-height" class="col-sm-12">Height</label>       <div class="col-sm-12">           <input type="number" id="photo-height" class="form-control" />       </div>   </div></form>');var s=t.find("#photo-edit"),l=s.next();s.on("click",function(t){t.preventDefault(),l.trigger("click")}),l.on("change",function(){var t=this.files[0];if(/image/.test(t.type)){var i=o.getSettingComponent().find("img");i.attr("src",URL.createObjectURL(t)),i.css({width:"",height:""}),i.load(function(){o.showSettingPanel(o.getSettingComponent(),e)})}else alert("Your selected file is not photo!")});var a=t.find("#photo-align");a.on("change",function(){var t=o.getSettingComponent().find(".photo-panel");t.css("text-align",this.value)});var h=t.find("#photo-responsive");h.on("click",function(){o.getSettingComponent().find("img")[this.checked?"addClass":"removeClass"]("img-responsive")});var c=t.find("#photo-style");c.on("change",function(){var t=o.getSettingComponent().find("img"),i=this.value;t.removeClass("img-rounded img-circle img-thumbnail"),i&&t.addClass(i)});var r=t.find("#photo-width"),d=t.find("#photo-height");r.on("change",function(){var t=o.getSettingComponent().find("img"),i=+this.value,e=Math.round(i/n.ratio);i<=0&&(i=n.width,e=n.height,this.value=i),t.css({width:i,height:e}),d.val(e)}),d.on("change",function(){var t=o.getSettingComponent().find("img"),i=+this.value,e=Math.round(i*n.ratio);i<=0&&(e=n.width,i=n.height,this.value=i),t.css({height:i,width:e}),r.val(e)})},showSettingForm:function(o,n,e){i('showSettingForm "photo" component',n);var s=this,l=o.find("#photo-align"),a=o.find("#photo-responsive"),h=o.find("#photo-width"),c=o.find("#photo-height"),r=o.find("#photo-style"),d=n.find(".photo-panel"),p=d.find("img"),g=d.css("text-align");"right"===g&&"center"===g||(g="left"),p.hasClass("img-rounded")?r.val("img-rounded"):p.hasClass("img-circle")?r.val("img-circle"):p.hasClass("img-thumbnail")?r.val("img-thumbnail"):r.val(""),l.val(g),a.prop("checked",p.hasClass("img-responsive")),h.val(p.width()),c.val(p.height()),t("<img />").attr("src",p.attr("src")).load(function(){s.ratio=this.width/this.height,s.width=this.width,s.height=this.height})}}}(jQuery);
//# sourceMappingURL=keditor-component-photo-1.1.5.min.js.map
