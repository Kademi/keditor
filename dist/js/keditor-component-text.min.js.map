{"version":3,"sources":["keditor-component-text.js"],"names":["$","KEditor","keditor","flog","log","CKEDITOR","disableAutoInline","components","options","toolbarGroups","name","groups","title","allowedContent","bodyId","templates_replaceContent","enterMode","forceEnterMode","format_tags","removePlugins","removeButtons","minimumChangeMilliseconds","init","contentArea","container","component","self","this","componentContent","children","prop","on","e","onComponentChanged","call","onContainerChanged","onContentChanged","editor","ckeditor","onComponentReady","getContent","find","id","attr","instances","getData","html","destroy","jQuery"],"mappings":"CAAA,SAAWA,GACP,GAAIC,GAAUD,EAAEE,QACZC,EAAOF,EAAQG,GAEnBC,UAASC,mBAAoB,EAI7BL,EAAQM,WAAiB,MACrBC,SACIC,gBACKC,KAAM,WAAYC,QAAS,OAAQ,WAAY,cAC/CD,KAAM,UAAWC,QAAS,OAAQ,YAAa,eAAgB,aAC/DD,KAAM,QAASC,QAAS,WACxBD,KAAM,cAAeC,QAAS,cAAe,aAC7CD,KAAM,YAAaC,QAAS,OAAQ,SAAU,SAAU,QAAS,OAAQ,eACzED,KAAM,QAASC,QAAS,WACxBD,KAAM,SAAUC,QAAS,WAC1B,KACCD,KAAM,YAAaC,QAAS,YAAa,UACzCD,KAAM,SAAUC,QAAS,YACzBD,KAAM,SAAUC,QAAS,YACzBD,KAAM,QAASC,QAAS,WACxBD,KAAM,SAAUC,QAAS,YAE9BC,OAAO,EACPC,gBAAgB,EAChBC,OAAQ,SACRC,0BAA0B,EAC1BC,UAAW,IACXC,gBAAgB,EAChBC,YAAa,sBACbC,cAAe,6BACfC,cAAe,iXACfC,0BAA2B,KAG/BC,KAAM,SAAUC,EAAaC,EAAWC,EAAWvB,GAC/CC,EAAK,wBAAyBsB,EAE9B,IAAIC,GAAOC,KACPnB,EAAUN,EAAQM,QAElBoB,EAAmBH,EAAUI,SAAS,6BAC1CD,GAAiBE,KAAK,mBAAmB,GAEzCF,EAAiBG,GAAG,QAAS,SAAUC,GACO,kBAA/BxB,GAAQyB,oBACfzB,EAAQyB,mBAAmBC,KAAKX,EAAaS,EAAGP,GAGV,kBAA/BjB,GAAQ2B,oBACf3B,EAAQ2B,mBAAmBD,KAAKX,EAAaS,EAAGR,GAGZ,kBAA7BhB,GAAQ4B,kBACf5B,EAAQ4B,iBAAiBF,KAAKX,EAAaS,IAInD,IAAIK,GAAST,EAAiBU,SAASZ,EAAKlB,SAAS6B,MACrDA,GAAON,GAAG,gBAAiB,WACvB5B,EAAK,oBAAqBsB,GAEc,kBAA7BjB,GAAQ+B,kBACf/B,EAAQ+B,iBAAiBL,KAAKX,EAAaE,EAAWY,MAKlEG,WAAY,SAAUf,EAAWvB,GAC7BC,EAAK,8BAA+BsB,EAEpC,IAAIG,GAAmBH,EAAUgB,KAAK,8BAClCC,EAAKd,EAAiBe,KAAK,MAC3BN,EAAShC,SAASuC,UAAUF,EAChC,OAAIL,GACOA,EAAOQ,UAEPjB,EAAiBkB,QAIhCC,QAAS,SAAUtB,EAAWvB,GAC1BC,EAAK,2BAA4BsB,EAEjC,IAAIiB,GAAKjB,EAAUgB,KAAK,8BAA8BE,KAAK,MACvDN,EAAShC,SAASuC,UAAUF,EAC5BL,IACAA,EAAOU,aAKpBC","file":"keditor-component-text.min.js","sourcesContent":["(function ($) {\n    var KEditor = $.keditor;\n    var flog = KEditor.log;\n\n    CKEDITOR.disableAutoInline = true;\n\n    // Text component\n    // ---------------------------------------------------------------------\n    KEditor.components['text'] = {\n        options: {\n            toolbarGroups: [\n                {name: 'document', groups: ['mode', 'document', 'doctools']},\n                {name: 'editing', groups: ['find', 'selection', 'spellchecker', 'editing']},\n                {name: 'forms', groups: ['forms']},\n                {name: 'basicstyles', groups: ['basicstyles', 'cleanup']},\n                {name: 'paragraph', groups: ['list', 'indent', 'blocks', 'align', 'bidi', 'paragraph']},\n                {name: 'links', groups: ['links']},\n                {name: 'insert', groups: ['insert']},\n                '/',\n                {name: 'clipboard', groups: ['clipboard', 'undo']},\n                {name: 'styles', groups: ['styles']},\n                {name: 'colors', groups: ['colors']},\n                {name: 'tools', groups: ['tools']},\n                {name: 'others', groups: ['others']},\n            ],\n            title: false,\n            allowedContent: true, // DISABLES Advanced Content Filter. This is so templates with classes: allowed through\n            bodyId: 'editor',\n            templates_replaceContent: false,\n            enterMode: 'P',\n            forceEnterMode: true,\n            format_tags: 'p;h1;h2;h3;h4;h5;h6',\n            removePlugins: 'table,magicline,tabletools',\n            removeButtons: 'Save,NewPage,Preview,Print,Templates,PasteText,PasteFromWord,Find,Replace,SelectAll,Scayt,Form,HiddenField,ImageButton,Button,Select,Textarea,TextField,Radio,Checkbox,Outdent,Indent,Blockquote,CreateDiv,Language,Table,HorizontalRule,Smiley,SpecialChar,PageBreak,Iframe,Styles,BGColor,Maximize,About,ShowBlocks,BidiLtr,BidiRtl,Flash,Image,Subscript,Superscript,Anchor',\n            minimumChangeMilliseconds: 100\n        },\n\n        init: function (contentArea, container, component, keditor) {\n            flog('init \"text\" component', component);\n\n            var self = this;\n            var options = keditor.options;\n\n            var componentContent = component.children('.keditor-component-content');\n            componentContent.prop('contenteditable', true);\n\n            componentContent.on('input', function (e) {\n                if (typeof options.onComponentChanged === 'function') {\n                    options.onComponentChanged.call(contentArea, e, component);\n                }\n\n                if (typeof options.onContainerChanged === 'function') {\n                    options.onContainerChanged.call(contentArea, e, container);\n                }\n\n                if (typeof options.onContentChanged === 'function') {\n                    options.onContentChanged.call(contentArea, e);\n                }\n            });\n\n            var editor = componentContent.ckeditor(self.options).editor;\n            editor.on('instanceReady', function () {\n                flog('CKEditor is ready', component);\n\n                if (typeof options.onComponentReady === 'function') {\n                    options.onComponentReady.call(contentArea, component, editor);\n                }\n            });\n        },\n\n        getContent: function (component, keditor) {\n            flog('getContent \"text\" component', component);\n\n            var componentContent = component.find('.keditor-component-content');\n            var id = componentContent.attr('id');\n            var editor = CKEDITOR.instances[id];\n            if (editor) {\n                return editor.getData();\n            } else {\n                return componentContent.html();\n            }\n        },\n\n        destroy: function (component, keditor) {\n            flog('destroy \"text\" component', component);\n\n            var id = component.find('.keditor-component-content').attr('id');\n            var editor = CKEDITOR.instances[id];\n            if (editor) {\n                editor.destroy();\n            }\n        }\n    };\n\n})(jQuery);\n"]}